{
  "title": "函数后面加一个const的作用",
  "cells": [
    {
      "type": "text",
      "data": "<embed id=\"xunlei_com_thunder_helper_plugin_d462f475-c18e-46be-bd10-327458d045bd\" type=\"application/thunder_download_plugin\" height=\"0\" width=\"0\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">声明一个成员函数的时候用</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"color: rgb(50, 62, 50); word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">const</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">关键字是用来说明这个函数是</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; font-size: 16px;\">&nbsp;</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"color: rgb(50, 62, 50); word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">\"</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">只读</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"color: rgb(50, 62, 50); word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">(read-only)\"</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">函数，也就是说明这个函数不会修改任何数据成员</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"color: rgb(50, 62, 50); word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">(object)</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">。</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; font-size: 16px;\">&nbsp;</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">为了声明一个</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"color: rgb(50, 62, 50); word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">const</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">成员函数，</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; font-size: 16px;\">&nbsp;</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">把</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"color: rgb(50, 62, 50); word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">const</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">关键字放在函数括号的后面。声明和定义的时候都应该放</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"color: rgb(50, 62, 50); word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">const</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">关键字。</span><p style=\"word-wrap: normal; margin: 0px 0px 5px; padding: 0px; font-size: 16px; border: 0px; list-style: none; word-break: normal; line-height: 19.5pt; color: rgb(50, 62, 50); font-family: simsun;\"><span style=\"word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">任何不会修改数据成员的函数都应该声明为</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">const</span><span style=\"word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">类型。如果在编写</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">const</span><span style=\"word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">成员函数时，不慎修改了数据成员，或者调用了其它非</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 19px; font-family: Arial, sans-serif; font-size: 10pt;\">const</span><span style=\"word-wrap: normal; word-break: normal; line-height: 19px; font-size: 10pt;\">成员函数，编译器将指出错误，这无疑会提高程序的健壮性。</span></p><p style=\"word-wrap: normal; margin: 0px 0px 5px; padding: 0px; font-size: 16px; border: 0px; list-style: none; word-break: normal; line-height: 19.5pt; color: rgb(50, 62, 50); font-family: simsun;\"><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-family: Arial, sans-serif; font-size: 10.5pt;\">#include&nbsp;<iostream.h style=\"word-wrap: break-word;\"><br style=\"word-wrap: break-word;\">class temp<br style=\"word-wrap: break-word;\">{<br style=\"word-wrap: break-word;\">public:<br style=\"word-wrap: break-word;\">temp(int age);<br style=\"word-wrap: break-word;\">int getAge()&nbsp;<font face=\"Arial\" style=\"word-wrap: normal; word-break: normal;\"><span style=\"word-wrap: normal; word-break: normal; color: red;\">const</span>;<br style=\"word-wrap: break-word;\">void setNum(int num);<br style=\"word-wrap: break-word;\">private:<br style=\"word-wrap: break-word;\">int age;<br style=\"word-wrap: break-word;\">};</font></iostream.h></span></p><p style=\"word-wrap: normal; margin: 0px 0px 5px; padding: 0px; font-size: 16px; border: 0px; list-style: none; word-break: normal; line-height: 19.5pt; color: rgb(50, 62, 50); font-family: simsun;\"><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-family: Arial, sans-serif; font-size: 10.5pt;\">temp::temp(int age)<br style=\"word-wrap: break-word;\">{<br style=\"word-wrap: break-word;\">this-&gt;age = age;<br style=\"word-wrap: break-word;\">}</span></p><p style=\"word-wrap: normal; margin: 0px 0px 5px; padding: 0px; font-size: 16px; border: 0px; list-style: none; word-break: normal; line-height: 19.5pt; color: rgb(50, 62, 50); font-family: simsun;\"><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-family: Arial, sans-serif; font-size: 10.5pt;\">int temp::getAge()&nbsp;<font face=\"Arial\" style=\"word-wrap: normal; word-break: normal;\"><span style=\"word-wrap: normal; word-break: normal; color: red;\">const<br style=\"word-wrap: break-word;\"></span>{<br style=\"word-wrap: break-word;\"></font><font face=\"Arial\" style=\"word-wrap: normal; word-break: normal;\"><span style=\"word-wrap: normal; word-break: normal; color: red;\">age+=10; // #Error...error C2166: l-value specifies const object #<br style=\"word-wrap: break-word;\"></span>return age;<br style=\"word-wrap: break-word;\">}</font></span></p><p style=\"word-wrap: normal; margin: 0px 0px 5px; padding: 0px; font-size: 16px; border: 0px; list-style: none; word-break: normal; line-height: 19.5pt; color: rgb(50, 62, 50); font-family: simsun;\"><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-family: Arial, sans-serif; font-size: 10.5pt;\">void main()<br style=\"word-wrap: break-word;\">{<br style=\"word-wrap: break-word;\">temp a(22);<br style=\"word-wrap: break-word;\">cout &lt;&lt; \"age= \" &lt;&lt; a.getAge() &lt;&lt; endl;<br style=\"word-wrap: break-word;\">}</span></p><p style=\"word-wrap: normal; margin: 0px 0px 5px; padding: 0px; font-size: 16px; border: 0px; list-style: none; word-break: normal; line-height: 19.5pt; color: rgb(50, 62, 50); font-family: simsun;\"><span style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-size: 10.5pt;\">因为声明了</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-family: Arial, sans-serif; font-size: 10.5pt;\">const</span><span style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-size: 10.5pt;\">函数，所以不可以修改任何数据成员，但是在这里给</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-family: Arial, sans-serif; font-size: 10.5pt;\">age</span><span style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-size: 10.5pt;\">数据成员加了</span><span lang=\"EN-US\" xml:lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-family: Arial, sans-serif; font-size: 10.5pt;\">10</span><span style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-size: 10.5pt;\">，</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal; line-height: 21px; font-size: 10.5pt;\">所以产生错误。</span></p>"
    }
  ]
}
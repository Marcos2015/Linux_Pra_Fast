{
  "title": "C语言产生随机数需要了解的几个函数",
  "cells": [
    {
      "type": "text",
      "data": "<p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">C语言产生随机数是一个常见的编程功能任务，当然这个也不难，调用两三个函数就出来了，但是你知道这些函数具体是起到怎样的作用，并且是它们是如何产生随机数的吗？</p><h4 style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">几个概念</h4><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">随机数：数学上产生的都是伪随机数，真正的随机数使用物理方法产生的。</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">随机数种子：随机数的产生是由算术规则产生的，srand(seed)的随机数种子不同，rand()的随机数值就不同，倘若每次的随机数种子一样，则rand()的值就一样。所以要产生随机数，则srand(seed)的随机数种子必须也要随机的。</p><h4 style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">用srand()产生随机数种子</h4><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">原型：void srand ( unsigned int seed );</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">作用是设置好<a href=\"http://www.nowamagic.net/librarys/veda/tag/%E9%9A%8F%E6%9C%BA%E6%95%B0\" target=\"_blank\">随机数</a>种子，为了让随机数种子是随机的，通常用time(NULL)的值来当seed。</p><h4 style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">用rand()产生随机数</h4><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">原型：int rand ( void );</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">作用是产生一个随机数，当然随机数是有范围的，为0~RAND_MAX之间，随机数与随机数种子有关。具体来说是，在产生随机数 rand()被调用的时候，它会这样执行：</p><ul style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><li>如果用户之前调用过 srand(seed)的话，他会重新调用一遍 srand(seed)以产生随机数种子；</li><li>如果发现没有调用过 srand(seed)的话，会自动调用 srand(1)一次。</li><li>如果调用srand(seed)产生的随机数种子是一样的话(即seed的值相同)，<a href=\"http://www.nowamagic.net/librarys/veda/tag/rand\" target=\"_blank\">rand()</a>产生的随机数也相同。</li></ul><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">所以，如果希望rand()每次调用产生的值都不一样，就需要每次调用srand(seed)一次，而且seed不能相同。这里就是经常采用time(NULL)产生随机数种子的原因。</p><h4 style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">time()用于随机数种子</h4><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">函数原型：time_t time ( time_t * timer );</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">time()函数表示返回1970-1-1 00:00:00 到当前时间的秒数。</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">用的时候这样：srand(unsigned(time(NULL)));例如产生1~10之间的随机整数</p><div class=\"syntaxhighlighter  \" id=\"highlighter_728133\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><div class=\"lines\"><div class=\"line alt1\"><table><tbody><tr><td class=\"number\"><code>01</code></td><td class=\"content\"><code class=\"preprocessor\">#include &lt;stdlib.h&gt;</code></td></tr></tbody></table></div><div class=\"line alt2\"><table><tbody><tr><td class=\"number\"><code>02</code></td><td class=\"content\"><code class=\"preprocessor\">#include &lt;time.h&gt;</code></td></tr></tbody></table></div><div class=\"line alt1\"><table><tbody><tr><td class=\"number\"><code>03</code></td><td class=\"content\">&nbsp;</td></tr></tbody></table></div><div class=\"line alt2\"><table><tbody><tr><td class=\"number\"><code>04</code></td><td class=\"content\"><code class=\"color1 bold\">int</code>&nbsp;<code class=\"plain\">main()</code></td></tr></tbody></table></div><div class=\"line alt1\"><table><tbody><tr><td class=\"number\"><code>05</code></td><td class=\"content\"><code class=\"plain\">{</code></td></tr></tbody></table></div><div class=\"line alt2\"><table><tbody><tr><td class=\"number\"><code>06</code></td><td class=\"content\"><code class=\"spaces\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"functions bold\">srand</code><code class=\"plain\">(</code><code class=\"functions bold\">time</code><code class=\"plain\">(NULL));</code></td></tr></tbody></table></div><div class=\"line alt1\"><table><tbody><tr><td class=\"number\"><code>07</code></td><td class=\"content\"><code class=\"spaces\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"keyword bold\">for</code><code class=\"plain\">(</code><code class=\"color1 bold\">int</code>&nbsp;<code class=\"plain\">i=0;i &lt; 10;i++)</code></td></tr></tbody></table></div><div class=\"line alt2\"><table><tbody><tr><td class=\"number\"><code>08</code></td><td class=\"content\"><code class=\"spaces\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"plain\">{</code></td></tr></tbody></table></div><div class=\"line alt1\"><table><tbody><tr><td class=\"number\"><code>09</code></td><td class=\"content\"><code class=\"spaces\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"color1 bold\">int</code>&nbsp;<code class=\"plain\">randValue=</code><code class=\"functions bold\">rand</code><code class=\"plain\">()%10;</code></td></tr></tbody></table></div><div class=\"line alt2\"><table><tbody><tr><td class=\"number\"><code>10</code></td><td class=\"content\"><code class=\"spaces\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"plain\">}</code></td></tr></tbody></table></div><div class=\"line alt1\"><table><tbody><tr><td class=\"number\"><code>11</code></td><td class=\"content\"><code class=\"plain\">}</code></td></tr></tbody></table></div></div></div><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">上面的程序中要注意srand是在for循环外面的，如果把srand放到for循环里面，则每次产生的随机数都相同。</p>"
    }
  ]
}
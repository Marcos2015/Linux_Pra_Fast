{
  "title": "为CentOS(6.3)添加EPEL软件仓库",
  "cells": [
    {
      "type": "text",
      "data": "<p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">如果既想获得 RHEL 的高质量、高性能、高可靠性，又需要方便易用(关键是免费)的软件包更新功能，那么 Fedora Project 推出的 EPEL(Extra Packages for Enterprise Linux)正好适合你。EPEL(<a href=\"http://fedoraproject.org/wiki/EPEL\">http://fedoraproject.org/wiki/EPEL</a>) 是由 Fedora 社区打造，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">① 安装第三方EPEL软件库</p><pre class=\"prettyprint prettyprinted\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><code class=\"prettyprint\"><span class=\"pln\">rpm </span><span class=\"pun\">-</span><span class=\"pln\">ivh <a href=\"http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\">http</a></span><span class=\"pun\"><a href=\"http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\">:</a></span><span class=\"com\"><a href=\"http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\">//dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</a></span></code></pre><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">② 导入key(不导入的话会出错)</p><pre class=\"prettyprint prettyprinted\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><code class=\"prettyprint\"><span class=\"pln\">rpm </span><span class=\"pun\">--</span><span class=\"kwd\">import</span><span class=\"pln\"> </span><span class=\"pun\">/</span><span class=\"pln\">etc</span><span class=\"pun\">/</span><span class=\"pln\">pki</span><span class=\"pun\">/</span><span class=\"pln\">rpm</span><span class=\"pun\">-</span><span class=\"pln\">gpg</span><span class=\"pun\">/</span><span class=\"pln\">RPM</span><span class=\"pun\">-</span><span class=\"pln\">GPG</span><span class=\"pun\">-</span><span class=\"pln\">KEY</span><span class=\"pun\">-</span><span class=\"pln\">EPEL</span><span class=\"pun\">-</span><span class=\"lit\">6</span></code></pre><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">③ 把服务器的包信息下载到本地电脑缓存起来（这可能会比较慢）</p><pre class=\"prettyprint prettyprinted\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><code class=\"prettyprint\"><span class=\"pln\">yum makecache</span></code></pre><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">④ 安装yum-plugin-priorities 插件</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><span style=\"color: rgb(255, 0, 255);\">这个插件用来保证安装软件时候软件仓库先后次序，一般是默认先从官方base或者镜像安装，然后从社区用户contribute的软件中安装，再从第三方软件仓库中安装。</span></p><pre class=\"prettyprint prettyprinted\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><code class=\"prettyprint\"><span class=\"pln\">yum install yum</span><span class=\"pun\">-</span><span class=\"pln\">plugin</span><span class=\"pun\">-</span><span class=\"pln\">priorities</span></code></pre><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">开启功能：</p><pre class=\"prettyprint prettyprinted\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><code class=\"prettyprint\"><span class=\"pln\">vim </span><span class=\"pun\">/</span><span class=\"pln\">etc</span><span class=\"pun\">/</span><span class=\"pln\">yum</span><span class=\"pun\">/</span><span class=\"pln\">pluginconf</span><span class=\"pun\">.</span><span class=\"pln\">d</span><span class=\"pun\">/</span><span class=\"pln\">priorities</span><span class=\"pun\">.</span><span class=\"pln\">conf</span></code></pre><pre class=\"prettyprint prettyprinted\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><code class=\"prettyprint\"><span class=\"pun\">[</span><span class=\"pln\">main</span><span class=\"pun\">]</span><span class=\"pln\">\nenabled</span><span class=\"pun\">=</span><span class=\"lit\">1</span></code></pre><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">设置优先级规则</p><pre class=\"prettyprint prettyprinted\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><code class=\"prettyprint\"><span class=\"pun\">[</span><span class=\"kwd\">base</span><span class=\"pun\">],</span><span class=\"pln\"> </span><span class=\"pun\">[</span><span class=\"pln\">addons</span><span class=\"pun\">],</span><span class=\"pln\"> </span><span class=\"pun\">[</span><span class=\"pln\">updates</span><span class=\"pun\">],</span><span class=\"pln\"> </span><span class=\"pun\">[</span><span class=\"pln\">extras</span><span class=\"pun\">]</span><span class=\"pln\"> </span><span class=\"pun\">...</span><span class=\"pln\"> priority</span><span class=\"pun\">=</span><span class=\"lit\">1</span><span class=\"pln\">\n </span><span class=\"pun\">[</span><span class=\"pln\">centosplus</span><span class=\"pun\">]</span><span class=\"pln\"> priority</span><span class=\"pun\">=</span><span class=\"lit\">1</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">same priority </span><span class=\"kwd\">as</span><span class=\"pln\"> </span><span class=\"kwd\">base</span><span class=\"pln\"> </span><span class=\"kwd\">and</span><span class=\"pln\"> updates</span><span class=\"pun\">)</span><span class=\"pln\"> but should be left disabled\n </span><span class=\"pun\">[</span><span class=\"pln\">contrib</span><span class=\"pun\">]</span><span class=\"pln\"> </span><span class=\"pun\">...</span><span class=\"pln\"> priority</span><span class=\"pun\">=</span><span class=\"lit\">2</span><span class=\"pln\">\n </span><span class=\"typ\">Third</span><span class=\"pln\"> </span><span class=\"typ\">Party</span><span class=\"pln\"> </span><span class=\"typ\">Repos</span><span class=\"pln\"> </span><span class=\"pun\">...</span><span class=\"pln\"> priority</span><span class=\"pun\">=</span><span class=\"pln\">N  </span><span class=\"pun\">(</span><span class=\"kwd\">where</span><span class=\"pln\"> N </span><span class=\"kwd\">is</span><span class=\"pln\"> </span><span class=\"pun\">&gt;</span><span class=\"pln\"> </span><span class=\"lit\">10</span><span class=\"pln\"> </span><span class=\"kwd\">and</span><span class=\"pln\"> based on your preference</span><span class=\"pun\">)</span></code></pre><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">编辑/etc/yum.repos.d/CentOS-Base.repo 文件，按照上述规则添加。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;然后编辑/etc/yum.repos.d/epel.repo文件，[epel]最后一行添加priority=11，因为priority数字越低，优先级越高。第三方库要低于官方库防止出现冲突等问题，以官方原库为主原则。</p>"
    }
  ]
}
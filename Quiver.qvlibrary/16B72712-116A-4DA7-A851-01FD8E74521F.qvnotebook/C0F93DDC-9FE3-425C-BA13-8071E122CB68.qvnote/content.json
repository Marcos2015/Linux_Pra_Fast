{
  "title": "git-stash用法小结",
  "cells": [
    {
      "type": "text",
      "data": "<h2 id=\"缘起\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">缘起</h2><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">今天在看一个bug，之前一个分支的版本是正常的，在新的分支上上加了很多日志没找到原因，希望回溯到之前的版本，确定下从哪个提交引入的问题，但是还不想把现在的修改提交，也不希望在Git上看到当前修改的版本（带有大量日志和调试信息）。因此呢，查查Git有没有提供类似功能，就找到了<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>的命令。</p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">综合下网上的介绍和资料，<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>（git储藏）可用于以下情形：</p><ul style=\"margin: 0px 0px 0px 30px; padding: 0px; word-break: break-all; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><li style=\"margin: 0px; padding: 0px; list-style: disc;\">发现有一个类是多余的，想删掉它又担心以后需要查看它的代码，想保存它但又不想增加一个脏的提交。这时就可以考虑<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>。</li><li style=\"margin: 0px; padding: 0px; list-style: disc;\">使用git的时候，我们往往使用分支（branch）解决任务切换问题，例如，我们往往会建一个自己的分支去修改和调试代码, 如果别人或者自己发现原有的分支上有个不得不修改的bug，我们往往会把完成一半的代码<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">commit</code>提交到本地仓库，然后切换分支去修改bug，改好之后再切换回来。这样的话往往log上会有大量不必要的记录。其实如果我们不想提交完成一半或者不完善的代码，但是却不得不去修改一个紧急Bug，那么使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>就可以将你当前未提交到本地（和服务器）的代码推入到Git的栈中，这时候你的工作区间和上一次提交的内容是完全一样的，所以你可以放心的修Bug，等到修完Bug，提交到服务器上后，再使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash apply</code>将以前一半的工作应用回来。</li><li style=\"margin: 0px; padding: 0px; list-style: disc;\">经常有这样的事情发生，当你正在进行项目中某一部分的工作，里面的东西处于一个比较杂乱的状态，而你想转到其他分支上进行一些工作。问题是，你不想提交进行了一半的工作，否则以后你无法回到这个工作点。解决这个问题的办法就是<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>命令。储藏(stash)可以获取你工作目录的中间状态——也就是你修改过的被追踪的文件和暂存的变更——并将它保存到一个未完结变更的堆栈中，随时可以重新应用。</li></ul><h2 id=\"git-stash用法\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>用法</h2><h3 id=\"stash当前修改\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">1. stash当前修改</h3><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>会把所有未提交的修改（包括暂存的和非暂存的）都保存起来，用于后续恢复当前工作目录。<br style=\"margin: 0px; padding: 0px;\">比如下面的中间状态，通过<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>命令推送一个新的储藏，当前的工作目录就干净了。</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs sql\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git status\nOn branch master\nChanges to be committed:\n\nnew file:   style.css\n\nChanges not staged for <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">commit</span>:\n\nmodified:   <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span>.html\n\n$ git stash\nSaved working <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">directory</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">and</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span> state WIP <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">on</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">master</span>: <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">5002</span>d47 our <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">new</span> homepage\n<span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">HEAD</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">is</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">now</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">at</span> <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">5002</span>d47 our <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">new</span> homepage\n\n$ git <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">status</span>\n<span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">On</span> branch <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">master</span>\n<span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">nothing</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">to</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">commit</span>, working tree clean</code></pre><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">需要说明一点，stash是本地的，不会通过<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git push</code>命令上传到git server上。<br style=\"margin: 0px; padding: 0px;\">实际应用中推荐给每个stash加一个message，用于记录版本，使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash save</code>取代<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>命令。示例如下：</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs perl\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git stash save <span class=\"hljs-string\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">\"test-cmd-stash\"</span>\nSaved working directory <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">and</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">state</span> On autoswitch: test-cmd-stash\nHEAD 现在位于 <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">296</span>e8d4 remove unnecessary postion <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">reset</span> in onResume function\n$ git stash list\nstash@{0}: On autoswitch: test-cmd-stash\n</code></pre><h3 id=\"重新应用缓存的stash\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">2. 重新应用缓存的stash</h3><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">可以通过<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash pop</code>命令恢复之前缓存的工作目录，输出如下：</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs sql\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git status\nOn branch master\nnothing to <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">commit</span>, working tree clean\n$ git stash pop\n<span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">On</span> branch <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">master</span>\nChanges <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">to</span> be committed:\n\n    <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">new</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">file</span>:   <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">style</span>.css\n\nChanges <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">not</span> staged <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">for</span> <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">commit</span>:\n\n    modified:   <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span>.html\n\nDropped refs/stash@{<span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">0</span>} (<span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">32</span>b3aa1d185dfe6d57b3c3cc3b32cbf3e380cc6a)</code></pre><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">这个指令将缓存堆栈中的第一个stash删除，并将对应修改应用到当前的工作目录下。<br style=\"margin: 0px; padding: 0px;\">你也可以使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash apply</code>命令，将缓存堆栈中的stash多次应用到工作目录中，但并不删除stash拷贝。命令输出如下：</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs delphi\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git stash apply\n<span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">On</span> branch master\nChanges <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">to</span> be committed:\n\n    new <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">file</span>:   style.css\n\nChanges <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">not</span> staged <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">for</span> commit:\n\n    modified:   <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span>.html</code></pre><h3 id=\"查看现有stash\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">3. 查看现有stash</h3><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">可以使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash list</code>命令，一个典型的输出如下：</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs perl\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git stash list\nstash@{0}: WIP on master: <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">04</span>9d078 added the <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span> file\nstash@{1}: WIP on master: c264051 Revert <span class=\"hljs-string\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">\"added file_size\"</span>\nstash@{2}: WIP on master: <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">21</span>d80a5 added number to <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">log</span></code></pre><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">在使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash apply</code>命令时可以通过名字指定使用哪个stash，默认使用最近的stash（<a style=\"margin: 0px; padding: 0px; color: rgb(73, 73, 73); text-decoration: underline;\">即stash@{0}</a>）。</p><h3 id=\"移除stash\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">4. 移除stash</h3><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">可以使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash drop</code>命令，后面可以跟着stash名字。下面是一个示例：</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs perl\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git stash list\nstash@{0}: WIP on master: <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">04</span>9d078 added the <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span> file\nstash@{1}: WIP on master: c264051 Revert <span class=\"hljs-string\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">\"added file_size\"</span>\nstash@{2}: WIP on master: <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">21</span>d80a5 added number to <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">log</span>\n$ git stash drop stash@{0}\nDropped stash@{0} (<span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">364</span>e91f3f268f0900bc3ee613f9f733e82aaed43)</code></pre><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">或者使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash clear</code>命令，删除所有缓存的stash。</p><h3 id=\"查看指定stash的diff\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">5. 查看指定stash的diff</h3><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">可以使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash show</code>命令，后面可以跟着stash名字。示例如下：</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs sql\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git stash <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">show</span>\n <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">index</span>.html | <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">1</span> +\n <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">style</span>.css | <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">3</span> +++\n <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">2</span> files <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">changed</span>, <span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">4</span> insertions(+)</code></pre><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">在该命令后面添加<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">-p</code>或<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">--patch</code>可以查看特定stash的全部diff，如下：</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs diff\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git stash show -p\ndiff --git a/style.css b/style.css\nnew file mode 100644\nindex 0000000..d92368b\n<span class=\"hljs-comment\" style=\"margin: 0px; padding: 0px; color: green;\">--- /dev/null</span>\n<span class=\"hljs-comment\" style=\"margin: 0px; padding: 0px; color: green;\">+++ b/style.css</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">@@ -0,0 +1,3 @@</span>\n<span class=\"hljs-addition\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">+* {</span>\n<span class=\"hljs-addition\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">+  text-decoration: blink;</span>\n<span class=\"hljs-addition\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">+}</span>\ndiff --git a/index.html b/index.html\nindex 9daeafb..ebdcbd2 100644\n<span class=\"hljs-comment\" style=\"margin: 0px; padding: 0px; color: green;\">--- a/index.html</span>\n<span class=\"hljs-comment\" style=\"margin: 0px; padding: 0px; color: green;\">+++ b/index.html</span>\n@@ -1 +1,2 @@\n<span class=\"hljs-addition\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">+&lt;link rel=\"stylesheet\" href=\"style.css\"/&gt;</span></code></pre><h3 id=\"从stash创建分支\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">6. 从stash创建分支</h3><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">如果你储藏了一些工作，暂时不去理会，然后继续在你储藏工作的分支上工作，你在重新应用工作时可能会碰到一些问题。如果尝试应用的变更是针对一个你那之后修改过的文件，你会碰到一个归并冲突并且必须去化解它。如果你想用更方便的方法来重新检验你储藏的变更，你可以运行 git stash branch，这会创建一个新的分支，检出你储藏工作时的所处的提交，重新应用你的工作，如果成功，将会丢弃储藏。</p><pre style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code class=\"hljs cpp\" style=\"margin: auto; vertical-align: middle; display: block; background-color: rgb(255, 255, 255); height: auto; overflow-x: auto; color: rgb(0, 0, 0); padding: 5px !important; line-height: 1.5 !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; border: 1px solid rgb(204, 204, 204) !important;\">$ git stash branch testchanges\nSwitched to a <span class=\"hljs-keyword\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">new</span> branch <span class=\"hljs-string\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">\"testchanges\"</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\"># On branch testchanges</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\"># Changes to be committed:</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#   (use <span class=\"hljs-string\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">\"git reset HEAD &lt;file&gt;...\"</span> to unstage)</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#      modified:   index.html</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\"># Changes not staged for commit:</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#   (use <span class=\"hljs-string\" style=\"margin: 0px; padding: 0px; color: rgb(163, 21, 21);\">\"git add &lt;file&gt;...\"</span> to update what will be committed)</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#      modified:   lib/simplegit.rb</span>\n<span class=\"hljs-meta\" style=\"margin: 0px; padding: 0px; color: rgb(43, 145, 175);\">#</span>\nDropped refs/stash@{<span class=\"hljs-number\" style=\"margin: 0px; padding: 0px;\">0</span>} (f0dfc4d5dc332d1cee34a634182e168c4efc3359)</code></pre><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">这是一个很棒的捷径来恢复储藏的工作然后在新的分支上继续当时的工作。</p><h3 id=\"暂存未跟踪或忽略的文件\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">7. 暂存未跟踪或忽略的文件</h3><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">默认情况下，<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>会缓存下列文件：</p><ul style=\"margin: 0px 0px 0px 30px; padding: 0px; word-break: break-all; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><li style=\"margin: 0px; padding: 0px; list-style: disc;\">添加到暂存区的修改（staged changes）</li><li style=\"margin: 0px; padding: 0px; list-style: disc;\">Git跟踪的但并未添加到暂存区的修改（unstaged changes）</li></ul><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">但不会缓存一下文件：</p><ul style=\"margin: 0px 0px 0px 30px; padding: 0px; word-break: break-all; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><li style=\"margin: 0px; padding: 0px; list-style: disc;\">在工作目录中新的文件（untracked files）</li><li style=\"margin: 0px; padding: 0px; list-style: disc;\">被忽略的文件（ignored files）</li></ul><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>命令提供了参数用于缓存上面两种类型的文件。使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">-u</code>或者<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">--include-untracked</code>可以stash untracked文件。使用<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">-a</code>或者<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">--all</code>命令可以stash当前目录下的所有修改。</p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">至于<code style=\"margin: 1px 5px; line-height: 1.8; vertical-align: middle; display: inline-block; padding: 0px 5px !important; font-family: &quot;Courier New&quot;, sans-serif !important; font-size: 12px !important; background-color: rgb(245, 245, 245) !important; border: 1px solid rgb(204, 204, 204) !important;\">git stash</code>的其他命令建议参考Git manual。</p><h2 id=\"小结\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">小结</h2><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">git提供的工具很多，恰好用到就可以深入了解下。更方便的开发与工作的。</p><h3 id=\"参考资料\" style=\"margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\">参考资料</h3><ol style=\"margin: 0px; padding: 0px 0px 0px 40px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(244, 237, 227);\"><li style=\"margin: 0px; padding: 0px; list-style: decimal;\"><a href=\"https://git-scm.com/book/zh/v1/Git-%E5%B7%A5%E5%85%B7-%E5%82%A8%E8%97%8F%EF%BC%88Stashing%EF%BC%89\" style=\"margin: 0px; padding: 0px; color: rgb(73, 73, 73);\">6.3 Git工具-储藏（Stashing）</a></li><li style=\"margin: 0px; padding: 0px; list-style: decimal;\"><a href=\"http://blog.hanfeisun.info/2012/12/git-stash-adventure/\" style=\"margin: 0px; padding: 0px; color: rgb(73, 73, 73);\">Git Stash 历险记</a></li><li style=\"margin: 0px; padding: 0px; list-style: decimal;\"><a href=\"http://www.cppblog.com/deercoder/archive/2011/11/13/160007.aspx\" style=\"margin: 0px; padding: 0px; color: rgb(73, 73, 73);\">Git Stash用法</a></li><li style=\"margin: 0px; padding: 0px; list-style: decimal;\"><a href=\"https://www.atlassian.com/git/tutorials/git-stash/\" style=\"margin: 0px; padding: 0px; color: rgb(73, 73, 73);\">Git Stash</a></li></ol>"
    }
  ]
}
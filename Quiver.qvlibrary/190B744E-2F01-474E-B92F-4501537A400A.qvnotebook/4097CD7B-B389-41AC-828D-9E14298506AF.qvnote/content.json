{
  "title": "tar命令的C参数",
  "cells": [
    {
      "type": "text",
      "data": "<embed id=\"xunlei_com_thunder_helper_plugin_d462f475-c18e-46be-bd10-327458d045bd\" type=\"application/thunder_download_plugin\" height=\"0\" width=\"0\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><h1 class=\"block_title\" style=\"margin: 10px 0px 30px; font-size: 14.7px; color: rgb(68, 68, 68); border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(204, 204, 204); padding: 10px 0px 0px; font-family: verdana, arial, sans-serif; height: 40px; line-height: 18px;\"><a id=\"viewpost1_TitleUrl\" href=\"http://www.cppblog.com/amazon/archive/2010/01/13/105571.html\" style=\"color: gray; text-decoration: none;\">tar命令的C参数</a></h1><div class=\"post\" style=\"padding-left: 20px; color: rgb(48, 48, 48); font-family: Verdana, Helvetica, Arial; font-size: 11px; line-height: 18px; text-align: justify;\"><div class=\"postcontent\" style=\"margin-top: 10px; background-image: url(http://www.cppblog.com/skins/green/images/bg_content.gif); font-size: 12px; background-repeat: no-repeat no-repeat;\">问题：在/home/usr1目录下，想要打包/home/usr2目录中的文件file2，应该使用什么样的tar命令？<br><br>解答1：<br><span style=\"color: rgb(0, 0, 0);\">$ tar -cvf file2.tar /home/usr2/file2</span><br>tar: Removing leading '/' from members names<br>home/usr2/file2<br>该命令可以将/home/usr2/file2文件打包到当前目录下的file2.tar中，需要注意的是：<span style=\"color: rgb(255, 0, 0);\">使用绝对路径标识的源文件，在用tar命令压缩后，文件名连同绝对路径（这里是home/usr2/，根目录'/'被自动去掉了）一并被压缩进来</span>。使用tar命令解压缩后会出现以下情况：<br>$ tar -xvf file2.tar<br>$ ls<br>…… …… home …… ……&nbsp;<br>解压缩后的文件名不是想象中的file2，而是home/usr2/file2。<br><br>解答2：<br><strong>$ tar -cvf file2.tar -C&nbsp;/home/usr2 file2<br></strong>该命令中的-C dir参数，将tar的工作目录从当前目录改为/home/usr2，将file2文件（不带绝对路径）压缩到file2.tar中。注意<span style=\"color: rgb(255, 0, 0);\">：-C dir参数的作用在于改变工作目录，其有效期为该命令中下一次-C dir参数之前</span>。<br>使用tar的-C dir参数，同样可以做到在当前目录/home/usr1下将文件解压缩到其他目录，例如：<br><strong>$ tar -xvf file2.tar -C /home/usr2</strong><br>而tar不用-C dir参数时是无法做到的：<br>$ tar -xvf file2.tar /home/usr2<br>tar: /tmp/file: Not found in archive<br>tar: Error exit delayed from previous errors</div></div>"
    }
  ]
}
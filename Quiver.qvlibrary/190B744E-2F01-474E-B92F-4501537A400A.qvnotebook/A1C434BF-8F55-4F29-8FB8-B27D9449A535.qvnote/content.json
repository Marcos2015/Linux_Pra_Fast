{
  "title": "20个 Unix/Linux 命令技巧",
  "cells": [
    {
      "type": "text",
      "data": "<embed id=\"xunlei_com_thunder_helper_plugin_d462f475-c18e-46be-bd10-327458d045bd\" type=\"application/thunder_download_plugin\" height=\"0\" width=\"0\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><span style=\"font-size: 14px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">让我们用</span><strong style=\"font-size: 14px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px; margin: 0px; padding: 0px;\">这些Unix/Linux命令技巧</strong><span style=\"font-size: 14px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">开启新的一年，提高在终端下的生产力。我已经找了很久了，现在就与你们分享。</span><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\"><img src=\"quiver-image-url/E4693DFD8BD6B09CE8D7CA7E0C0FC13A.jpg\" alt=\"\" style=\"margin: 0px auto; padding: 5px; border: 1px solid rgb(230, 230, 230); max-width: 628px; display: block;\" width=\"598\" height=\"449\"></p><h2 id=\"toc_1\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">删除一个大文件</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">我在生产服务器上有一个很大的200GB的日志文件需要删除。我的rm和ls命令已经崩溃，我担心这是由于巨大的磁盘IO造成的，要删除这个大文件，输入：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">&gt; /path/to/file.log\n# 或使用如下格式\n: &gt; /path/to/file.log\n# 然后删除它 \nrm /path/to/file.log</pre><h2 id=\"toc_2\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">如何记录终端输出？</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">试试使用script命令行工具来为你的终端输出创建输出记录。</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">script my.terminal.sessio</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">输入命令：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">ls\ndate\nsudo service foo stop</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">要退出（结束script会话），输入&nbsp;exit&nbsp;或者&nbsp;logout&nbsp;或者按下&nbsp;control-D。</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">exit</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">要浏览输入：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">more my.terminal.session\nless my.terminal.session\ncat my.terminal.session</pre><h2 id=\"toc_3\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">还原被删除的 /tmp 文件夹</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">我在文章<a href=\"http://www.cyberciti.biz/tips/my-10-unix-command-line-mistakes.html\" target=\"_blank\" style=\"color: rgb(0, 136, 219); text-decoration: none; cursor: pointer;\">Linux和Unix shell，我犯了一些错误</a>。我意外地删除了/tmp文件夹。要还原它，我需要这么做：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">mkdir /tmp\nchmod 1777 /tmp\nchown root:root /tmp\nls -ld /tmp</pre><h2 id=\"toc_4\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">锁定一个文件夹</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">为了我的数据隐私，我想要锁定我文件服务器下的/downloads文件夹。因此我运行了：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">chmod 0000 /downloads</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">root用户仍旧可以访问，而ls和cd命令则不工作。要还原它用：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">chmod 0755 /downloads</pre><h2 id=\"toc_5\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">在vim中用密码保护文件</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">害怕root用户或者其他人偷窥你的个人文件么？尝试在vim中用密码保护，输入：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">vim +X filename</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">或者，在退出vim之前使用:X 命令来加密你的文件，vim会提示你输入一个密码。</p><h2 id=\"toc_6\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">清除屏幕上的乱码</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">只要输入：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">reset</pre><h2 id=\"toc_7\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">易读格式</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">传递-h或者-H（和其他选项）选项给GNU或者BSD工具来获取像ls、df、du等命令以易读的格式输出：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">ls -lh\n# 以易读的格式 (比如： 1K 234M 2G)\ndf -h\ndf -k\n# 以字节、KB、MB 或 GB 输出：\nfree -b\nfree -k\nfree -m\nfree -g\n# 以易读的格式输出 (比如 1K 234M 2G)\ndu -h\n# 以易读的格式显示文件系统权限\nstat -c %A /boot\n# 比较易读的数字\nsort -h -a file\n# 在Linux上以易读的形式显示cpu信息\nlscpu\nlscpu -e\nlscpu -e=cpu,node\n# 以易读的形式显示每个文件的大小\ntree -h\ntree -h /boot</pre><h2 id=\"toc_8\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">在Linux系统中显示已知的用户信息</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">只要输入：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">## linux 版本 ##\nlslogins\n## BSD 版本 ##\nlogins</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">示例输出：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">UID USER PWD-LOCK PWD-DENY LAST-LOGIN GECOS\n0 root 0 0 22:37:59 root\n1 bin 0 1 bin\n2 daemon 0 1 daemon\n3 adm 0 1 adm\n4 lp 0 1 lp\n5 sync 0 1 sync\n6 shutdown 0 1 2014-Dec17 shutdown\n7 halt 0 1 halt\n8 mail 0 1 mail\n10 uucp 0 1 uucp\n11 operator 0 1 operator\n12 games 0 1 games\n13 gopher 0 1 gopher\n14 ftp 0 1 FTP User\n27 mysql 0 1 MySQL Server\n38 ntp 0 1\n48 apache 0 1 Apache\n68 haldaemon 0 1 HAL daemon\n69 vcsa 0 1 virtual console memory owner\n72 tcpdump 0 1\n74 sshd 0 1 Privilege-separated SSH\n81 dbus 0 1 System message bus\n89 postfix 0 1\n99 nobody 0 1 Nobody\n173 abrt 0 1\n497 vnstat 0 1 vnStat user\n498 nginx 0 1 nginx user\n499 saslauth 0 1 \"Saslauthd user\"</pre><h2 id=\"toc_9\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">我如何删除意外在当前文件夹下解压的文件？</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">我意外在/var/www/html/而不是/home/projects/www/current下解压了一个tarball。它搞乱了/var/www/html下的文件，你甚至不知道哪些是误解压出来的。最简单修复这个问题的方法是：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">cd /var/www/html/\n/bin/rm -f \"$(tar ztf /path/to/file.tar.gz)\"</pre><h2 id=\"toc_10\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">对top命令的输出感到疑惑？</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">正经地说，你应该试一下用htop代替top：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">sudo htop</pre><h2 id=\"toc_11\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">想要再次运行相同的命令</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">只需要输入!!。比如：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">/myhome/dir/script/name arg1 arg2\n# 要再次运行相同的命令\n!!\n## 以root用户运行最后运行的命令\nsudo !!</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">!!会运行最近使用的命令。要运行最近运行的以“foo”开头命令：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">!foo\n# 以root用户运行上一次以“service”开头的命令\nsudo !service</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">!$用于运行带上最后一个参数的命令：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\"># 编辑 nginx.conf\nsudo vi /etc/nginx/nginx.conf\n# 测试 nginx.conf\n/sbin/nginx -t -c /etc/nginx/nginx.conf\n# 测试完 \"/sbin/nginx -t -c /etc/nginx/nginx.conf\"你可以用vi再次编辑这个文件了\nsudo vi !$</pre><h2 id=\"toc_12\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">在终端上提醒你必须得走了</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">如果你需要提醒离开你的终端，输入下面的命令：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">leave +hhmm</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">这里：</p><ul style=\"font-size: 14px; margin: 0px 0px 16px 26px; padding: 0px; list-style: none; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\"><li style=\"margin: 0px 0px 10px; padding: 0px 0px 0px 20px; background-image: url(data:image/gif;base64,R0lGODlhDQAFAKIAAKOjo6GhoampqYSEhJWVlZ2dnZmZmXx8fCH5BAAAAAAALAAAAAANAAUAAAMVKLfcB6PIScsZJuttLvlgSByK4wQJADs=); background-position: 0px 10px; background-repeat: no-repeat no-repeat;\"><strong style=\"margin: 0px; padding: 0px;\">hhmm</strong>&nbsp;- 时间是以hhmm的形式，hh表示小时（12时制或者24小时制），mm代表分钟。所有的时间都转化成12时制，并且假定发生在接下来的12小时。</li></ul><h2 id=\"toc_13\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">甜蜜的家</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">想要进入刚才进入的地方？运行：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">cd -</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">需要快速地回到你的家目录？输入：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">cd</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">变量CDPATH定义了目录的搜索路径：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">export CDPATH=/var/www:/nas10</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">现在，不用输入cd */var/www/html/ 这样长了，我可以直接输入下面的命令进入 /var/www/html：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">cd html</pre><h2 id=\"toc_14\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">在less浏览时编辑文件</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">要编辑一个正在用less浏览的文件，可以按下v。你就可以用变量$EDITOR所指定的编辑器来编辑了：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">less *.c\nless foo.html\n## 按下v键来编辑文件 ##\n## 退出编辑器后，你可以继续用less浏览了 ##</pre><h2 id=\"toc_15\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">列出你系统中的所有文件和目录</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">要看到你系统中的所有目录，运行：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">find / -type d | less\n# 列出$HOME 所有目录\nfind $HOME -type d -ls | less</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">要看到所有的文件，运行：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">find / -type f | less\n# 列出 $HOME 中所有的文件\nfind $HOME -type f -ls | less</pre><h2 id=\"toc_16\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">用一条命令构造目录树</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">你可以用mkdir加上-p选项一次创建一颗目录树：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">mkdir -p /jail/{dev,bin,sbin,etc,usr,lib,lib64}\nls -l /jail/</pre><h2 id=\"toc_17\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">将文件复制到多个目录中</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">不必运行：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">cp /path/to/file /usr/dir1\ncp /path/to/file /var/dir2\ncp /path/to/file /nas/dir3</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">运行下面的命令来复制文件到多个目录中：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">echo /usr/dir1 /var/dir2 /nas/dir3 | xargs -n 1 cp -v /path/to/file</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">留下<a href=\"http://bash.cyberciti.biz/guide/Writing_your_first_shell_function\" target=\"_blank\" style=\"color: rgb(0, 136, 219); text-decoration: none; cursor: pointer;\">创建一个shell函数</a>作为读者的练习。</p><h2 id=\"toc_18\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">快速找出两个目录的不同</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">diff命令会按行比较文件。但是它也可以比较两个目录：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">ls -l /tmp/r\nls -l /tmp/s\n# 使用 diff 比较两个文件夹\ndiff /tmp/r/ /tmp/s/</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\"><img src=\"quiver-image-url/BACCC905FE06546BE2BDF500B1F3D354.jpg\" alt=\"Fig. : Finding differences between folders\" style=\"margin: 0px auto; padding: 5px; border: 1px solid rgb(230, 230, 230); max-width: 628px; display: block;\" width=\"598\" height=\"246\"></p><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">图片： 找出目录之间的不同</p><h2 id=\"toc_19\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">文本格式化</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">你可以用fmt命令重新格式化每个段落。在本例中，我要用分割超长的行并且填充短行：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">fmt file.txt</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">你也可以分割长的行，但是不重新填充，也就是说分割长行，但是不填充短行：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">fmt -s file.txt</pre><h2 id=\"toc_20\" style=\"margin: 30px 0px 14px; padding: 0px 0px 5px; color: rgb(34, 34, 34); border-bottom-color: rgb(238, 238, 238); border-bottom-width: 1px; border-bottom-style: solid; font-size: 18px; font-family: 'microsoft yahei'; line-height: 25px;\">可以看见输出并将其写入到一个文件中</h2><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">如下使用tee命令在屏幕上看见输出并同样写入到日志文件my.log中：</p><pre class=\"brush: bash; gutter: false; first-line: 1\" style=\"margin: 15px auto; padding: 10px 15px; word-break: break-all; font-size: 12px; line-height: 20px; font-family: 'courier new'; border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); background-color: rgb(251, 251, 251); color: rgb(68, 68, 68);\">mycoolapp arg1 arg2 input.file | tee my.log</pre><p style=\"font-size: 14px; margin: 0px 0px 15px; padding: 0px; color: rgb(68, 68, 68); font-family: 'microsoft yahei'; line-height: 25px;\">tee可以保证你同时在屏幕上看到mycoolapp的输出并写入文件&nbsp; my.log。</p>"
    }
  ]
}
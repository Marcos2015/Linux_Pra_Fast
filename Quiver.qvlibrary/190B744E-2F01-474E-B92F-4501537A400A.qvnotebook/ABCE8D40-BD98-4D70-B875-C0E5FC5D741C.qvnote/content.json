{
  "title": "讲个小故事：Unix的yes命令",
  "cells": [
    {
      "type": "text",
      "data": "<p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><span style=\"border: 0px; font-style: inherit; font-weight: 700; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;\">你知道的最简单的Unix命令是什么？</span></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">是echo，它把字符串打印到终端，然后返回true，它的返回值总是0.</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">除了echo，还有一个命令也很简单，它是yes。如果你运行它，不带任何参数，它会无限输出字母y到屏幕上，其中每一个y都独占一行。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 588px; max-width: 588px; max-height: 162px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 162px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 162px; left: 0px; position: absolute; top: 0px; width: 588px;\"><img class=\"aligncenter lazy\" title=\"图0：讲个小故事：Unix的yes命令\" alt=\"图0：讲个小故事：Unix的yes命令\" data-width=\"588\" data-height=\"162\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-39.gif\" src=\"quiver-image-url/9F44EE17B5E41590428539C35B360894.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"441\" height=\"121\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">感觉很没用？其实它是很有用的</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 585px; max-width: 585px; max-height: 61px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 61px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 61px; left: 0px; position: absolute; top: 0px; width: 585px;\"><img class=\"aligncenter lazy\" title=\"图1：讲个小故事：Unix的yes命令\" alt=\"图1：讲个小故事：Unix的yes命令\" data-width=\"585\" data-height=\"61\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-40.gif\" src=\"quiver-image-url/451AD2C60E979CF22E3DC421F097928D.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"585\" height=\"61\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">安装程序的时候，有的程序需要你不断地按y和回车，安装进程才能继续工作。yes命令可以解救你！它帮你输入y和回车，这样你就可以安心去看唐老鸭动画片了。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><span style=\"border: 0px; font-style: inherit; font-weight: 700; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;\">让我们自己编写一个yes命令</span></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">这是一个基本的版本，嗯，用BASIC写的</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 587px; max-width: 587px; max-height: 90px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 90px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 90px; left: 0px; position: absolute; top: 0px; width: 587px;\"><img class=\"aligncenter lazy\" title=\"图2：讲个小故事：Unix的yes命令\" alt=\"图2：讲个小故事：Unix的yes命令\" data-width=\"587\" data-height=\"90\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-41.gif\" src=\"quiver-image-url/FE77925E6DE6067E02E0FC4BD3D8C7FD.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"440\" height=\"67\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">然后我们再写一个Python版本的：</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 587px; max-width: 587px; max-height: 85px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 85px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 85px; left: 0px; position: absolute; top: 0px; width: 587px;\"><img class=\"aligncenter lazy\" title=\"图3：讲个小故事：Unix的yes命令\" alt=\"图3：讲个小故事：Unix的yes命令\" data-width=\"587\" data-height=\"85\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-42.gif\" src=\"quiver-image-url/CABDA82A48FA8EF78E77FD5081BA1100.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"440\" height=\"63\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">感觉很简单？等等，先别急。事实上上面两个程序都很慢。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 588px; max-width: 588px; max-height: 86px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 86px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 86px; left: 0px; position: absolute; top: 0px; width: 588px;\"><img class=\"aligncenter lazy\" title=\"图4：讲个小故事：Unix的yes命令\" alt=\"图4：讲个小故事：Unix的yes命令\" data-width=\"588\" data-height=\"86\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-43.gif\" src=\"quiver-image-url/43F7DCF20CC235756A51347C8250F872.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"588\" height=\"86\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">让我们对比一下系统内置的版本：</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 589px; max-width: 589px; max-height: 86px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 86px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 86px; left: 0px; position: absolute; top: 0px; width: 589px;\"><img class=\"aligncenter lazy\" title=\"图5：讲个小故事：Unix的yes命令\" alt=\"图5：讲个小故事：Unix的yes命令\" data-width=\"589\" data-height=\"86\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-44.gif\" src=\"quiver-image-url/ED40E2A60AD26EF56361E342BFF5A51E.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"441\" height=\"64\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">我要自己写一个快一点的版本，我尝试用Rust去写：</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 589px; max-width: 589px; max-height: 237px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 237px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 237px; left: 0px; position: absolute; top: 0px; width: 589px;\"><img class=\"aligncenter lazy\" title=\"图6：讲个小故事：Unix的yes命令\" alt=\"图6：讲个小故事：Unix的yes命令\" data-width=\"589\" data-height=\"237\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-45.gif\" src=\"quiver-image-url/6BAC3292D5A02A86A4101A37CCFE14DD.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"441\" height=\"177\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">稍微解释一下这段程序：</p><ul class=\"list-paddingleft-2\" style=\"border: 0px; font-size: 16px; margin: 1em 0px; outline: 0px; padding: 0px 0px 0px 2em; vertical-align: baseline; list-style: decimal; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><li style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; list-style-position: inside;\">我们循环打印的字符是从第一个命令行参数中获取的，我们把这个参数保存在变量expletive中。</li><li style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; list-style-position: inside;\">我们使用unwrap_or这个方法获取命令行参数的值，如果没有命令行参数，那么就使用”y”。</li></ul><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">让我们测试一下</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 588px; max-width: 588px; max-height: 162px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 162px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 162px; left: 0px; position: absolute; top: 0px; width: 588px;\"><img class=\"aligncenter lazy\" title=\"图7：讲个小故事：Unix的yes命令\" alt=\"图7：讲个小故事：Unix的yes命令\" data-width=\"588\" data-height=\"162\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-46.gif\" src=\"quiver-image-url/0D590784A92E9AF96A3A1167724AAC37.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"588\" height=\"162\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">额，这就尴尬了，比Python的版本还慢。这让我很惊讶，于是我到处寻找该命令的C源码。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">下面这段代码是yes命令作为系统命令发布的第一个版本，它发布在Unix 7上，由Ken Thompson于1979年1月10日编写。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 588px; max-width: 588px; max-height: 183px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 183px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 183px; left: 0px; position: absolute; top: 0px; width: 588px;\"><img class=\"aligncenter lazy\" title=\"图8：讲个小故事：Unix的yes命令\" alt=\"图8：讲个小故事：Unix的yes命令\" data-width=\"588\" data-height=\"183\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-47.gif\" src=\"quiver-image-url/4045733121AFE92F1E51BDC60151B793.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"441\" height=\"137\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">好像没什么特殊的地方。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">如今，这个命令被放在GNU coreutils中，当前这个版本用了整整128行代码来完成这个功能，你可以在github上找到它的源码：https://github.com/coreutils/coreutils/blame/master/src/yes.c。已经过了25年，这个命令居然仍然在更新中！最近一次更新大概在一年前。它的效率非常高</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 589px; max-width: 589px; max-height: 110px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 110px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 110px; left: 0px; position: absolute; top: 0px; width: 589px;\"><img class=\"aligncenter lazy\" title=\"图9：讲个小故事：Unix的yes命令\" alt=\"图9：讲个小故事：Unix的yes命令\" data-width=\"589\" data-height=\"110\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-48.gif\" src=\"quiver-image-url/E88F24E3B3367B4D354D4896571C134B.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"441\" height=\"82\"></div></div></figure><span style=\"color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">最关键的是最后这部分</span><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 587px; max-width: 587px; max-height: 135px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 135px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 135px; left: 0px; position: absolute; top: 0px; width: 587px;\"><img class=\"aligncenter lazy\" title=\"图10：讲个小故事：Unix的yes命令\" alt=\"图10：讲个小故事：Unix的yes命令\" data-width=\"587\" data-height=\"135\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-49.gif\" src=\"quiver-image-url/9AEA1C6F3791808DF0573334F257B2EC.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"587\" height=\"135\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">哇哦！他们就是用了一个缓冲区来让写入操作变得更快。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">缓冲区大小由常量BUFSIZ控制，这个变量在各个系统中不同，以便能最优化写入效率。在我的系统中，它被定义为1024bytes，我把它改为8192bytes，发现程序更快了。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">所以，参考这个思路我更新了我的Rust程序。</p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><figure class=\"aspectRatioFigure\" style=\"margin: 0px; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-size: 16px; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"><div class=\"aspectRatioPlaceholder\" style=\"border: 0px; font-style: inherit; margin: 0px auto; outline: 0px; padding: 0px; vertical-align: baseline; position: relative; width: 588px; max-width: 588px; max-height: 331px;\"><div class=\"aspectRatioPlaceholder-fill\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px 0px 331px; vertical-align: baseline;\"></div><div class=\"progressiveMedia\" style=\"border: 0px; font-style: inherit; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; height: 331px; left: 0px; position: absolute; top: 0px; width: 588px;\"><img class=\"aligncenter lazy\" title=\"图11：讲个小故事：Unix的yes命令\" alt=\"图11：讲个小故事：Unix的yes命令\" data-width=\"588\" data-height=\"331\" data-original=\"http://www.techug.com/wordpress/wp-content/uploads/2017/10/img.do_-50.gif\" src=\"quiver-image-url/DC4C1B2A274B4C02B2EEDDDCC6F33674.png\" style=\"border: 0px; vertical-align: middle; display: block; margin: 0px auto 7px;\" width=\"441\" height=\"248\"></div></div></figure><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\"></p><p style=\"border: 0px; font-size: 16px; margin: 0px 0px 24px; outline: 0px; padding: 0px; vertical-align: baseline; color: rgb(43, 43, 43); font-family: 'Microsoft YaHei', 微软雅黑, 'Hiragino Sans GB', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, Lucida, Verdana, serif; font-variant-ligatures: normal; letter-spacing: 0.5px; orphans: 2; widows: 2;\">一个重要的细节是，缓冲区大小必须是4的倍数，这样来保证内存数据的对齐。</p>"
    }
  ]
}
{
  "title": "有用的linux命令——chatter",
  "cells": [
    {
      "type": "text",
      "data": "<embed id=\"xunlei_com_thunder_helper_plugin_d462f475-c18e-46be-bd10-327458d045bd\" type=\"application/thunder_download_plugin\" height=\"0\" width=\"0\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><div class=\"title\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; padding: 1px 0px; text-align: center;\"><h2><br></h2><h2><span style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti; font-size: 16px;\">&nbsp; &nbsp;一般Linux的文件系统都是ext2/ext3。ext文件系统的文件，目录会有一些文件系统所特有的属性。我们之前所熟知的rwx等属性是linux操作系统赋予文件的属性，和登录用户相关。而本文所说的这个特性是文件系统相关的，它不受登录用户的限制。</span></h2></div><div class=\"article\" style=\"color: rgb(0, 0, 0); font-family: Arial; line-height: 25px; padding: 15px 5px; font-size: 16px;\"><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;ext3所包括的文件属性很多，主要涉及到文件在文件系统上的存储、是否启用日志、是否更新atime、是否采用压缩等多种高级特性，其中我们常见的一种属性就是防删除。</p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;使用lsattr命令可以查看文件的文件系统属性，</p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;<a href=\"http://chinageek-wordpress.stor.sinaapp.com/uploads/2014/07/2014-07-26-210353-%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png\" style=\"text-decoration: none;\"><img class=\"alignnone size-full wp-image-1328\" alt=\"lsattr\" src=\"quiver-image-url/9E499BEF3AA01EDC7B58206521AE9E6D.png\" width=\"403\" height=\"104\"></a></p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;横杠-表示未设置属性，默认情况下新建的文件是没有任何属性的，可以用chattr命令来进行修改。</p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;每种属性有一个代号，详细的代号及其解释可以使用man chattr查看。我们说的防删除属性代号为i。chattr &nbsp;+用来增加属性，chattr &nbsp;-用来去除属性。需要注意的时，执行chattr需要root权限，否则会修改失败。我们为linux这个文件增加i属性，如下：</p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;<a href=\"http://chinageek-wordpress.stor.sinaapp.com/uploads/2014/07/2014-07-26-210910-%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png\" style=\"text-decoration: none;\"><img class=\"alignnone size-full wp-image-1330\" alt=\"chattr\" src=\"quiver-image-url/36629E6014338C71CD1E51DE0567D7B6.png\" width=\"427\" height=\"65\"></a></p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;此时文件linux已经被赋予了i属性，尝试删除就会错误。</p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;<a href=\"http://chinageek-wordpress.stor.sinaapp.com/uploads/2014/07/2014-07-26-211158-%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png\" style=\"text-decoration: none;\"><img class=\"alignnone size-full wp-image-1331\" alt=\"rm\" src=\"quiver-image-url/827B6C40C206FABC053A626D1563B3AF.png\" width=\"361\" height=\"43\"></a></p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;同时，此文件也不能被修改，重命名以及做硬链接。</p><p style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti;\">&nbsp; &nbsp;利用这个特性就可以实现保护系统文件的目的，防止由于误操作导致文件丢失。</p></div>"
    }
  ]
}
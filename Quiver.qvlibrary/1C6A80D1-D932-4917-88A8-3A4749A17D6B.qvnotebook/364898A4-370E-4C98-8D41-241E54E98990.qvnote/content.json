{
  "title": "用ifconfig命令，只有lo，没有eth0的解决方案",
  "cells": [
    {
      "type": "text",
      "data": "<div class=\"qa-content\" data-qid=\"59155\" style=\"margin: 0px; padding: 15px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(237, 241, 242); color: rgb(20, 25, 30); font-family: 'PingFang SC', 微软雅黑, 'Microsoft YaHei', Helvetica, 'Helvetica Neue', Tahoma, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><div class=\"qa-content-inner aimgPreview\" style=\"margin: 0px; padding: 0px;\"><div id=\"js-content-main\" style=\"margin: 0px; padding: 0px;\"><h1 class=\"js-qa-wenda-title qa-wenda-title\" style=\"margin: 0px; padding: 0px; font-size: 16px; font-weight: bolder; word-break: break-all; word-wrap: break-word; overflow: hidden; line-height: 32px;\"><a href=\"http://www.imooc.com/qadetail/59155\" style=\"font-size: 14px;\">http://www.imooc.com/qadetail/59155</a></h1><h1 class=\"js-qa-wenda-title qa-wenda-title\" style=\"margin: 0px; padding: 0px; font-size: 16px; font-weight: bolder; word-break: break-all; word-wrap: break-word; overflow: hidden; line-height: 32px;\"><br></h1><h1 class=\"js-qa-wenda-title qa-wenda-title\" style=\"margin: 0px; padding: 0px; font-size: 16px; font-weight: bolder; word-break: break-all; word-wrap: break-word; overflow: hidden; line-height: 32px;\">用ifconfig命令，只有lo，没有eth0的解决方案</h1><div id=\"js-qa-content\" class=\"qa-disscus rich-text\" style=\"margin: 5px 0px 0px; padding: 0px; word-break: break-all; word-wrap: break-word; line-height: 20px; overflow: hidden;\"><p style=\"margin: 0px; padding: 0px;\">问题描述：视频中输入ifconfig命令，显示eth0和lo，但是自己在虚拟机中并非得到这样的结果，而是只有lo，即网卡未启动，也没有ip，无法用Xshell远程连接。<br></p><p style=\"margin: 0px; padding: 0px;\">解决方案：</p><p style=\"margin: 0px; padding: 0px;\">1. 进入/etc/sysconfig/network-scripts 目录，发现有ifcfg-eth0，即网卡（驱动）存在但未启用。</p><p style=\"margin: 0px; padding: 0px;\">2. 输入ifconfig -a命令，可显示eth0和lo。</p><p style=\"margin: 0px; padding: 0px;\">3. 输入ifconfig eth0 up，启用网卡。此时用ifconfig，只能看到inet6（ipv6?）的地址，没有inet的地址（即Xshell连接输入的ip）。</p><p style=\"margin: 0px; padding: 0px;\">4.&nbsp;修改/etc/sysconfig/network-scripts/ifcfg-eth0 文件，&nbsp;把ONBOOT=no&nbsp;改为&nbsp;ONBOOT=yes，但ifconfig的结果没有任何改变。（省略该步骤不知道是否有效）</p><p style=\"margin: 0px; padding: 0px;\">5.&nbsp;service network restart，重启。出现shutdown eth0 OK，bring up eth0 OK，determine ip for eth0 OK。</p><p style=\"margin: 0px; padding: 0px;\">6. 输入ifconfig，出现eth0的inet地址。用Xshell连接成功。</p><p style=\"margin: 0px; padding: 0px;\">PS：补充视频中，从Xshell中setup和设置ip，但是如果没设置ip Xshell怎么连接到虚拟机呢。。。请老师和各位同学解答。大家如果按照这个步骤做成功或失败了也请晒在下面，大家共同探讨！</p></div></div></div><div class=\"qa-content-addon clearfix\" style=\"margin: 0px; padding: 15px 0px 0px; position: relative; font-size: 12px; color: rgb(208, 214, 217);\"><span class=\"qa-createtime l\" style=\"float: left; color: rgb(200, 205, 210); line-height: 24px; margin-right: 20px;\">2014-12-05</span><a href=\"http://www.imooc.com/video/5139\" class=\"qa-course-from\" style=\"outline: 0px; text-decoration: none; color: rgb(200, 205, 210); line-height: 24px;\">源自： Linux达人养成计划 I... 2-8</a><span class=\"qa-view-num r\" style=\"float: right; margin-left: 20px; line-height: 24px; color: rgb(200, 205, 210);\">56997 浏览</span><span class=\"qa-total-comment r\" style=\"float: right; margin-left: 20px; line-height: 24px; color: rgb(200, 205, 210);\">62 回答</span></div></div><div class=\"qa-comments\" data-title=\"用ifconfig命令，只有lo，没有eth0的解决方案\" style=\"margin: 0px; padding: 0px; color: rgb(20, 25, 30); font-family: 'PingFang SC', 微软雅黑, 'Microsoft YaHei', Helvetica, 'Helvetica Neue', Tahoma, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><div class=\"qa-comment js-qa-comment\" data-cid=\"39251\" id=\"id_39251\" style=\"margin: 0px; padding: 0px; position: relative; min-height: 80px; border-bottom: 1px solid rgb(237, 241, 242);\"><div class=\"qa-comment-wrap clearfix \" style=\"margin: 0px; padding: 10px 0px; position: relative;\"><div class=\"qa-comment-author\" style=\"margin: 0px; padding: 10px 0px 0px; float: left; line-height: 1em; width: 90px; text-align: center;\"><a href=\"http://www.imooc.com/u/1167748/bbs\" title=\"lestat613\" style=\"outline: 0px; text-decoration: none; color: rgb(120, 125, 130); font-size: 12px;\"><img src=\"quiver-image-url/6B699C78CA175E0BC4E9A7C5200F0561.jpg\" width=\"40\" height=\"40\" style=\"border: 0px; width: 40px; border-radius: 50%;\"><span class=\"qa-comment-nick\" style=\"display: block; line-height: 1.2em; height: 18px; margin: 3px 10px auto; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\">lestat613</span></a></div><div class=\"qa-comment-d \" style=\"margin: 0px 0px 0px 90px; padding: 10px 0px 10px 20px; position: relative;\"><div class=\"qa-comment-inner\" style=\"margin: 0px; padding: 0px;\"><div class=\"qa-comment-c aimgPreview\" style=\"margin: 0px; padding: 0px; word-break: break-all; word-wrap: break-word; line-height: 20px; overflow: hidden;\"><div class=\"rich-text\" style=\"margin: 5px 0px 0px; padding: 0px; line-height: 1.76em;\"><p style=\"margin: 0px; padding: 0px;\">1、输入cd /etc/sysconfig/network-scripts目录<img src=\"quiver-image-url/DA41B4A5AACAFCE7E2B3A041143F9D1B.png\" alt=\"54c6759c0001d47f05000282.jpg\" data-src=\"54c6759c0001d47f05000282.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"211\"></p><p style=\"margin: 0px; padding: 0px;\">2、输入ifconfig -a可显示eth0和lo。</p><p style=\"margin: 0px; padding: 0px;\"><img src=\"quiver-image-url/AE176F381320C3773D387E2C22815E2F.png\" alt=\"54c67851000176aa05000282.jpg\" data-src=\"54c67851000176aa05000282.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"211\"></p><p style=\"margin: 0px; padding: 0px;\">3、3. 输入ifconfig eth0 up</p><p style=\"margin: 0px; padding: 0px;\"><img src=\"quiver-image-url/17BA0BB3BC822084F1462F465A5C70EE.png\" alt=\"54c679130001212b05000040.jpg\" data-src=\"54c679130001212b05000040.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"30\"></p><p style=\"margin: 0px; padding: 0px;\">4、vi ifcfg-eth0可以这个界面可以把ONBOOT=no，ONBOOT=yes。</p><p style=\"margin: 0px; padding: 0px;\"><img src=\"quiver-image-url/874806DEBACD7BA4DCDA77A03A504B84.png\" alt=\"54c67ac80001785205000308.jpg\" data-src=\"54c67ac80001785205000308.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"231\"></p><p style=\"margin: 0px; padding: 0px;\">这里我的ONBOOT=yes已改过了。</p><p style=\"margin: 0px; padding: 0px;\">5、更改后输入：及wq保存并退出</p><p style=\"margin: 0px; padding: 0px;\"><img src=\"quiver-image-url/5B7F2E3C0CE443A13652166F6BBC677B.png\" alt=\"54c67c0c000139e905000485.jpg\" data-src=\"54c67c0c000139e905000485.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"363\"></p><p style=\"margin: 0px; padding: 0px;\"><img src=\"quiver-image-url/CCC103F677678B78B9334411B147CA32.png\" alt=\"54c67c6d0001aa8805000476.jpg\" data-src=\"54c67c6d0001aa8805000476.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"357\"></p><p style=\"margin: 0px; padding: 0px;\">6、输入service network restart重启网络服务。<br></p><p style=\"margin: 0px; padding: 0px;\"><img src=\"quiver-image-url/CC2B010DA6A5093AB94A92076C70ABE7.png\" alt=\"54c67d86000120ca05000104.jpg\" data-src=\"54c67d86000120ca05000104.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"78\"></p><p style=\"margin: 0px; padding: 0px;\">7、输入ifconfig,应该就能看到更改后的ip了，应该就算配置完成了。<img src=\"quiver-image-url/75D648D8A8E6B803EAE81286EB70FCF7.png\" alt=\"54c67ea60001331c05000225.jpg\" data-src=\"54c67ea60001331c05000225.jpg\" style=\"border: 0px; cursor: pointer;\" width=\"375\" height=\"168\"></p><p style=\"margin: 0px; padding: 0px;\">PS：以上思路是来源于楼主及hu000jun二人孜孜不倦的贡献，我这里先谢谢了，因为本人理解能力差反复看了好几遍，又在百度上查找费了好大劲终于弄懂而贡献出来的解决方案。所以献丑把自己领悟到的东西和大家分享。再次谢谢二人辛苦了。</p><p style=\"margin: 0px; padding: 0px;\"></p><p style=\"margin: 0px; padding: 0px;\"><br></p><p style=\"margin: 0px; padding: 0px;\"><span style=\"color: rgb(20, 25, 30); font-variant-ligatures: normal; background-color: rgb(255, 255, 255);\">分享一下我的方法。为了让Xshell连接centos，我也折腾了好一会。现在与大家分享一下。以下是我连接成功的设置：首先选择 NAT模式，然后setup ，讲使用DHCP 设为 * ，既自动获取IP地址。然后，按照楼主的方式 修改/etc/sysconfig/network-scripts/ifcfg-eth0 文件，&nbsp;把ONBOOT=no&nbsp;改为&nbsp;ONBOOT=yes 。然后 重启一下网络服务： service network restart &nbsp;.这是输入 ifconfig， 你就可以看到系统自动为你获取的eth0 inet addr. &nbsp;打开 XShell,新建连接，将&nbsp;系统自动为你获取的eth0 inet addr IP地址 写到 主机这一行里。就大功告成了~ &nbsp;</span><br></p></div></div></div></div></div></div></div>"
    }
  ]
}
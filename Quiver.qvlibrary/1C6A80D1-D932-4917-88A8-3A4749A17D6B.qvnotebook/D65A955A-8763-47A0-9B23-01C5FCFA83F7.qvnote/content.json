{
  "title": "怎样在 CentOS 7.0 上安装和配置 VNC 服务器",
  "cells": [
    {
      "type": "text",
      "data": "<p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">这是一个关于怎样在你的&nbsp;<a href=\"http://www.linuxidc.com/topicnews.aspx?tid=14\" target=\"_blank\" title=\"CentOS\" style=\"color: rgb(179, 43, 213);\">CentOS</a>&nbsp;7 上安装配置&nbsp;<a href=\"http://en.wikipedia.org/wiki/Virtual_Network_Computing\" style=\"color: rgb(179, 43, 213);\">VNC</a>&nbsp;服务的教程。当然这个教程也适合 RHEL 7 。在这个教程里，我们将学习什么是 VNC 以及怎样在 CentOS 7 上安装配置&nbsp;<a href=\"http://en.wikipedia.org/wiki/Virtual_Network_Computing\" style=\"color: rgb(179, 43, 213);\">VNC 服务器</a>。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">我们都知道，作为一个系统管理员，大多数时间是通过网络管理服务器的。在管理服务器的过程中很少会用到图形界面，多数情况下我们只是用 SSH 来完成我们的管理任务。在这篇文章里，我们将配置 VNC 来提供一个连接我们 CentOS 7 服务器的方法。VNC 允许我们开启一个远程图形会话来连接我们的服务器，这样我们就可以通过网络远程访问服务器的图形界面了。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">VNC 服务器是一个自由开源软件，它可以让用户可以远程访问服务器的桌面环境。另外连接 VNC 服务器需要使用 VNC viewer 这个客户端。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/7427A7BBCF4163A3AB1AA687353C094E.png\" alt=\"\" width=\"256\" height=\"256\" style=\"border: 0px;\"></p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">一些 VNC 服务器的优点：</p><ul style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li>远程的图形管理方式让工作变得简单方便。</li><li>剪贴板可以在 CentOS 服务器主机和 VNC 客户端机器之间共享。</li><li>CentOS 服务器上也可以安装图形工具，让管理能力变得更强大。</li><li>只要安装了 VNC 客户端，通过任何操作系统都可以管理 CentOS 服务器了。</li><li>比 ssh 图形转发和 RDP 连接更可靠。</li></ul><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">那么，让我们开始安装 VNC 服务器之旅吧。我们需要按照下面的步骤一步一步来搭建一个可用的 VNC。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">首先，我们需要一个可用的桌面环境（X-Window），如果没有的话要先安装一个。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><strong>注意：以下命令必须以 root 权限运行。要切换到 root ，请在终端下运行“sudo -s”，当然不包括双引号（“”）</strong></p><h4 id=\"toc_1\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">1. 安装 X-Window</h4><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">首先我们需要安装&nbsp;<a href=\"http://en.wikipedia.org/wiki/X_Window_System\" style=\"color: rgb(179, 43, 213);\">X-Window</a>，在终端中运行下面的命令，安装会花费一点时间。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code># yum check-update</code></li><li class=\"L1\"><code># yum groupinstall \"X Window System\"</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/4CACB7A10A1EE02C09A9A731D5038338.png\" alt=\"installing x windows\" style=\"border: 0px;\" width=\"687\" height=\"402\"></p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code>#yum install gnome-classic-session gnome-terminal nautilus-open-terminal control-center liberation-mono-fonts</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/3A370B3F6EF2923018180DB737082977.png\" alt=\"install gnome classic session\" style=\"border: 0px;\" width=\"687\" height=\"402\"></p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code>### 设置默认启动图形界面</code></li><li class=\"L1\"><code># unlink /etc/systemd/system/default.target</code></li><li class=\"L2\"><code># ln -sf /lib/systemd/system/graphical.target /etc/systemd/system/default.target</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/74591759B7EA625B3BD5521650A06063.png\" alt=\"configuring graphics\" style=\"border: 0px;\" width=\"687\" height=\"402\"></p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code># reboot</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">在服务器重启之后，我们就有了一个工作着的 CentOS 7 桌面环境了。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">现在，我们要在服务器上安装 VNC 服务器了。</p><h4 id=\"toc_2\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">2. 安装 VNC 服务器</h4><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">现在要在我们的 CentOS 7 上安装 VNC 服务器了。我们需要执行下面的命令。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code># yum install tigervnc-server -y</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/C1E5688FEEB89C5C1C3126C01448B401.png\" alt=\"vnc server\" style=\"border: 0px;\" width=\"687\" height=\"402\"></p><h4 id=\"toc_3\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">3. 配置 VNC</h4><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">然后，我们需要在&nbsp;<code>/etc/systemd/system/</code>&nbsp;目录里创建一个配置文件。我们可以将&nbsp;<code>/lib/systemd/sytem/vncserver@.service</code>&nbsp;拷贝一份配置文件范例过来。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code># cp /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@:1.service</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/64AB6E1A8DEA3D158B7BEC27CC641CD0.png\" alt=\"copying vnc server configuration\" style=\"border: 0px;\" width=\"663\" height=\"49\"></p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">接着我们用自己最喜欢的编辑器（这儿我们用的&nbsp;<strong>nano</strong>&nbsp;）打开&nbsp;<code>/etc/systemd/system/vncserver@:1.service</code>&nbsp;，找到下面这几行，用自己的用户名替换掉 。举例来说，我的用户名是 linoxide 所以我用 linoxide 来替换掉 ：</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code><span class=\"typ\">ExecStart</span><span class=\"pun\">=</span><span class=\"str\">/sbin/</span><span class=\"pln\">runuser&nbsp;</span><span class=\"pun\">-</span><span class=\"pln\">l&nbsp;</span><span class=\"pun\">&lt;</span><span class=\"pln\">USER</span><span class=\"pun\">&gt;</span><span class=\"pun\">-</span><span class=\"pln\">c&nbsp;</span><span class=\"str\">\"/usr/bin/vncserver %i\"</span></code></li><li class=\"L1\"><code><span class=\"typ\">PIDFile</span><span class=\"pun\">=</span><span class=\"str\">/home/</span><span class=\"pun\">&lt;</span><span class=\"pln\">USER</span><span class=\"pun\">&gt;</span><span class=\"str\">/.vnc/</span><span class=\"pun\">%</span><span class=\"pln\">H</span><span class=\"pun\">%</span><span class=\"pln\">i</span><span class=\"pun\">.</span><span class=\"pln\">pid</span></code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">替换成</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code><span class=\"typ\">ExecStart</span><span class=\"pun\">=</span><span class=\"str\">/sbin/</span><span class=\"pln\">runuser&nbsp;</span><span class=\"pun\">-</span><span class=\"pln\">l linoxide&nbsp;</span><span class=\"pun\">-</span><span class=\"pln\">c&nbsp;</span><span class=\"str\">\"/usr/bin/vncserver %i\"</span></code></li><li class=\"L1\"><code><span class=\"typ\">PIDFile</span><span class=\"pun\">=</span><span class=\"str\">/home/</span><span class=\"pln\">linoxide</span><span class=\"pun\">/.</span><span class=\"pln\">vnc</span><span class=\"pun\">/%</span><span class=\"pln\">H</span><span class=\"pun\">%</span><span class=\"pln\">i</span><span class=\"pun\">.</span><span class=\"pln\">pid</span></code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">如果是 root 用户则</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code><span class=\"typ\">ExecStart</span><span class=\"pun\">=</span><span class=\"str\">/sbin/</span><span class=\"pln\">runuser&nbsp;</span><span class=\"pun\">-</span><span class=\"pln\">l root&nbsp;</span><span class=\"pun\">-</span><span class=\"pln\">c&nbsp;</span><span class=\"str\">\"/usr/bin/vncserver %i\"</span></code></li><li class=\"L1\"><code><span class=\"typ\">PIDFile</span><span class=\"pun\">=</span><span class=\"str\">/root/</span><span class=\"pun\">.</span><span class=\"pln\">vnc</span><span class=\"pun\">/%</span><span class=\"pln\">H</span><span class=\"pun\">%</span><span class=\"pln\">i</span><span class=\"pun\">.</span><span class=\"pln\">pid</span></code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/CCEA7CF00BF772FC7E86AD3E5933CD51.png\" alt=\"configuring user\" style=\"border: 0px;\" width=\"687\" height=\"402\"></p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">好了，下面重启 systemd 。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code># systemctl daemon-reload</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">最后还要设置一下用户的 VNC 密码。要设置某个用户的密码，必须要有能通过 sudo 切换到用户的权限，这里我用 linoxide 的权限，执行“<code>su linoxide</code>”就可以了。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code># su linoxide</code></li><li class=\"L1\"><code>$ sudo vncpasswd</code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/6BF6320BF31D2DFB74D037AA9E15726F.png\" alt=\"setting vnc password\" width=\"919\" vspace=\"5\" style=\"border: 0px; cursor: pointer; display: block;\" height=\"463\"></p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><strong>确保你输入的密码多于6个字符</strong></p><h4 id=\"toc_4\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">4. 开启服务</h4><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">用下面的命令（永久地）开启服务：</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code><span class=\"pln\">$ sudo systemctl enable vncserver@</span><span class=\"pun\">:</span><span class=\"lit\">1.service</span></code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">启动服务。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code><span class=\"pln\">$ sudo systemctl start vncserver@</span><span class=\"pun\">:</span><span class=\"lit\">1.service</span></code></li></ol><h4 id=\"toc_5\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">5. 防火墙设置</h4><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">我们需要配置防火墙来让 VNC 服务正常工作。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code><span class=\"pln\">$ sudo firewall</span><span class=\"pun\">-</span><span class=\"pln\">cmd&nbsp;</span><span class=\"pun\">--</span><span class=\"pln\">permanent&nbsp;</span><span class=\"pun\">--</span><span class=\"pln\">add</span><span class=\"pun\">-</span><span class=\"pln\">service vnc</span><span class=\"pun\">-</span><span class=\"pln\">server</span></code></li><li class=\"L1\"><code><span class=\"pln\">$ sudo systemctl restart firewalld</span><span class=\"pun\">.</span><span class=\"pln\">service</span></code></li></ol><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/FBDEE980332B3A443A355CAB787E790D.png\" alt=\"allowing firewalld\" width=\"919\" vspace=\"5\" style=\"border: 0px; cursor: pointer; display: block;\" height=\"463\"></p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">现在就可以用 IP 和端口号（LCTT 译注：例如 192.168.1.1:1 ，这里的端口不是服务器的端口，而是视 VNC 连接数的多少从1开始排序）来连接 VNC 服务器了。</p><h4 id=\"toc_6\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">6. 用 VNC 客户端连接服务器</h4><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">好了，现在已经完成了 VNC 服务器的安装了。要使用 VNC 连接服务器，我们还需要一个在本地计算机上安装的仅供连接远程计算机使用的 VNC 客户端。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><img src=\"quiver-image-url/2ACD588137F6B9C6F6E3AA4BE1D4AE92.png\" alt=\"remote access vncserver from vncviewer\" width=\"1350\" vspace=\"5\" style=\"border: 0px; cursor: pointer; display: block;\" height=\"752\"></p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">你可以用像&nbsp;<a href=\"http://www.tightvnc.com/\" style=\"color: rgb(179, 43, 213);\">Tightvnc viewer</a>&nbsp;和&nbsp;<a href=\"https://www.realvnc.com/\" style=\"color: rgb(179, 43, 213);\">Realvnc viewer</a>&nbsp;的客户端来连接到服务器。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">要用更多的用户连接，需要创建配置文件和端口，请回到第3步，添加一个新的用户和端口。你需要创建&nbsp;<code>vncserver@:2.service</code>&nbsp;并替换配置文件里的用户名和之后步骤里相应的文件名、端口号。<strong>请确保你登录 VNC 服务器用的是你之前配置 VNC 密码的时候使用的那个用户名</strong>。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">VNC 服务本身使用的是5900端口。鉴于有不同的用户使用 VNC ，每个人的连接都会获得不同的端口。配置文件名里面的数字告诉 VNC 服务器把服务运行在5900的子端口上。在我们这个例子里，第一个 VNC 服务会运行在5901（5900 + 1）端口上，之后的依次增加，运行在5900 + x 号端口上。其中 x 是指之后用户的配置文件名&nbsp;<code>vncserver@:x.service</code>&nbsp;里面的 x 。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">在建立连接之前，我们需要知道服务器的 IP 地址和端口。IP 地址是一台计算机在网络中的独特的识别号码。我的服务器的 IP 地址是96.126.120.92，VNC 用户端口是1。</p><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">执行下面的命令可以获得服务器的公网 IP 地址（LCTT 译注：如果你的服务器放在内网或使用动态地址的话，可以这样获得其公网 IP 地址）。</p><ol class=\"linenums\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li class=\"L0\"><code># curl -s checkip.dyndns.org|sed -e 's/.*Current IP Address: //' -e 's/&lt;.*$//'</code></li></ol><h4 id=\"toc_7\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">总结</h4><p style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">好了，现在我们已经在运行 CentOS 7 / RHEL 7 的服务器上安装配置好了 VNC 服务器。VNC 是自由开源软件中最简单的一种能实现远程控制服务器的工具，也是一款优秀的 Teamviewer Remote Access 替代品。VNC 允许一个安装了 VNC 客户端的用户远程控制一台安装了 VNC 服务的服务器。下面还有一些经常使用的相关命令。好好玩！</p><h4 id=\"toc_8\" style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\">其他命令：</h4><ul style=\"font-size: 14px; color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 22.4px; text-align: justify; background-color: rgb(250, 250, 252);\"><li><p>关闭 VNC 服务。</p><ol class=\"linenums\"><li class=\"L0\"><code># systemctl stop vncserver@:1.service</code></li></ol></li><li><p>禁止 VNC 服务开机启动。</p><ol class=\"linenums\"><li class=\"L0\"><code># systemctl disable vncserver@:1.service</code></li></ol></li><li><p>关闭防火墙。</p><ol class=\"linenums\"><li class=\"L0\"><code># systemctl stop firewalld.service</code></li></ol></li></ul>"
    }
  ]
}
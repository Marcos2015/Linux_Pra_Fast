{
  "title": "C++中this指针的用法详解",
  "cells": [
    {
      "type": "text",
      "data": "<p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">1. this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针的用处</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">:</font></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　一个对象的</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针并不是对象本身的一部分，不会影响</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">sizeof(</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">对象</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">)</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的结果。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">作用域是在类内部，当在类的非静态成员函数中访问类的非静态成员的时候，编译器会自动将对象本身的地址作为一个隐含参数传递给函数。也就是说，即使你没有写上</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针，编译器在编译的时候也是加上</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的，它作为非静态成员函数的隐含形参，对各成员的访问均通过</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">进行。</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　例如，调用</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">date.SetMonth(9) &lt;===&gt; SetMonth(&amp;date, 9)</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">，</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">帮助完成了这一转换</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;.</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">2. this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针的使用</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">:</font></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">一种情况就是，在类的非静态成员函数中返回类对象本身的时候，直接使用</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;return *this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">；另外一种情况是当参数与成员变量名相同时，如</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this-&gt;n = n&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">（不能写成</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">n = n</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">）。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">3. this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针程序示例</span></b><font face=\"Times New Roman\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\">:</span></b><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></font></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针存在于类的成员函数中</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">,</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指向被调用函数所在的类实例的地址。</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　根据以下程序来说明</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">#include&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">class Point&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">{&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">int x, y;&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">public:&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">Point(int a, int b) { x=a; y=b;}&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">void MovePoint( int a, int b){ x+=a; y+=b;}&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">void print(){ cout&lt;&lt;\"x=\"&lt;</font></span><font face=\"Times New Roman\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></font></p><font face=\"Times New Roman\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">};&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">void main( )&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">{&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">Point point1( 10,10);&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">point1.MovePoint(2,2);&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">point1.print( );&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">}&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">当对象</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">point1</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">调用</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">MovePoint(2,2)</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">函数时，即将</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">point1</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">对象的地址传递给了</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针。</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">MovePoint</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">函数的原型应该是</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;void MovePoint( Point *this, int a, int b);</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">第一个参数是指向该类对象的一个指针，我们在定义成员函数时没看见是因为这个参数在类中是隐含的。这样</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">point1</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的地址传递给了</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">，所以在</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">MovePoint</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">函数中便显式的写成：</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">void MovePoint(int a, int b) { this-&gt;x +=a; this-&gt; y+= b;}&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　即可以知道，</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">point1</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">调用该函数后，也就是</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">point1</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的数据成员被调用并更新了值。</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　即该函数过程可写成</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;point1.x+= a; point1. y + = b;</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">4.&nbsp;</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">关于</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针的一个经典回答</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">:</font></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">当你进入一个房子后，</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">你可以看见桌子、椅子、地板等，</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">但是房子你是看不到全貌了。</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">对于一个类的实例来说，</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">你可以看到它的成员函数、成员变量，</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">但是实例本身呢？</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">　　</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; text-indent: 24pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">是一个指针，它时时刻刻指向你这个实例本身</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">5.&nbsp;</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">类的</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针有以下特点：</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">（</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">1</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">）</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">只能在成员函数中使用。</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">全局函数、静态函数都不能使用</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this.</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">实际上，成员函数默认第一个参数为</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">T * const this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">如：</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;class A</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;{</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;&nbsp;public:</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int func(int p)</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;};</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">其中，</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">func</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">的原型在编译器看来应该是：</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">&nbsp;&nbsp;int func(A * const this,int p);</font></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">（</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">2</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">）由此可见，</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">在成员函数的开始前构造，在成员函数的结束后清除。</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">这个生命周期同任何一个函数的参数是一样的，没有任何区别。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">当调用一个类的成员函数时，编译器将类的指针作为函数的</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">参数传递进去。如：</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">A a;</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">a.func(10);</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">此处，编译器将会编译成：</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">A::func(&amp;a,10);</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">看起来和静态函数没差别，对吗？<b>不过，区别还是有的。编译器通常会对</b></span><b><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针做一些优化，</span></b><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">因此，</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针的传递效率比较高</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">--</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">如</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">VC</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">通常是通过</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">ecx</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">寄存器传递</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">参数的。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">（</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">3</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">）几个</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针的易混问题。</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">A. this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针是什么时候创建的？</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">在成员函数的开始执行前构造，在成员的执行结束后清除。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">但是如果</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">class</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">或者</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">struct</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">里面没有方法的话，它们是没有构造函数的，只能当做</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">C</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">struct</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">使用。采用</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;TYPE xx</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的方式定义的话，在栈里分配内存，这时候</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针的值就是这块内存的地址。采用</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">new</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的方式</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">创建对象的话，在堆里分配内存，</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">new</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">操作符通过</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">eax</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">返回分配</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">的地址，然后设置给指针变量。之后去调</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">用构造函数（如果有构造函数的话），这时将这个内存块的地址传给</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">ecx</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">，之后构造函数里面怎么处理请</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\"></font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">看上面的回答。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">B. this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针存放在何处？堆、栈、全局变量，还是其他？</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针会因编译器不同而有不同的放置位置。可能是栈，也可能是寄存器，甚至全局变量。在汇编级</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">别里面，一个值只会以</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">3</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">种形式出现：立即数、寄存器值和内存变量值。不是存放在寄存器就是存放在内</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">存中，它们并不是和高级语言变量对应的。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">C. this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针是如何传递类中的函数的？</span></b><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">绑定？还是在函数参数的首参数就是</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针？那么，</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针</span><span style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">又是如何找到“类实例后函数的”？</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">大多数编译器通过</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">ecx</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">寄存器传递</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针。事实上，这也是一个潜规则。一般来说，不同编译器都会遵从一致的传参规则，否则不同编译器产生的</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">obj</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">就无法匹配了。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">在</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">call</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">之前，编译器会把对应的对象地址放到</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">eax</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">中。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">是通过函数参数的首参来传递的。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针在调用之前生成，至于“类实例后函数”，没有这个说法。类在实例化时，只分配类中的变量空间，并没有为函数分配空间。自从类的函数定义完成后，它就在那儿，不会跑的。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">D. this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针是如何访问类中的变量的？</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">如果不是类，而是结构体的话，那么，如何通过结构指针来访问结构中的变量呢？如果你明白这一点的话，就很容易理解这个问题了。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\"></font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">在</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">C++</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">中</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">&nbsp;,</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">类和结构是只有一个区别的：类的成员默认是</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">private</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">，而结构是</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">public</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">。</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">是类的指针，如果换成结构，那</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">就是结构的指针了。</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\"></font></span></b></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">E.&nbsp;</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">我们只有获得一个对象后，才能通过对象使用</span></b><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">this</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">指针。</span></b><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">如果我们知道一个对象</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针的位置，可以直接使用吗？</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针只有在成员函数中才有定义。因此，你获得一个对象后，也不能通过对象使用</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针。所以，我们无法知道一个对象的</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针的位置（只有在成员函数里才有</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针的位置）。当然，在成员函数里，你是可以知道</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">指针的位置的（可以通过</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&amp;this</font></span><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">获得），也可以直接使用它。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><b><span lang=\"EN-US\" style=\"font-size: 14pt; line-height: 28px;\"><font face=\"Times New Roman\">F.&nbsp;</font></span></b><b><span style=\"font-size: 14pt; line-height: 28px; font-family: 宋体;\">每个类编译后，是否创建一个类中函数表保存函数指针，以便用来调用函数？</span></b><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span style=\"font-size: 12pt; line-height: 24px; font-family: 宋体;\">普通的类函数（不论是成员函数，还是静态函数）都不会创建一个函数表来保存函数指针。只有虚函数才会被放到函数表中。但是，即使是虚函数，如果编译器能明确知道调用的是哪个函数，编译器就不会通过函数表中的指针来间接调用，而是会直接调用该函数。</span><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\"></font></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin: 0cm 0cm 0pt; line-height: 21px;\"><span lang=\"EN-US\" style=\"font-size: 12pt; line-height: 24px;\"><font face=\"Times New Roman\">&nbsp;</font></span></p></font><font face=\"Times New Roman\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"></font><font face=\"Times New Roman\" style=\"color: rgb(0, 0, 0); font-size: 14px;\"><div class=\"Blog_con2_1 Blog_con3_2\"><div></div>阅读(18509) | 评论(1) | 转发(9) |</div></font>"
    }
  ]
}
{
  "title": "epoll的使用以及一个完整的C语言实例",
  "cells": [
    {
      "type": "text",
      "data": "\n\n\n\n\n\n\n<!--[if gte mso 9]><xml>\n <o:OfficeDocumentSettings>\n  <o:AllowPNG/>\n </o:OfficeDocumentSettings>\n</xml><![endif]-->\n\n<!--[if gte mso 9]><xml>\n <w:WordDocument>\n  <w:View>Normal</w:View>\n  <w:Zoom>0</w:Zoom>\n  <w:TrackMoves/>\n  <w:TrackFormatting/>\n  <w:PunctuationKerning/>\n  <w:DrawingGridVerticalSpacing>10 磅</w:DrawingGridVerticalSpacing>\n  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>\n  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>\n  <w:ValidateAgainstSchemas/>\n  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>\n  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>\n  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>\n  <w:DoNotPromoteQF/>\n  <w:LidThemeOther>EN-US</w:LidThemeOther>\n  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>\n  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>\n  <w:Compatibility>\n   <w:SpaceForUL/>\n   <w:BalanceSingleByteDoubleByteWidth/>\n   <w:DoNotLeaveBackslashAlone/>\n   <w:ULTrailSpace/>\n   <w:DoNotExpandShiftReturn/>\n   <w:AdjustLineHeightInTable/>\n   <w:BreakWrappedTables/>\n   <w:SnapToGridInCell/>\n   <w:WrapTextWithPunct/>\n   <w:UseAsianBreakRules/>\n   <w:DontGrowAutofit/>\n   <w:SplitPgBreakAndParaMark/>\n   <w:EnableOpenTypeKerning/>\n   <w:DontFlipMirrorIndents/>\n   <w:OverrideTableStyleHps/>\n   <w:UseFELayout/>\n  </w:Compatibility>\n  <m:mathPr>\n   <m:mathFont m:val=\"Cambria Math\"/>\n   <m:brkBin m:val=\"before\"/>\n   <m:brkBinSub m:val=\"&#45;-\"/>\n   <m:smallFrac m:val=\"off\"/>\n   <m:dispDef/>\n   <m:lMargin m:val=\"0\"/>\n   <m:rMargin m:val=\"0\"/>\n   <m:defJc m:val=\"centerGroup\"/>\n   <m:wrapIndent m:val=\"1440\"/>\n   <m:intLim m:val=\"subSup\"/>\n   <m:naryLim m:val=\"undOvr\"/>\n  </m:mathPr></w:WordDocument>\n</xml><![endif]--><!--[if gte mso 9]><xml>\n <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"\n  DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"\n  LatentStyleCount=\"382\">\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"heading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 9\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"footer\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of figures\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope return\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"line number\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"page number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of authorities\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"macro\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"toa heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Closing\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Signature\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Message Header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Salutation\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Date\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Block Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Hyperlink\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"FollowedHyperlink\"/>\n  <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>\n  <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Document Map\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Plain Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"E-mail Signature\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Top of Form\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Bottom of Form\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Normal (Web)\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Acronym\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Cite\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Code\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Definition\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Keyboard\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Preformatted\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Sample\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Typewriter\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Variable\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Table\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation subject\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"No List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Contemporary\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Elegant\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Professional\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Balloon Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" Name=\"Table Grid\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Theme\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>\n  <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"\n   Name=\"List Paragraph\"/>\n  <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"\n   Name=\"Intense Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"\n   Name=\"Subtle Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"\n   Name=\"Intense Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"\n   Name=\"Subtle Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"\n   Name=\"Intense Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>\n  <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Mention\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Smart Hyperlink\"/>\n </w:LatentStyles>\n</xml><![endif]-->\n\n<!--[if gte mso 10]>\n<style>\n /* Style Definitions */\ntable.MsoNormalTable\n\t{mso-style-name:普通表格;\n\tmso-tstyle-rowband-size:0;\n\tmso-tstyle-colband-size:0;\n\tmso-style-noshow:yes;\n\tmso-style-priority:99;\n\tmso-style-parent:\"\";\n\tmso-padding-alt:0cm 5.4pt 0cm 5.4pt;\n\tmso-para-margin:0cm;\n\tmso-para-margin-bottom:.0001pt;\n\tmso-pagination:widow-orphan;\n\tfont-size:12.0pt;\n\tfont-family:\"Cambria\",serif;\n\tmso-ascii-font-family:Cambria;\n\tmso-ascii-theme-font:minor-latin;\n\tmso-hansi-font-family:Cambria;\n\tmso-hansi-theme-font:minor-latin;\n\tmso-font-kerning:1.0pt;}\n</style>\n<![endif]-->\n\n\n\n<!--StartFragment-->\n\n<p class=\"MsoNormal\" align=\"left\"><span style=\"font-family:宋体;\nmso-ascii-font-family:Tahoma;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;\ncolor:#343434;mso-font-kerning:0pt\">高性能的网络服务器需要同时并发处理大量的客户端，而采用以前的那种对每个连接使用一个分开的线程或进程方法效率不高，因为处理大量客户端的时候，资源的使用及进程上下文的切换将会影响服务器的性能。一个可替代的方法是在一个单一的线程中使用非阻塞的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">I/O</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">（</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">non-blocking I/O</span><span style=\"font-family:宋体;mso-ascii-font-family:\nTahoma;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;\nmso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">）。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">这篇文章主要介绍</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">linux</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">下的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">epoll(7)</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">方法，其有着良好的就绪事件通知机制。我们将会使用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">C</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">来展现一个完整的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">TCP</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">服务器实现代码。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">Epoll</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">是被</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">linux2.6</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">开始引进的，但是不被其他的类</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">UNIX</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">系统支持，它提供了一种类似</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">select</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">或</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">poll</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">函数的机制：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-ascii-font-family:&quot;Heiti SC Light&quot;;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;mso-bidi-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">1.</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">Select(2)</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">只能够同时管理</span><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">FD_SETSIZE</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">数目的文件描述符</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n2.&nbsp;poll(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">没有固定的描述符上限这一限制，但是每次必须遍历所有的描述符来检查就绪的描述符，这个过程的时间复杂度为</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">O(N)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">没有</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">select</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">这样对文件描述符上限的限制，也不会像</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">poll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">那样进行线性的遍历。因此</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">处理大并发连接有着更高的性能。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><b><span lang=\"EN-US\" style=\"font-size:13.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;Epoll</span></b><b><span style=\"font-size:13.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">相关操作函数介绍：</span></b><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; 1.&nbsp;<b>epoll_create</b>(2)\nor <b>epoll_create1</b>(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">（有着不同的参数值）用来创建</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">实例。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/usr/include/sys/epoll.h<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">extern int epoll_create\n(int __size) ;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">RETURN</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">：<span lang=\"EN-US\">&gt;0, </span>成功；<span lang=\"EN-US\">-1, </span>出错<span lang=\"EN-US\"><o:p></o:p></span></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">函数描述：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (1)\nepoll_create</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">返回的是一个文件描述符，也就是说</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">是以特殊文件的方式体现给用户</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (2)\n__size</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">提示操作系统，用户可能要使用多少个文件描述符，该参数已经废弃，填写一个大于</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">0</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">的正整数</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.\n&nbsp;<b>epoll_ctl</b>(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">用来增加或移除被</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">所监听的文件描述符。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int epoll_ctl(int epfd,\nint op, int fd, struct  epoll_event\n*event);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">RETURN</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">：<span lang=\"EN-US\">0</span>，成功；<span lang=\"EN-US\">-1</span>，出错<span lang=\"EN-US\"><o:p></o:p></span></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">函数描述：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(1) epfd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">为</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll_create</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">创建的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">描述符</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(2) epoll_ctl</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">函数对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">进行</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">op</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">类型的操作，</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">op</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">选项为</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nEPOLL_CTL_ADD</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">fd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">描述符注册</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">event</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nEPOLL_CTL_MOD</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">fd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">描述符的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">event</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">事件进行修改</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nEPOLL_CTL_DEL</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，删除已注册的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">event</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;<b>epoll_wait</b>(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">用来等待发生在监听描述符上的事件。它会一直阻塞直到事件发生。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int epoll_wait(int epfd,\nstruct epoll_event *events,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int maxevents, int timeout);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">RETURN:&gt;0</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">，发生事件个数；<span lang=\"EN-US\">=0</span>，时间到；<span lang=\"EN-US\">-1</span>，出错<span lang=\"EN-US\"><o:p></o:p></span></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">函数描述：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nepoll_wait</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">与</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">select</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">函数类似，同步地等待事件发生</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(1) epfd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，标识</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的文件描述符</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(2) </span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:red;mso-font-kerning:0pt\">events</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">，指向传入操作系统的一个</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_event</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">数组</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(3) maxevents</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，表示传入数组的大小，必须大于</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\">0<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;\nmso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:\n0pt\">当有事件发生，</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:red;mso-font-kerning:0pt\">Linux</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">会填写</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">events</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">结构，返回给应用程序。由于</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_wait</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">同步等待，有可能被信号中断，返回</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">EINTR</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">错误</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">更多的函数介绍请参照</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">man</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><b><span lang=\"EN-US\" style=\"font-size:13.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">Epoll</span></b><b><span style=\"font-size:13.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">的两种模式：</span></b><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.&nbsp;</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">水平触发（</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">LT</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">）：使用此种模式，当数据可读的时候，</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_wait()</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">将会一直返回就绪事件。如果你没有处理完全部数据，并且再次在该</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">实例上调用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_wait()</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">才监听描述符的时候，它将会再次返回就绪事件，因为有数据可读。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">只支持非阻塞</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">socket</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.&nbsp;</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">边缘触发（</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">）：使用此种模式，只能获取一次就绪通知，如果没有处理完全部数据，并且再次调用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_wait()</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的时候，它将会阻塞，因为就绪事件已经释放出来了。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">的效能更高，但是对程序员的要求也更高。在</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">模式下，我们必须一次干净而彻底地处理完所有事件。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">LT</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">两种模式的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">socket</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">都支持。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">传递给</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_ctl(2)</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">Epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">事件结构体如下所示：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">typedef unionepoll_data<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">void*ptr;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int fd;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp; __uint32_t&nbsp;&nbsp;\nu32;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp; __uint64_t&nbsp;&nbsp;\nu64;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}epoll_data_t;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">structepoll_event<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp; __uint32_t&nbsp;&nbsp;\nevents;/* Epoll events */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll_data_t data;/* User\ndata variable */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">对于每一个监听的描述符，能够关联一个整形数据或指向用户数据的指针。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的事件类型：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">enum EPOLL_EVENTS<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLIN = 0x001,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLIN EPOLLIN<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLPRI = 0x002,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLPRI EPOLLPRI<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLOUT = 0x004,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLOUT EPOLLOUT<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLRDNORM = 0x040,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLRDNORM\nEPOLLRDNORM<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLRDBAND = 0x080,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLRDBAND\nEPOLLRDBAND<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLWRNORM = 0x100,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLWRNORM EPOLLWRNORM<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLWRBAND = 0x200,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLWRBAND\nEPOLLWRBAND<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLMSG = 0x400,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLMSG EPOLLMSG<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLERR = 0x008,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLERR EPOLLERR<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLHUP = 0x010,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLHUP EPOLLHUP<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLRDHUP = 0x2000,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLRDHUP EPOLLRDHUP<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLONESHOT = (1 &lt;&lt; 30),<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLONESHOT\nEPOLLONESHOT<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; EPOLLET = (1 &lt;&lt; 31)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLET EPOLLET<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp; };<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLIN</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，读事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLOUT</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，写事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLPRI</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，带外数据，与</span><span lang=\"EN-US\" style=\"font-size:10.0pt;\nfont-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">select</span><span style=\"font-size:10.0pt;\nfont-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的异常事件集合对应</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLRDHUP</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，</span><span lang=\"EN-US\" style=\"font-size:10.0pt;\nfont-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">TCP</span><span style=\"font-size:10.0pt;\nfont-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">连接对端至少写写半关闭</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLERR</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，错误事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLET</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，设置事件为边沿触发</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLONESHOT</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，只触发一次，事件自动被删除</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\">&nbsp; epoll</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#3366FF;mso-font-kerning:0pt\">在一个文件描述符上只能有一个事件，在一个描述符上添加多个事件，会产生</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\">EEXIST</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#3366FF;mso-font-kerning:0pt\">的错误。同样，删除</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#3366FF;mso-font-kerning:0pt\">的事件，只需描述符就够了</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(epfd,\nEPOLL_CTL_DEL, fd, NULL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">这里有一个比较重要的问题：从</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_wait</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">返回的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">events</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">中，该如何知道是哪个描述符上的事件：在注册</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">事件的时候，一定要填写</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_data</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">，否则我们将分不清触发的是哪个描述符上的事件。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">下面我们将实现一个轻型</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">TCP</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">服务器，功能是在标准输出中打印发送给套接字的一切数据。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*\n=====================================================================================<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nFilename:&nbsp; EpollServer.c<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;\nDescription:&nbsp; this is a epoll\nserver example<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nVersion:&nbsp; 1.0<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nCreated:&nbsp; 2012</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">年<span lang=\"EN-US\">03</span>月<span lang=\"EN-US\">15</span>日<span lang=\"EN-US\"> 20</span>时<span lang=\"EN-US\">24</span>分<span lang=\"EN-US\">26</span>秒<span lang=\"EN-US\"><o:p></o:p></span></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nRevision:&nbsp; none<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nCompiler:&nbsp; gcc<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nAuthor:&nbsp; LGP (), lgp8819@gmail.com<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nCompany:&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*\n=====================================================================================<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*/<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;stdio.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;stdlib.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;string.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/types.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/socket.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;errno.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;fcntl.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;unistd.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;netdb.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/*struct addrinfo <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nai_flags;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nai_family;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nai_socktype;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nai_protocol;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nai_addrlen;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct sockaddr *ai_addr;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n*ai_canonname;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct addrinfo *ai_next;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}; */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">static int create_and_bind(char*\nport)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct addrinfo hints;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct addrinfo*result,*rp;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int s,sfd;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset(&amp;hints,0,sizeof(struct addrinfo));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hints.ai_family= AF_UNSPEC;/* Return IPv4 and IPv6 */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hints.ai_socktype= SOCK_STREAM;/* TCP socket */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hints.ai_flags= AI_PASSIVE;/* All interfaces */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s = getaddrinfo(NULL, port,&amp;hints,&amp;result); //more\ninfo about getaddrinfo() please see:man getaddrinfo!<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s != 0)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stderr,\"getaddrinfo:\n%s\\n\",gai_strerror(s));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(rp= result;rp!= NULL;rp=rp-&gt;ai_next)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sfd =\nsocket(rp-&gt;ai_family,rp-&gt;ai_socktype,rp-&gt;ai_protocol);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(sfd==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s =bind(sfd,rp-&gt;ai_addr,rp-&gt;ai_addrlen);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==0)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* We managed to bind successfully! */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close(sfd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(rp== NULL)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stderr,\"Could not bind\\n\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return-1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; freeaddrinfo(result);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sfd;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">static int\nmake_socket_non_blocking(int sfd)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags, s;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(sfd, F_GETFL,0);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"fcntl\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return-1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags|= O_NONBLOCK;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s =fcntl(sfd, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"fcntl\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return-1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define MAXEVENTS 64<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int main(int\nargc,char*argv[])<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int sfd, s;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int efd;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct epoll_event event;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct epoll_event* events;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(argc!=2)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stderr,\"Usage: %s [port]\\n\",argv[0]);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit(EXIT_FAILURE);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sfd = create_and_bind(argv[1]);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( sfd == -1 )<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s = make_socket_non_blocking(sfd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s = listen(sfd, SOMAXCONN);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"listen\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; efd = epoll_create1(0);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(efd==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"epoll_create\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; event.data.fd=sfd;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; event.events= EPOLLIN | EPOLLET;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s =epoll_ctl(efd, EPOLL_CTL_ADD,sfd,&amp;event);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"epoll_ctl\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Buffer where events are returned */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; events=calloc(MAXEVENTS,sizeof event);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* The event loop */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int n,i;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n =epoll_wait(efd, events, MAXEVENTS,-1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt; n;i++)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if((events[i].events &amp; EPOLLERR)||<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (events[i].events &amp; EPOLLHUP)||<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (!(events[i].events &amp;\nEPOLLIN)))<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* An error has occured on this fd, or\nthe socket is not<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\nready for reading (why were we notified then?) */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stderr,\"epoll\nerror\\n\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close(events[i].data.fd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(sfd == events[i].data.fd)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* We have a notification on the\nlistening socket, which<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\nmeans one or more incoming connections. */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct sockaddr in_addr;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; socklen_t in_len;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int infd;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char hbuf[NI_MAXHOST],sbuf[NI_MAXSERV];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in_len = sizeof in_addr;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; infd =\naccept(sfd,&amp;in_addr,&amp;in_len);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(infd==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if((errno== EAGAIN)||<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (errno==\nEWOULDBLOCK))<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* We have processed\nall incoming<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; connections. */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"accept\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s\n=getnameinfo(&amp;in_addr,in_len,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hbuf,sizeof hbuf,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sbuf,sizeof sbuf,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NI_NUMERICHOST |\nNI_NUMERICSERV);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==0)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(\"Accepted\nconnection on descriptor %d \"<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \"(host=%s,\nport=%s)\\n\",infd,hbuf,sbuf);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Make the incoming socket\nnon-blocking and add it to the<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\nlist of fds to monitor. */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s =\nmake_socket_non_blocking(infd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s\n==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; event.data.fd=infd;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; event.events= EPOLLIN | EPOLLET;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s = epoll_ctl(efd,\nEPOLL_CTL_ADD,infd,&amp;event);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"epoll_ctl\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* We have data on the fd waiting to be\nread. Read and<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\ndisplay it. We must read whatever data is available<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\ncompletely, as we are running in edge-triggered mode<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\nand won't get a notification again for the same<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\ndata. */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int done =0;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssize_t count;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char buf[512];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count =\nread(events[i].data.fd,buf,sizeof buf);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(count == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* If errno == EAGAIN, that\nmeans we have read all<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; data. So go back to the main loop. */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(errno!=\nEAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"read\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done=1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(count ==0)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* End of file. The remote\nhas closed the<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; connection. */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done=1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Write the buffer to standard\noutput */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s = write(1,buf, count);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s ==-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror(\"write\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abort();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(done)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(\"Closed connection on\ndescriptor %d\\n\",events[i].data.fd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Closing the descriptor will make\nepoll remove it<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;\nfrom the set of descriptors which are monitored. */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close(events[i].data.fd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; free(events);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close(sfd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return EXIT_SUCCESS;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">以下是使用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">c++</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">简单的封装类：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @file file.h<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @comment<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* wrap of file descriptor<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @author niexw<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*/<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#ifndef _XCOM_FILE_H_<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define _XCOM_FILE_H_<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;stdio.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;fcntl.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;sys/uio.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;fcntl.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n\"exception.h\"<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n\"buffer.h\"<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">namespace unp<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @class File<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @comment<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* wrap of file descriptor<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*/<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class File<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">protected:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int fd_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // construtor and destructor<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File() : fd_(-1) {}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; explicit File(FILE *stream) : fd_(fileno(stream)) {}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~File()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { close(); }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int getFd() { return fd_; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int getFd() const { return fd_; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t read(char *buf, size_t count) const<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::read(fd_, buf, count)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t write(char *buf, size_t count) const<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::write(fd_, buf, count)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void close()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (fd_ != -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ::close(fd_);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fd_ = -1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void setNonblock()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags |= O_NONBLOCK;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void clrNonblock()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags &amp;= ~O_NONBLOCK;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t readv(CircleBuffer &amp;buf)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::readv(fd_, buf.idle_, buf.idlenum_)) ==\n-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buf.afterRead(ret);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t writev(CircleBuffer &amp;buf)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::writev(fd_, buf.data_, buf.datanum_)) ==\n-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buf.afterWrite(ret);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void setFlag(int option)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags |= option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY1:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ret == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void clrFlag(int option)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags &amp;= ~option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY1:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ret == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @class File2<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @comment<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* wrap of file descriptor<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*/<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class File2<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">protected:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int descriptor_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File2() : descriptor_(-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; explicit File2(FILE *stream) : descriptor_(fileno(stream))<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; explicit File2(File2 &amp;f) : descriptor_(f.descriptor_)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { f.descriptor_ = -1; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~File2()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { close(); }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int descriptor() { return descriptor_; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t read(char *buf, size_t count)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::read(descriptor_, buf, count)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t write(char *buf, size_t count) const<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::write(descriptor_, buf, count)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void close()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (descriptor_ != -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ::close(descriptor_);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; descriptor_ = -1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t readv(const struct iovec *iov, int cnt)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::readv(descriptor_, iov, cnt)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t writev(const struct iovec *iov, int cnt)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = ::writev(descriptor_, iov, cnt)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EAGAIN)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void setControlOption(int option)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags |= option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY1:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ret == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void clearControlOption(int option)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags &amp;= ~option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY1:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ret == -1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY1;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void setNonblock()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags |=\nO_NONBLOCK;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void clrNonblock()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags &amp;= ~O_NONBLOCK;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flags == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}; // namespace unp<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#endif // _XCOM_FILE_H_<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @file epoll.h<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @comment<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* wrap of epoll<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @author niexw<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*/<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#ifndef _UNP_EPOLL_H_<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define _UNP_EPOLL_H_<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;assert.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;map&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;strings.h&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n\"file.h\"<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">namespace unp<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @class Epoll<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* @comment<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;* wrap of epoll<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;*/<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class Epoll : public File<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Epoll() {}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~Epoll() {}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct Event : public epoll_event<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event() { events = EPOLLERR; data.u64 = 0; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event(unsigned int type, void *magic)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { events = type; data.ptr = magic; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int create()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((fd_ = epoll_create(1)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return fd_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void registerEvent(int fd, Event &amp;event)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_ADD, fd, &amp;event) ==\n-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void modifyEvent(int fd, Event &amp;event)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, &amp;event) ==\n-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void unregisterEvent(int fd)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_DEL, fd, NULL) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int waitEvent(Event *events, int size, int msec)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert(events != NULL);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = epoll_wait(fd_, events, size,<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; msec == -1 ? NULL : msec)) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;iostream&gt;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">using std::cout;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">using std::endl;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class Epoll2 : public File<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; typedef void* (*Callback)(epoll_event &amp;event, void *);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">protected:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct Event : public epoll_event<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Callback func_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void *param_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event() : func_(NULL), param_(NULL)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { events = EPOLLERR; data.u64 = 0; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event(unsigned int type) : func_(NULL), param_(NULL)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { events = EPOLLERR | type; data.u64 = 0; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event(unsigned int type, Callback func, void *param)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : func_(func), param_(param)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { events = EPOLLERR | type; data.u64 = 0; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; typedef std::map&lt;int, Event&gt; Events;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Events events_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; epoll_event happens_[10];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int timeout_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Callback func_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void *param_;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Epoll2() : timeout_(-1), func_(NULL), param_(NULL)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert(sizeof(Events::iterator) == sizeof(void*));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fd_ = epoll_create(10);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Epoll2(int msec, Callback func) : timeout_(msec), func_(NULL),\nparam_(NULL)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;assert(sizeof(Events::iterator)\n== sizeof(void*));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;fd_ =\nepoll_create(10);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~Epoll2()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void registerEvent(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event event(option, func, param);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::pair&lt;Events::iterator, bool&gt; ret =<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; events_.insert(std::pair&lt;int,\nEvent&gt;(fd, event));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //ret.first-&gt;second.data.ptr = (void\n*)ret.first._M_node;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bcopy(&amp;ret.first,\n&amp;ret.first-&gt;second.data.ptr, sizeof(void*));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_ADD, fd,\n&amp;ret.first-&gt;second) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void setEventOption(int fd, int option)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event *p = &amp;events_[fd];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;events = option | EPOLLERR;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void setEventOption(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event *p = &amp;events_[fd];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;events = option | EPOLLERR;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;func_ = func;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;param_ = param;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void addEventOption(int fd, int option)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event *p = &amp;events_[fd];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;events |= option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void addEventOption(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event *p = &amp;events_[fd];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;events |= option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;func_ = func;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;param_ = param;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void clrEventOption(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event *p = &amp;events_[fd];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;events &amp;= ~option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;func_ = func;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;param_ = param;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void clrEventOption(int fd, int option)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event *p = &amp;events_[fd];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;events &amp;= ~option;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void unregisterEvent(int fd)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; events_.erase(fd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (epoll_ctl(fd_, EPOLL_CTL_DEL, fd, NULL) == -1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void setTimeout(int msec, Callback func, void *param)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; timeout_ = msec;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; func_ = func;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; param_ = param;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bool run()<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RETRY:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((ret = epoll_wait(fd_, happens_, 10, timeout_)) ==\n-1)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (errno == EINTR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto RETRY;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; ret; ++i)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Events::iterator it;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bcopy(&amp;happens_[i].data.ptr, &amp;it,\nsizeof(void *));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //it._M_node =\n(std::_Rb_tree_node_base*)happens_[i].data.ptr;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (it-&gt;second.func_ != NULL)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; it-&gt;second.func_(happens_[i],\nit-&gt;second.param_);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (happens_[i].events &amp; EPOLLERR)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw EXCEPTION();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ret == 0 &amp;&amp; func_ != NULL)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; func_(happens_[0], param_);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return !events_.empty();<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}; // namespace unp<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#endif /* _UNP_EPOLL_H_ */<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span></p>\n\n<p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;</span><span lang=\"EN-US\"><o:p></o:p></span></p>\n\n<!--EndFragment-->"
    }
  ]
}
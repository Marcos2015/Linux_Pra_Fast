{
  "title": "ubuntu下安装g＋＋",
  "cells": [
    {
      "type": "text",
      "data": "<div style=\"position: relative;\"><div style=\"color: rgb(0, 0, 0); line-height: 1.7; font-size: 14px; font-family: arial;\"><div class=\"content-head clearfix\" style=\"zoom: 1; position: relative; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 12px; line-height: normal; background-color: rgb(252, 248, 233);\"><div class=\"content-other-info\" style=\"float: right; color: rgb(159, 94, 65); font-family: Georgia, Tahoma, Helvetica, arial; position: absolute; top: 3px; left: -110px; width: 110px; height: 18px; line-height: 18px; zoom: 1; font-style: italic;\">03/12/2009<span style=\"font-family: tahoma, helvetica, arial;\">主要来自ubuntu中文社区</span><a target=\"_blank\" href=\"http://www.ubuntu.org.cn/support/documentation/doc/VMware\" style=\"font-family: tahoma, helvetica, arial; color: rgb(140, 171, 78);\">http://www.ubuntu.org.cn/support/documentation/doc/VMware</a></div></div><div id=\"content\" class=\"content mod-cs-content text-content clearfix\" style=\"zoom: 1; width: 722px; overflow: hidden; font-size: 12px; line-height: 24px; margin: 7px 0px 10px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; background-color: rgb(252, 248, 233);\"><ol style=\"margin: 0px; padding: 0px; list-style: none;\"><li style=\"margin: 0px; padding: 0px;\">首选,确认你已经安装了build-essential程序包: apt-get install build-essential</li><li style=\"margin: 0px; padding: 0px;\">确认你已经安装了内核头文件包: uname -r<br>apt-get install linux-headers-'kernel version'</li><li style=\"margin: 0px; padding: 0px;\">如果你遇到gcc版本错误,你需要安装编译你内核的gcc版本: cat /proc/version 这会告诉你,你的内核是用什么版本的gcc编译的. $ cat /proc/version&nbsp;<br>Linux version 2.6.12-8-386 (buildd@rothera) (gcc version 3.4.5 20050809 (prerelease) (Debian 3.4.4-6ubuntu6)) #1 Tue Aug 30 22:41:30 BST 2005<br>ls /usr/bin/gcc*<p style=\"margin: 0px; padding: 0px;\">/usr/bin/gcc /usr/bin/gcc-4.0 /usr/bin/gccbug /usr/bin/gccbug-4.0</p>可以看到,我的核心是用gcc-3.4编译的,但我只装了gcc-4.0.如果你的也不同于/usr/bin/gcc*,你需要安装核心所用的版本. apt-get install gcc-3.4 这是我需要的版本,你的可能不同.</li><li style=\"margin: 0px; padding: 0px;\">人 们忘记的,并困扰我的是g++版本.一些人好像安装gcc之后就可以正常安装vmware-config.pl.但我的在编译vmmon模块时遇到 \"cannot exec 'cc1plus'\"错误并停止了.你需要安装的是和gcc一样版本的gcc-c++,只是Debian/Ubuntu把它叫做g++. apt-get install g++-3.4</li><li style=\"margin: 0px; padding: 0px;\">编辑添加: 我忘记你要设定CC为需要的gcc版本了: export CC=/usr/bin/gcc-3.4<br>./runme.pl</li></ol><br><br>&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br><br><br>编译C++与Fortran<p style=\"margin: 0px; padding: 0px;\">GCC 是 GNU 编译器集合（GNU Compiler Collection）的首字母缩写词。GNU 编译器集合包含 C，C++，Objective-C，Fortran，Java 和 Ada 的前端以及这些语言对应的库（libstdc++，libgcj，……）。</p><p style=\"margin: 0px; padding: 0px;\">前面我们只涉及到 C 语言，那么如何用 gcc 编译其他语言呢？本节将简单介绍 C++ 和 Fortran 编译的例子。</p><p style=\"margin: 0px; padding: 0px;\">首先我们尝试编译简单的 C++ 的经典程序&nbsp;<strong>Hello world</strong>：</p>#include &lt;iostream&gt;<br>int main(int argc,char *argv[])<br>{<br>std::cout &lt;&lt; \"hello, world\\n\";<br>return 0;<br>}<p style=\"margin: 0px; padding: 0px;\">将文件保存为‘hello.cpp’，用 gcc 编译，结果如下：</p>$ gcc -Wall hello.cpp -o hello<br>/tmp/cch6oUy9.o: In function `__static_initialization_and_destruction_0(int, int)':<br>hello.cpp:(.text+0x23): undefined reference to `std::ios_base::Init::Init()'<br>/tmp/cch6oUy9.o: In function `__tcf_0':<br>hello.cpp:(.text+0x6c): undefined reference to `std::ios_base::Init::~Init()'<br>/tmp/cch6oUy9.o: In function `main':<br>hello.cpp:(.text+0x8e): undefined reference to `std::cout'<br>hello.cpp:(.text+0x93): undefined reference to `std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)'<br>/tmp/cch6oUy9.o:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'<br>collect2: ld returned 1 exit status<p style=\"margin: 0px; padding: 0px;\">出错了！！而且错误还很多，很难看懂，这可怎么办呢？在解释之前，我们先试试下面的命令：</p>$ gcc -Wall hello.cpp -o hello -lstdc++<p style=\"margin: 0px; padding: 0px;\">噫，加上-lstdc++选项后，编译竟然通过了，而且没有任何警告。运行程序，结果如下：</p>$ ./hello&nbsp;<br>hello, world<p style=\"margin: 0px; padding: 0px;\">通过上节，我们可以知道，-lstdc++ 选项用来通知链接器链接静态库 libstdc++.a。而从字面上可以看出，libstdc++.a 是C++ 的标准库，这样一来，上面的问题我们就不难理解了──编译 C++ 程序，需要链接 C++ 的函数库 libstdc++.a。</p><p style=\"margin: 0px; padding: 0px;\">编译 C 的时候我们不需要指定 C 的函数库，为什么 C++ 要指定呢？这是由于早期 gcc 是指 GNU 的 C 语言编译器（GNU C Compiler），随着 C++，Fortran 等语言的加入，gcc的含义才变化成了 GNU 编译器集合（GNU Compiler Collection）。C作为 gcc 的原生语言，故编译时不需额外的选项。</p><p style=\"margin: 0px; padding: 0px;\">不过幸运的是，GCC 包含专门为 C++ 、Fortran 等语言的编译器前端。于是，上面的例子，我们可以直接用如下命令编译：</p>$ g++ -Wall hello.cpp -o hello<p style=\"margin: 0px; padding: 0px;\">GCC 的 C++ 前端是 g++，而 Fortran 的情况则有点复杂：在 gcc-4.0 版本之前，Fortran 前端是 g77，而gcc-4.0之后的版本对应的 Fortran 前端则改为 gfortran。下面我们先写一个简单的 Fortran 示例程序：</p>C Fortran 示例程序<br>PROGRAM HELLOWORLD<br>WRITE(*,10)<br>10 FORMAT('hello, world')<br>END PROGRAM HELLOWORLD<p style=\"margin: 0px; padding: 0px;\">将文件保存‘hello.f’，用 GCC 的 Fortran 前端编译运行该文件</p>$ gfortran -Wall hello.f -o hello<br>$ ./hello<br>hello, world<p style=\"margin: 0px; padding: 0px;\">我们已经知道，直接用 gcc 来编译 C++ 时，需要链接 C++ 标准库，那么用 gcc 编译 Fortran时，命令该怎么写呢？</p>$ gcc -Wall hello.f -o helloworld -lgfortran -lgfortranbegin<p style=\"margin: 0px; padding: 0px;\"><strong>注意</strong>：上面这条命令与 gfortran 前端是等价的（g77 与此稍有不同）。其中库文件 libgfortranbegin.a (通过命令行选项 -lgfortranbegin 被调用) 包含运行和终止一个 Fortran 程序所必须的开始和退出代码。库文件 libgfortran.a 包含 Fortran 底层的输入输出等所需要的运行函数。</p><p style=\"margin: 0px; padding: 0px;\">对于 g77 来说，下面两条命令是等价的（注意到 g77 对应的 gcc 是 4.0 之前的版本）：</p>$ g77 -Wall hello.f -o hello<br>$ gcc-3.4 -Wall hello.f -o hello -lfrtbegin -lg2c<p style=\"margin: 0px; padding: 0px;\">命令行中的两个库文件分别包含 Fortran 的开始和退出代码以及 Fortran 底层的运行函数。</p><p style=\"margin: 0px; padding: 0px;\"></p><p style=\"margin: 0px; padding: 0px;\">&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;</p>ubuntu安装GCC 整个过程我自己装过，可以的，具体参考了几个网页，有的忘记了，其中一个是&nbsp;<a href=\"http://wiki.ubuntu.org.cn/Qref/Gutsy\">http://wiki.ubuntu.org.cn/Qref/Gutsy</a><br><br>确保系统已联入互联网<br><br>打开终端，“应用程序 - 附件 - 终端”<br><br>修改并更新你的更新服务器列表，输入命令 sudo cp /etc/apt/sources.list /etc/apt/sources.list_backup&nbsp;<br><br>sudo gedit /etc/apt/sources.list 注意:下面在打开的窗口中，把你看到的内容全部删掉，访问我们推荐的源7.10页面。在那里里请选择一组对于你来说速度最快的更新服务器列表。粘贴到你所看到的窗口中。<br><br>对电信网通用户，推荐将欧洲官方源服务器粘贴到最后<br><br><a href=\"http://archive.ubuntu.com/\">Archive.ubuntu.com</a>更新服务器<br>deb&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy main restricted universe multiverse&nbsp;<br>deb&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy-security main restricted universe multiverse&nbsp;<br>deb&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy-updates main restricted universe multiverse&nbsp;<br>deb&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy-proposed main restricted universe multiverse&nbsp;<br>deb&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy-backports main restricted universe multiverse&nbsp;<br>deb-src&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy main restricted universe multiverse&nbsp;<br>deb-src&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy-security main restricted universe multiverse deb-src&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy-updates main restricted universe multiverse deb-src&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>gutsy-proposed main restricted universe multiverse deb-src&nbsp;<a href=\"http://archive.ubuntu.com/ubuntu/\">http://archive.ubuntu.com/ubuntu/</a>&nbsp;gutsy-backports main restricted universe multiverse<br><br>推荐大家加入ubuntu-cn源（网通访问偏慢）<br>deb&nbsp;<a href=\"http://archive.ubuntu.org.cn/ubuntu-cn/\">http://archive.ubuntu.org.cn/ubuntu-cn/</a>&nbsp;gutsy main restricted universe multiverse<br><br>4.刷新软件包列表<br>sudo apt-get update<br><br>装基本开发环境:<br>sudo apt-get install build-essential gcc make<br><br>装编辑器:<br>sudo apt-get install vim emacs<br><br>装基本开发库<br>sudo apt-get install libc6 libc6-dev<br><br>装manpage, 装了之后可以直接用 man printf 查阅printf的详细用法<br><br>sudo apt-get install manpages-dev<br><br>我按照这个步骤，装成功了，并运行了一个小程序，helloworld ，可以的。<br><br>后面的安装都是在线的，所以一定要联网，大概总共有60MB左右吧，还没有全部升级软件，那样更大。</div><div class=\"mod-tagbox clearfix\" style=\"zoom: 1; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 12px; line-height: normal; background-color: rgb(252, 248, 233);\"></div><div class=\"mod-post-info clearfix\" style=\"zoom: 1; padding-top: 15px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 12px; line-height: normal; background-color: rgb(252, 248, 233);\"><div class=\"x-bdshare\"><div id=\"bdshare\" class=\"bdshare_t bds_tools get-codes-bdshare\" data=\"{'wbuid':1727466295}\" style=\"z-index: 999999; padding-bottom: 2px; float: left; zoom: 1;\"></div></div></div></div><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span title=\"neteasefooter\" style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span id=\"netease_mail_footer\"><div id=\"netease_mail_footer\"><div style=\"border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); padding: 10px 5px; color: rgb(102, 102, 102); line-height: 22px;\">来自网易手机号码邮箱<a id=\"mobile_set\" sys=\"1\" log=\"1\" logid=\"free_sms_20120504\" href=\"http://shouji.163.com/\" target=\"_blank\" style=\"color: rgb(0, 0, 255);\">了解更多</a></div></div></span></span><div style=\"clear: both;\"></div></div>"
    }
  ]
}
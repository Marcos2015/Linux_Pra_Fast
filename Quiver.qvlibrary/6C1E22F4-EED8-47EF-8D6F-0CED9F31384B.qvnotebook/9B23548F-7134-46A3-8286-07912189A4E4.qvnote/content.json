{
  "title": "C++ Metaprogramming 和 Boost MPL （四）",
  "cells": [
    {
      "type": "text",
      "data": "<div class=\"top\" style=\"margin: 0px; padding: 10px 140px 10px 20px; width: 520px; height: auto; border: 0px; display: inline-block; color: rgb(0, 0, 0); font-family: arial, helvetica, clean, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><div class=\"tag\" style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px 10px 0px 0px; line-height: 20px; color: rgb(117, 117, 117); font-family: 'Microsoft YaHei'; cursor: default;\">作者：<a href=\"http://kuibyshev.bokee.com/\" style=\"text-decoration: none; color: rgb(33, 33, 33); margin: 0px; padding: 0px; font-weight: bold;\"><span itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\" style=\"margin: 0px 10px 0px 0px; line-height: 20px; color: rgb(117, 117, 117); cursor: default;\">&nbsp;<span itemprop=\"name\" style=\"margin: 0px 10px 0px 0px; line-height: 20px; color: rgb(117, 117, 117); cursor: default;\">古比雪夫</span></span></a></span><span itemprop=\"datePublished\" content=\"2005-05-19 22:34\" style=\"margin: 0px 10px 0px 0px; line-height: 20px; color: rgb(117, 117, 117); font-family: 'Microsoft YaHei'; cursor: default;\">2005-05-19 22:34</span><span style=\"margin: 0px 10px 0px 0px; line-height: 20px; color: rgb(117, 117, 117); font-family: 'Microsoft YaHei'; cursor: default;\">分类：<a href=\"http://kuibyshev.bokee.com/category/0/1\" style=\"text-decoration: none; color: rgb(33, 33, 33); margin: 0px; padding: 0px; font-weight: bold;\">默认分类</a></span><span style=\"margin: 0px 10px 0px 0px; line-height: 20px; color: rgb(117, 117, 117); font-family: 'Microsoft YaHei'; cursor: default;\">标签：</span></div></div><span style=\"color: rgb(0, 0, 0); font-family: arial, helvetica, clean, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"></span><div class=\"cnt\" style=\"margin: 0px; padding: 10px 20px; text-align: center; color: rgb(0, 0, 0); font-family: arial, helvetica, clean, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><div itemprop=\"articleBody\" class=\"txt clearfix\" style=\"margin: 0px; padding: 5px 0px; zoom: 1; width: 640px; word-wrap: break-word; line-height: 24px; color: rgb(92, 92, 92); font-size: 14px; font-family: &quot;Microsoft YaHei&quot;; cursor: default; letter-spacing: 1px; text-align: left;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span style=\"font-style: inherit;\"><font size=\"3\"><span lang=\"EN-US\"><font face=\"Times New Roman\">Boost</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">中的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库分析</span></font></span></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\"></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">是由</span><span lang=\"EN-US\"><font face=\"Times New Roman\">David Abrahams</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">和</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Aleksey Gurtovoy</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">为方便模板元编程而开发的库，</span><span lang=\"EN-US\"><font face=\"Times New Roman\">2003</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">年被</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Boost</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">吸纳为其中的一员，此后又历经一些大幅度修改，目前已经相当完善，其最新版本于</span><span lang=\"EN-US\"><font face=\"Times New Roman\">2004</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">年</span><span lang=\"EN-US\"><font face=\"Times New Roman\">11</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">月发布。</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的出现是</span><span lang=\"EN-US\"><font face=\"Times New Roman\">C++</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">模板元编程发展中的一大创举，它提供了一个通用、高层次的编程框架，其中包括了序列（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Sequence</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）、迭代器（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Iterator</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）、算法（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Algorithm</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）、元函数（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Metafunction</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）等多种组件，具有高度的可重用性，不但提高了模板元编程的效率，而且使模板元编程的应用范围得到相当的扩展。</span><font face=\"Times New Roman\"></font></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">（一）</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的组织架构</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">一个库的组织形式有时候甚至比它的功能还重要。</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的作者聪明地借鉴了已经取得巨大成功的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">STL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">，在</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">中保留了许多</span><span lang=\"EN-US\"><font face=\"Times New Roman\">STL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的概念，对函数式的编程方式进行了精巧的包装，使得任何熟悉</span><span lang=\"EN-US\"><font face=\"Times New Roman\">STL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的程序员都可以轻易地理解</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的使用方法。像</span><span lang=\"EN-US\"><font face=\"Times New Roman\">STL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">一样，</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">有一个完整的概念体系，对组件作了精心的划分，组件之间相对独立，接口具有通用性，因此将组件之间的依存度和耦合性降低到最小的限度。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">STL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">和</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的组件概念对照如下：</span></font></p><div align=\"center\" style=\"margin: 0px; padding: 0px;\"><table class=\"MsoTableGrid\" cellspacing=\"0\" cellpadding=\"0\" border=\"1\" style=\"font-size: inherit; border: medium none;\"><tbody><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-width: 1.5pt 1pt 1pt 1.5pt; border-color: windowtext; background-color: rgb(217, 217, 217); width: 210.05pt; background-position: initial initial; background-repeat: initial initial;\"><p class=\"MsoNormal\" align=\"center\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all; text-align: center;\"><font size=\"2\"><b><span lang=\"EN-US\"><font face=\"Times New Roman\">STL</font></span></b><b><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">概念</span><span lang=\"EN-US\"></span></b></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: windowtext windowtext windowtext rgb(236, 233, 216); border-top-width: 1.5pt; background-color: rgb(217, 217, 217); width: 210.1pt; border-bottom-width: 1pt; background-position: initial initial; background-repeat: initial initial;\"><p class=\"MsoNormal\" align=\"center\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all; text-align: center;\"><font size=\"2\"><b><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span></b><b><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">对应概念</span><span lang=\"EN-US\"></span></b></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p></td></tr><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1pt; border-color: rgb(236, 233, 216) windowtext windowtext; border-left-width: 1.5pt; width: 210.05pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">容器（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Container</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); width: 210.1pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">序列（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Sequence</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td></tr><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1pt; border-color: rgb(236, 233, 216) windowtext windowtext; border-left-width: 1.5pt; width: 210.05pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">算法（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Algorithm</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); width: 210.1pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">算法（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Algorithm</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td></tr><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1pt; border-color: rgb(236, 233, 216) windowtext windowtext; border-left-width: 1.5pt; width: 210.05pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">迭代器（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Iterator</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); width: 210.1pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">迭代器（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Iterator</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td></tr><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1pt; border-color: rgb(236, 233, 216) windowtext windowtext; border-left-width: 1.5pt; width: 210.05pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">仿函数（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Functor</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); width: 210.1pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">元函数类（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Metafunction</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td></tr><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1pt; border-color: rgb(236, 233, 216) windowtext windowtext; border-left-width: 1.5pt; width: 210.05pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">配接器（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Adaptor</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); width: 210.1pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">有</span><span lang=\"EN-US\"><font face=\"Times New Roman\">View</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">、</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Inserter Iterator</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">和相当于仿函数配接器的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Binding</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">元函数</span></font></p></td></tr><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1pt; border-color: rgb(236, 233, 216) windowtext windowtext; border-left-width: 1.5pt; width: 210.05pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">配置器（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Allocator</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); width: 210.1pt; border-bottom-width: 1pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\"><font size=\"2\">无此概念</font></span></p></td></tr><tr><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1pt; border-color: rgb(236, 233, 216) windowtext windowtext; border-left-width: 1.5pt; width: 210.05pt; border-bottom-width: 1.5pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\"><font size=\"2\">标准中没有定义</font></span></p></td><td valign=\"top\" width=\"280\" style=\"margin: 0px; padding: 0cm 5.4pt; border-right-width: 1.5pt; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); width: 210.1pt; border-bottom-width: 1.5pt;\"><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">宏（</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Macro</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">）</span></font></p></td></tr></tbody></table></div><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\"></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">（二）</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">对其他库的依赖</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">是一个高层次的库，它的地位和编译期执行的特殊性决定了它需要一些特殊的辅助设施，并对其他库会有所依赖。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">1</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">．</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Boost</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Preprocessor</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">Preprocessor</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库是一个基于宏的元编程库</span><span lang=\"EN-US\"><font face=\"Times New Roman\">[7]</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">。预处理器的作用发生在编译以前，所以它比</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">所处的地位还要高端，能够真正实现代码生成。它的典型功能是迭代或者枚举相似的代码段，减少重复而易写错的代码段。</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">中不少代码是近似的，比如在</span><span lang=\"EN-US\"><font face=\"Times New Roman\">vector</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的原始代码中，就需要定义</span><span lang=\"EN-US\"><font face=\"Times New Roman\">n</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">个</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">vectori<typename typename=\"\" ...=\"\" t1,=\"\" t2,=\"\" ti=\"\">&nbsp;{ … }</typename></font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">其中</span><span lang=\"EN-US\"><font face=\"Times New Roman\">i</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">从</span><span lang=\"EN-US\"><font face=\"Times New Roman\">1</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">迭代到</span><span lang=\"EN-US\"><font face=\"Times New Roman\">n</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">。为了减少重复劳动，</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的源代码大量使用自定义和</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Preprocessor</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库的宏对重复或具有递推性的内容进行迭代。不过，这也导致源代码难以阅读。比如上面一段展开后的源代码首先是定义在</span><span lang=\"EN-US\"><font face=\"Times New Roman\">vector/aux_/numbered.cpp</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的：</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><i><span lang=\"EN-US\" courier=\"\" new??=\"\">// Preprocessor</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">的宏，得到目前属于第几次迭代</span></i><i><span lang=\"EN-US\" courier=\"\" new??=\"\"></span></i></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">#define i_ BOOST_PP_FRAME_ITERATION(1)&nbsp;</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">...</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">template&lt;</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><i><span lang=\"EN-US\" courier=\"\" new??=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Preprocessor</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">的宏，枚举参数列表</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\"></span></i></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 52.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 10.5pt; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">BOOST_PP_ENUM_PARAMS(i_, typename T)</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&gt;</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><i><span lang=\"EN-US\" courier=\"\" new??=\"\">// Preprocessor</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">的宏，拼合</span></i><i><span lang=\"EN-US\" courier=\"\" new??=\"\">vector</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">和当前次数</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\"></span></i></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">struct BOOST_PP_CAT(vector,i_)</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">{ ... }</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">然后为了迭代</span><span lang=\"EN-US\"><font face=\"Times New Roman\">n</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">个上面的类模板，另一个文件则需要重复</span><span lang=\"EN-US\" courier=\"\" new??=\"\">include</span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">这个文件，利用</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Preprocessor</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的文件迭代能力可以这样写：</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><i><span lang=\"EN-US\" courier=\"\" new??=\"\">// Preprocessor</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">的宏，其中第一个参数</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\">3</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">表示后面的参数组有</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\">3</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">个</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\"></span></i></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><i><span lang=\"EN-US\" courier=\"\" new??=\"\">//</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">元素，</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\">0</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">和</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\">10</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">表示迭代的范围是从</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\">0</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">到</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\">10</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">，最后一个参数是文件</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\"></span></i></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><i><span lang=\"EN-US\" courier=\"\" new??=\"\">//</span></i><i><span mso-hansi-font-family:=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">迭代的文件名</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\"></span></i></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">#&nbsp;&nbsp;&nbsp;define BOOST_PP_ITERATION_PARAMS_1 \\</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;(3,(0, 10,&nbsp;<boost numbered.hpp=\"\" aux_=\"\" vector=\"\" mpl=\"\">))</boost></font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><i><span lang=\"EN-US\" courier=\"\" new??=\"\">// Preprocessor</span></i><i><span mso-hansi-font-family:=\"\" roman?;=\"\" ?times=\"\" new=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">的宏，要求按照上面的指定的参数进行递归</span></i><i><span lang=\"EN-US\" mso-hansi-font-family:=\"\" ?times=\"\" new=\"\" roman??=\"\" courier=\"\" new?;=\"\"></span></i></font></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt 31.5pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\" courier=\"\" new??=\"\"><font size=\"2\">#&nbsp;&nbsp;&nbsp;include BOOST_PP_ITERATE()</font></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">尽管如此，宏还是必需的，它不但避免了重复编写递推式的代码（比如在上述的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">vector</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">类模板中，</span><span lang=\"EN-US\"><font face=\"Times New Roman\">n</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">可达</span><span lang=\"EN-US\"><font face=\"Times New Roman\">50</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">之大，如果完全手写确实是浪费时间），而且还有效控制了代码的生成（比如只需要通过定义迭代次数，即可控制实际生成的类模板个数）。实际上，在使用</span><span lang=\"EN-US\"><font face=\"Times New Roman\">vector</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">（或其他组件）时，通常我们并不需要每次编译都把这些代码重新生成一次，</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的作者已经充分考虑到编译效率的问题，所以在</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的代码中，为每个流行的编译器都建立了一个</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Processed</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">目录，里面存放着针对编译器特点展开了的代码。仅当定义了</span><span lang=\"EN-US\"><font face=\"Times New Roman\">BOOST_MPL_CFG_NO_PREPROCESSED_HEADERS</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">时才会强制</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">重新用宏来生成代码。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的作者指出，无论喜欢还是不喜欢，目前宏必须在</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">中扮演着这个不可替代的角色。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\"></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">2</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">．</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Boost</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Type Traits</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">Type Traits</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库</span><span lang=\"EN-US\"><font face=\"Times New Roman\">[9]</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">用于验证传递的参数或参数之间是否符合一定的条件，比如可以判定两个参数是否有继承关系、是否可转换等。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\"></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">3</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">．</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Boost</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Static Assert</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">Static Assert</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库</span><span lang=\"EN-US\"><font face=\"Times New Roman\">[8]</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">用于编译时断言，用法类似于</span><span lang=\"EN-US\"><font face=\"Times New Roman\">C</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">中常用的断言</span><span lang=\"EN-US\" courier=\"\" new??=\"\">assert()</span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">。如果参数经编译时的静态计算为</span><span lang=\"EN-US\"><font face=\"Times New Roman\">true</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">，则代码能通过编译，不会有任何效果，反之，则会编译出错，并且在使编译信息里面包含有“</span><span lang=\"EN-US\"><font face=\"Times New Roman\">STATIC_ASSERTION_FAILURE</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">”的字样。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">Static Assert</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的底层是接受一个</span><span lang=\"EN-US\"><font face=\"Times New Roman\">bool</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">参数的模板</span><span lang=\"EN-US\" courier=\"\" new??=\"\">STATIC_ASSERTION_FAILURE</span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">，它对</span><span lang=\"EN-US\"><font face=\"Times New Roman\">true</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">定义一个有成员的特化模板，对</span><span lang=\"EN-US\"><font face=\"Times New Roman\">false</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的情况则只有一个特化的声明（无定义）。其接口是一个宏，它产生的代码是</span><span lang=\"EN-US\" courier=\"\" new??=\"\">sizeof(STATIC_ASSERTION_FAILURE&lt; ... &gt;)</span><span mso-hansi-font-family:=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">，显然当参数的实际结果为</span><span lang=\"EN-US\" courier=\"\" new??=\"\">false</span><span mso-hansi-font-family:=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">时，编译器无法判断</span><span lang=\"EN-US\" courier=\"\" new??=\"\">STATIC_ASSERTION_FAILURE<false></false></span><span mso-hansi-font-family:=\"\" courier=\"\" new??=\"\" mso-bidi-font-family:=\"\" new?;=\"\" ?courier=\"\" style=\"font-family: 宋体;\">的长度，因为它尚未定义</span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">因为</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">是只在编译时生效的库，用</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Static Assert</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">来调试程序是非常合适的，它往往与</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Type Traits</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库搭配使用。</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><span lang=\"EN-US\"></span></p><p style=\"margin: 20px 0px; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span lang=\"EN-US\"><font face=\"Times New Roman\">4</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">．</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Boost</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">Config</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">库</span></font></p><p class=\"MsoNormal\" style=\"margin: 0cm 0cm 0pt; padding: 0px; line-height: 24px; color: rgb(92, 92, 92); text-indent: 2em; word-break: break-all;\"><font size=\"2\"><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">像</span><span lang=\"EN-US\"><font face=\"Times New Roman\">STL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">一样，由于编译器对标准支持不同，为了使程序库具有移植性，最好是针对环境进行预先的设置。对于</span><span lang=\"EN-US\"><font face=\"Times New Roman\">MPL</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">这种先锋性的库来说，编译器问题更加让库作者相当头痛。借助于对环境的侦查，可以对预先发现的问题，比如模板的局部特化能力、已知的一些编译器的</span><span lang=\"EN-US\"><font face=\"Times New Roman\">bug</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">等等，采取相应的补救措施</span><span lang=\"EN-US\"><font face=\"Times New Roman\">[4]</font></span><span mso-hansi-font-family:=\"\" times=\"\" roman?;=\"\" ?times=\"\" new=\"\" roman??=\"\" style=\"font-family: 宋体;\">。</span></font></p></div></div>"
    }
  ]
}
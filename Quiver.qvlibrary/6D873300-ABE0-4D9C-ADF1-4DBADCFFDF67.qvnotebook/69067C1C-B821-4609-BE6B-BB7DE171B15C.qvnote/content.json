{
  "title": "read函数详解",
  "cells": [
    {
      "type": "text",
      "data": "\n\n\n\n\n<!--[if gte mso 9]><xml>\n <o:OfficeDocumentSettings>\n  <o:AllowPNG/>\n </o:OfficeDocumentSettings>\n</xml><![endif]-->\n\n\n<!--[if gte mso 9]><xml>\n <w:WordDocument>\n  <w:View>Normal</w:View>\n  <w:Zoom>0</w:Zoom>\n  <w:TrackMoves/>\n  <w:TrackFormatting/>\n  <w:PunctuationKerning/>\n  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>\n  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>\n  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>\n  <w:ValidateAgainstSchemas/>\n  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>\n  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>\n  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>\n  <w:DoNotPromoteQF/>\n  <w:LidThemeOther>EN-US</w:LidThemeOther>\n  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>\n  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>\n  <w:Compatibility>\n   <w:SpaceForUL/>\n   <w:BalanceSingleByteDoubleByteWidth/>\n   <w:DoNotLeaveBackslashAlone/>\n   <w:ULTrailSpace/>\n   <w:DoNotExpandShiftReturn/>\n   <w:AdjustLineHeightInTable/>\n   <w:BreakWrappedTables/>\n   <w:SnapToGridInCell/>\n   <w:WrapTextWithPunct/>\n   <w:UseAsianBreakRules/>\n   <w:DontGrowAutofit/>\n   <w:SplitPgBreakAndParaMark/>\n   <w:EnableOpenTypeKerning/>\n   <w:DontFlipMirrorIndents/>\n   <w:OverrideTableStyleHps/>\n   <w:UseFELayout/>\n  </w:Compatibility>\n  <m:mathPr>\n   <m:mathFont m:val=\"Cambria Math\"/>\n   <m:brkBin m:val=\"before\"/>\n   <m:brkBinSub m:val=\"&#45;-\"/>\n   <m:smallFrac m:val=\"off\"/>\n   <m:dispDef/>\n   <m:lMargin m:val=\"0\"/>\n   <m:rMargin m:val=\"0\"/>\n   <m:defJc m:val=\"centerGroup\"/>\n   <m:wrapIndent m:val=\"1440\"/>\n   <m:intLim m:val=\"subSup\"/>\n   <m:naryLim m:val=\"undOvr\"/>\n  </m:mathPr></w:WordDocument>\n</xml><![endif]--><!--[if gte mso 9]><xml>\n <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"\n  DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"\n  LatentStyleCount=\"375\">\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" QFormat=\"true\" Name=\"heading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 9\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"header\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footer\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of figures\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope return\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"line number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"page number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of authorities\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"macro\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"toa heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Closing\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Signature\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Message Header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Salutation\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Date\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Block Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Hyperlink\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"FollowedHyperlink\"/>\n  <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>\n  <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Document Map\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Plain Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"E-mail Signature\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Top of Form\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Bottom of Form\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal (Web)\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Acronym\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Cite\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Code\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Definition\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Keyboard\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Preformatted\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Sample\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Typewriter\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Variable\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Table\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation subject\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"No List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Contemporary\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Elegant\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Professional\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Balloon Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" Name=\"Table Grid\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Theme\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>\n  <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"\n   Name=\"List Paragraph\"/>\n  <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"\n   Name=\"Intense Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"\n   Name=\"Subtle Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"\n   Name=\"Intense Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"\n   Name=\"Subtle Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"\n   Name=\"Intense Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>\n  <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Mention\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Smart Hyperlink\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Hashtag\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Unresolved Mention\"/>\n </w:LatentStyles>\n</xml><![endif]-->\n\n<!--[if gte mso 10]>\n<style>\n /* Style Definitions */\n table.MsoNormalTable\n\t{mso-style-name:普通表格;\n\tmso-tstyle-rowband-size:0;\n\tmso-tstyle-colband-size:0;\n\tmso-style-noshow:yes;\n\tmso-style-priority:99;\n\tmso-style-parent:\"\";\n\tmso-padding-alt:0cm 5.4pt 0cm 5.4pt;\n\tmso-para-margin:0cm;\n\tmso-para-margin-bottom:.0001pt;\n\tmso-pagination:widow-orphan;\n\tfont-size:12.0pt;\n\tfont-family:DengXian;\n\tmso-ascii-font-family:DengXian;\n\tmso-ascii-theme-font:minor-latin;\n\tmso-fareast-font-family:DengXian;\n\tmso-fareast-theme-font:minor-fareast;\n\tmso-hansi-font-family:DengXian;\n\tmso-hansi-theme-font:minor-latin;\n\tmso-font-kerning:1.0pt;}\n</style>\n<![endif]-->\n\n\n\n<!--StartFragment-->\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;background:white;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:\nArial;mso-bidi-font-family:Arial;color:#454545;background:white;mso-font-kerning:\n0pt\">函数从打开的设备或文件中读取数据。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;unistd.h&gt;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">ssize_t read(int\nfd, void *buf, size_t count);&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">返回值：成功返回读取的字节数，出错返回</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;\ncolor:black;mso-font-kerning:0pt\">-1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">并设置</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">errno</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">，如果在调</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">之前已到达文件末尾，则这次</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">返回</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">0<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">参数</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">count<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">是请求读取的字节数，</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:red;mso-font-kerning:0pt\">读上来的数据保存在缓冲区</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:red;mso-font-kerning:0pt\">buf</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:red;mso-font-kerning:0pt\">中，同时文件的当前读写位置向后移。</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:black;\nmso-font-kerning:0pt\">注意这个读写位置和使用</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\">C</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">标准</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\">I/O</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">库时的读写位置有可能不同，这个读写位置是记在内核中的，而使用</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">C</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">标准</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">库时的读写位置是用户空间</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">缓冲区中的位置。比如用</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">fgetc</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">读一个字节，</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">fgetc</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">有可能从内核中预读</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">1024</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">个字节到</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">缓冲区中，再返回第一个字节，这时该文件在内核中记录的读写位置是</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">1024</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">，而在</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">FILE</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">结构体中记录的读写位置是</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">。注意返回值类型是</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">ssize_t</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">，表示有符号的</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">size_t</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">，这样既可以返回正的字节数、</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">0</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">（表示到达文件末尾）也可以返回负值</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">-1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">（表示出错）。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:black;\nmso-font-kerning:0pt\">函数返回时，返回值说明了</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\">buf</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">中前多少个字节是刚读上来的。有些情况下，实际读到的字节数（返回值）会小于请求读的字节数</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">count</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">，例如：读常规文件时，在读到</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">count</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">个字节之前已到达文件末尾。例如，距文件末尾还有</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">30</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">个字节而请求读</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">100</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">个字节，则</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">返回</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">30</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">，下次</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">将返回</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">0</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">从终端设备读，通常以行为单位，读到换行符就返回了。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">从网络读，根据不同的传输层协议和内核缓存机制，返回值可能小于请求的字节数，后面</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">socket</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">编程部分会详细讲解。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\"><br>\nwrite<br>\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">函数向打开的设备或文件中写数据。</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;unistd.h&gt;&nbsp;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">ssize_t write(int\nfd, const void *buf, size_t count);&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">返回值：成功返回写入的字节数，出错返回</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;\ncolor:black;mso-font-kerning:0pt\">-1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">并设置</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">errno</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">写常规文件时，</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">write</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">的返回值通常等于请求写的字节数</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">count</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:black;\nmso-font-kerning:0pt\">，而向终端设备或网络写则不一定。</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">读常规文件是不会阻塞的，不管读多少字节，</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">一定会在有限的时间内返回。从终端设备或网络读则不一定，如果从终端输入的数据没有换行符，调用</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">读终端设备就会阻塞，如果网络上没有接收到数据包，调用</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">从网络读就会阻塞，至于会阻塞多长时间也是不确定的，如果一直没有数据到达就一直阻塞在那里。同样，写常规文件是不会阻塞的，而向终端设备或网络写则不一定。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">现在明确一下阻塞（</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Block</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">）这个概念。当进程调用一个阻塞的系统函数时，该进程被置于睡眠（</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Sleep</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">）状态，这时内核调度其它进程运行，直到该进程等待的事件发生了（比如网络上接收到数据包，或者调用</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">sleep</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">指定的睡眠时间到了）它才有可能继续运行。与睡眠状态相对的是运行（</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Running</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">）状态，在</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Linux</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">内核中，处于运行状态的进程分为两种情况：</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">正在被调度执行。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">CPU</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">处于该进程的上下文环境中，程序计数器（</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">eip</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">）里保存着该进程的指令地址，通用寄存器里保存着该进程运算过程的中间结果，正在执行该进程的指令，正在读写该进程的地址空间。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">就绪状态。该进程不需要等待什么事件发生，随时都可以执行，但</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">CPU</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">暂时还在执行另一个进程，所以该进程在一个就绪队列中等待被内核调度。系统中可能同时有多个就绪的进程，那么该调度谁执行呢？内核的调度算法是基于优先级和时间片的，而且会根据每个进程的运行情况动态调整它的优先级和时间片，让每个进程都能比较公平地得到机会执行，同时要兼顾用户体验，不能让和用户交互的进程响应太慢。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">下面这个小程序从终端读数据再写回终端。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">例</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"> 28.2. </span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">阻塞读终端</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;unistd.h&gt;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;stdlib.h&gt;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">int\nmain(void)&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; char buf[10];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; int n;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; n = read(STDIN_FILENO, buf, 10);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; if (n &lt; 0) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; perror(\"read STDIN_FILENO\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; exit(1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; write(STDOUT_FILENO, buf, n);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; return 0;&nbsp;\n}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">执行结果如下：</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">$ ./a.out&nbsp;&nbsp; hello</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">（回车）</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">&nbsp;\nhello&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">$ ./a.out&nbsp;&nbsp; hello world</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">（回车）</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">&nbsp;\nhello <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">worl$ d&nbsp; bash: d: command not found<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">第一次执行</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">a.out</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">的结果很正常，而第二次执行的过程有点特殊，现在分析一下：</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">Shell</span><span style=\"font-size:18.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">进程创建</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">a.out</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">进程，</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">a.out</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">进程开始执行，而</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Shell</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">进程睡眠等待</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">a.out</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">进程退出。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\"><br>\na.out</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">调用</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">时睡眠等待，直到终端设备输入了换行符才从</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">返回，</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">只读走</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">10</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">个字符，剩下的字符仍然保存在内核的终端设备输入缓冲区中。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\"><br>\na.out<br>\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">进程打印并退出，这时</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">Shell</span><span style=\"font-size:18.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">进程恢复运行，</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Shell</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">继续从终端读取用户输入的命令，于是读走了终端设备输入缓冲区中剩下的字符</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">d</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">和换行符，把它当成一条命令解释执行，结果发现执行不了，没有</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">d</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">这个命令。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">如果在</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">open</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">一个设备时指定了</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">O_NONBLOCK</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">标志，</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">read/write</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">就不会阻塞。以</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">read</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">为例，如果设备暂时没有数据可读就返回</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">-1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">，同时置</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">errno</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">为</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">EWOULDBLOCK</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:\nArial;mso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">（或者</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">EAGAIN</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">，这两个宏定义的值相同），表示本来应该阻塞在这里（</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">would block</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:\nArial;mso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">，虚拟语气），事实上并没有阻塞而是直接返回错误，调用者应该试着再读一次（</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">again</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">）。这种行为方式称为轮询（</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Poll</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">），调用者只是查询一下，而不是阻塞在这里死等，这样可以同时监视多个设备：</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">while(1) {<br>\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">read(</span><span style=\"font-size:18.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">1);<br>\nif(</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">1</span><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">有数据到达</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">)<br>\n&nbsp; </span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">处理数据</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">;<br>\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">read(</span><span style=\"font-size:18.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">2);<br>\nif(</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">2</span><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">有数据到达</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">)<br>\n&nbsp; </span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">处理数据</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">;<br>\n...<br>\n}<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">如果</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><br>\nread(</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">1)<br>\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">是阻塞的，那么只要设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">1</span><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">没有数据到达就会一直阻塞在设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">的</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><br>\nread<br>\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">调用上，即使设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\">2</span><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">有数据到达也不能处理，使用非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">就可以避免设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">2</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">得不到及时处理。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">有一个缺点，如果所有设备都一直没有数据到达，调用者需要反复查询做无用功，如果阻塞在那里，操作系统可以调度别的进程执行，就不会做无用功了。在使用非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">时，通常不会在一个</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">while</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">循环中一直不停地查询（这称为</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">Tight Loop</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">），而是每延迟等待一会儿来查询一下，以免做太多无用功，在延迟等待的时候可以调度其它进程执行。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">while(1) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; </span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">read(</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; if(</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">有数据到达</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">)&nbsp;&nbsp;&nbsp;\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">处理数据</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\">;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; </span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">read(</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">2);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; if(</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">2</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;\nmso-bidi-font-family:Consolas;color:black;mso-font-kerning:0pt\">有数据到达</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;mso-fareast-font-family:\n宋体;color:black;mso-font-kerning:0pt\">)&nbsp;&nbsp;&nbsp;\n</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">处理数据</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\">;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; ...&nbsp;&nbsp;\nsleep(n);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">这样做的问题是，设备</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">有数据到达时可能不能及时处理，最长需延迟</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">n</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">秒才能处理，而且反复查询还是做了很多无用功。以后要学习的</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">select(2)</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">函数可以阻塞地同时监视多个设备，还可以设定阻塞等待的超时时间，从而圆满地解决了这个问题。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">以下是一个非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">的例子。目前我们学过的可能引起阻塞的设备只有终端，所以我们用终端来做这个实验。程序开始执行时在</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">0</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">、</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">1</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">、</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">2</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">文件描述符上自动打开的文件就是终端，但是没有</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">O_NONBLOCK</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">标志。所以就像</span><span lang=\"EN-US\"><a href=\"http://learn.akae.cn/media/ch28s04.html#io.blockread\" target=\"_blank\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#CA0000;mso-font-kerning:0pt\"><span lang=\"EN-US\">例</span></span><span style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#CA0000;mso-font-kerning:0pt\"> 28.2 “</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:\nArial;mso-bidi-font-family:Arial;color:#CA0000;mso-font-kerning:0pt\"><span lang=\"EN-US\">阻塞读终端</span></span><span style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;\nmso-fareast-font-family:宋体;color:#CA0000;mso-font-kerning:0pt\">”</span></a></span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:\nArial;mso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">一样，读标准输入是阻塞的。我们可以重新打开一遍设备文件</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">/dev/tty</span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">（表示当前终端），在打开时指定</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><br>\nO_NONBLOCK</span><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#4F4F4F;\nmso-font-kerning:0pt\">标志。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:宋体;color:#4F4F4F;\nmso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">例</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"> 28.3. </span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">非阻塞读终端</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;unistd.h&gt;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;fcntl.h&gt;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;errno.h&gt;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;string.h&gt;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;stdlib.h&gt;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#define MSG_TRY\n\"try again\\n\"&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">int\nmain(void)&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; char buf[10];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; int fd, n;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; fd = open(\"/dev/tty\",\nO_RDONLY|O_NONBLOCK);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; if(fd&lt;0) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; perror(\"open /dev/tty\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; exit(1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp; tryagain:<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; n = read(fd, buf, 10);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; if (n &lt; 0) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; if (errno == EAGAIN) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; sleep(1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; write(STDOUT_FILENO, MSG_TRY,\nstrlen(MSG_TRY));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; goto tryagain;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; perror(\"read /dev/tty\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; exit(1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; write(STDOUT_FILENO, buf, n);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; close(fd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; return 0;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">以下是用非阻塞</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\">I/O</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">实现等待超时的例子。既保证了超时退出的逻辑又保证了有数据到达时处理延迟较小。</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" style=\"text-indent:24.0pt;line-height:19.5pt;mso-pagination:\nwidow-orphan;background:white\"><span style=\"font-size:18.0pt;font-family:宋体;\nmso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#4F4F4F;mso-font-kerning:0pt\">例</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"> 28.4. </span><span style=\"font-size:\n18.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;\nmso-bidi-font-family:Arial;color:#4F4F4F;mso-font-kerning:0pt\">非阻塞读终端和等待超时</span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#4F4F4F;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Arial&quot;,sans-serif;mso-fareast-font-family:\n宋体;color:#454545;mso-font-kerning:0pt\"><br>\n<!--[if !supportLineBreakNewLine]--><br>\n<!--[endif]--></span><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:宋体;\nmso-bidi-font-family:宋体;mso-font-kerning:0pt\"><o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;unistd.h&gt; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;fcntl.h&gt;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;errno.h&gt; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;string.h&gt; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#include\n&lt;stdlib.h&gt;&nbsp;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#define MSG_TRY\n\"try again\\n\"&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">#define\nMSG_TIMEOUT \"timeout\\n\"&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">int\nmain(void)&nbsp; {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; char buf[10];<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; int fd, n, i;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; fd = open(\"/dev/tty\",\nO_RDONLY|O_NONBLOCK);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; if(fd&lt;0) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; perror(\"open /dev/tty\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; exit(1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; } <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp; for(i=0; i&lt;5; i++) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; n = read(fd, buf, 10);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; if(n&gt;=0)&nbsp;&nbsp;&nbsp;&nbsp; break;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; if(errno!=EAGAIN) {<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; perror(\"read /dev/tty\");<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; exit(1); <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; } <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; sleep(1);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; write(STDOUT_FILENO, MSG_TRY,\nstrlen(MSG_TRY));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; } <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp; if(i==5)<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; write(STDOUT_FILENO, MSG_TIMEOUT,\nstrlen(MSG_TIMEOUT));<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp; else <o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp; write(STDOUT_FILENO, buf, n);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; close(fd);<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp;&nbsp; return 0;<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:Consolas;\nmso-fareast-font-family:宋体;color:black;mso-font-kerning:0pt\">&nbsp; }<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 18pt; line-height: 19.5pt; background-color: white; background-position: initial initial; background-repeat: initial initial;\"><span style=\"font-size:18.0pt;font-family:宋体;mso-ascii-font-family:\nConsolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;\ncolor:black;mso-font-kerning:0pt\">转自：</span><span lang=\"EN-US\" style=\"font-size:\n18.0pt;font-family:Consolas;mso-fareast-font-family:宋体;color:black;mso-font-kerning:\n0pt\">http://blog.csdn.net/zjhkobe/article/details/6633446<o:p></o:p></span></p>\n\n<p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:18.0pt\"><o:p>&nbsp;</o:p></span></p>\n\n<!--EndFragment-->"
    }
  ]
}
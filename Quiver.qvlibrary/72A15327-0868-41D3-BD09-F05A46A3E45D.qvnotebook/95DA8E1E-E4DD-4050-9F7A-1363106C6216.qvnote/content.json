{
  "title": "mac系统更换硬盘及初始化开发环境的记录",
  "cells": [
    {
      "type": "text",
      "data": "<embed id=\"xunlei_com_thunder_helper_plugin_d462f475-c18e-46be-bd10-327458d045bd\" type=\"application/thunder_download_plugin\" height=\"0\" width=\"0\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><div class=\"title\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; padding: 1px 0px; text-align: center;\"><h2>mac系统更换硬盘及初始化开发环境的记录</h2></div><div class=\"info\" style=\"color: rgb(0, 0, 0); font-family: Arial; text-align: right; padding-right: 5px; line-height: 25px; font-size: 12px;\">浏览:1117次&nbsp;&nbsp;<a href=\"http://blogread.cn/it/article/7008?f=wb#original\" style=\"text-decoration: none;\">出处信息</a></div><div class=\"article\" style=\"color: rgb(0, 0, 0); font-family: Arial; line-height: 25px; padding: 15px 5px; font-size: 16px;\"><div style=\"font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti; float: right; margin: 4px;\"></div><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">12年的时候入了macbook pro，之后就一直用到现在，只是一直把机械硬盘当作ssd用，盖了盖子直接就带着到处跑，结果最近就给杯具了。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">文章可能写的比较散，我就给分成几节吧</p><h3 style=\"box-sizing: border-box; font-weight: 500; font-family: 'helvetica neue', helvetica, arial, sans-serif; font-size: 24px; color: rgb(61, 68, 80); margin-top: 20px; margin-bottom: 10px;\">一. 发现问题<br style=\"box-sizing: border-box;\"></h3><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">现象倒是比较常见，死机频繁，并且开chrome一直chrome内核的ide必然死机。一开始以为是10.9系统的问题，后来想来想估计是内存或者硬盘的问题。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">在网上下了个神器：TechTool</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">大家如果对自己的硬盘不放心也可以去检测一下～ 检测的结果:</p><blockquote style=\"box-sizing: border-box; padding: 10px 20px; margin-bottom: 20px; border-left-width: 5px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px;\"><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 0px;\">SMART检查失败<br style=\"box-sizing: border-box;\">硬盘存在不可修复的硬件问题，请更换硬盘</p></blockquote><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">得，这直接判了死刑了。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">赶紧去网上买了块硬盘，以及一个硬盘盒。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">又从朋友那边接了拆mac的专用螺丝刀盒。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">为了保险起见，从朋友那里借了个移动硬盘，把所有数据备份了一下。</p><h3 style=\"box-sizing: border-box; font-weight: 500; font-family: 'helvetica neue', helvetica, arial, sans-serif; font-size: 24px; color: rgb(61, 68, 80); margin-top: 20px; margin-bottom: 10px;\">二. 制作系统</h3><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">话说因为买mac的时候并没有赠送系统盘之类的东西，所以去网上淘了一下，比较庆幸已经有人做好了：<a href=\"http://app.maiyadi.com/app-826392/#p=1\" target=\"_blank\" style=\"text-decoration: none; box-sizing: border-box; color: rgb(210, 50, 45);\">Mac OS X 10.9 Mavericks U盘复刻版</a>，将其导出为U盘即可。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">导出为u盘的方法也简单说下:</p><ul style=\"box-sizing: border-box; list-style-type: none; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-top: 0px; margin-bottom: 10px;\"><li style=\"box-sizing: border-box;\"><p>准备一个8G的U盘</p></li><li style=\"box-sizing: border-box;\"><p>执行系统自带的磁盘工具，将下载的DMG恢复到准备的U盘上</p></li><li style=\"box-sizing: border-box;\"><p>喝杯咖啡，等半个小时，搞定</p></li></ul><h3 style=\"box-sizing: border-box; font-weight: 500; font-family: 'helvetica neue', helvetica, arial, sans-serif; font-size: 24px; color: rgb(61, 68, 80); margin-top: 20px; margin-bottom: 10px;\">三. 更换硬盘，安装系统</h3><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">拆硬盘还是比较简单的，在断电关机的情况下，把几个螺丝卸下载，然后换上即可。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">然后重新启动电脑，按住alt知道出现启动选择界面。进入后发现看不到自己的新磁盘？不用担心，先用磁盘工具将新磁盘分区一下，我是分了一个区，格式为os extend<br style=\"box-sizing: border-box;\">之后再回到选择界面，安装系统即可</p><h3 style=\"box-sizing: border-box; font-weight: 500; font-family: 'helvetica neue', helvetica, arial, sans-serif; font-size: 24px; color: rgb(61, 68, 80); margin-top: 20px; margin-bottom: 10px;\">四. 恢复数据</h3><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">恢复数据这里实在是杯具透顶，由于之前的数据是用另外的移动硬盘备份的，结果拷贝回来之后，用git status一看，发现全都是修改状态。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">仔细对比了一下，发现只是换行符的格式换掉了，关键无论是文本文件还是二进制文件，全都发生了修改!</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">还好之前准备了硬盘盒，将原来的硬盘周围的4个螺丝去掉，放到硬盘盒里，重新copy数据，一切正常～</p><h3 style=\"box-sizing: border-box; font-weight: 500; font-family: 'helvetica neue', helvetica, arial, sans-serif; font-size: 24px; color: rgb(61, 68, 80); margin-top: 20px; margin-bottom: 10px;\">五. 初始化环境</h3><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">我目前的开发环境还是比较简单的，挨个说下。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">要注意，没有特殊说明，都是用默认用户安装，不要用root。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">首先肯定得先把xcode装上，否则啥都干不了，这个直接去app store上下载即可。</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">要注意的是，虽然xcode5版之后，只要装了xcode，gcc、make等命令会自动出现在命令行，但是还是要执行 xcode-select -install，这样可以将一些头文件copy 到 /usr/include 目录，也可以解决macvim用brew安装失败的问题</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">之后装上iterm2，去官网下载即可</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">之后是安装homebrew，也是按照官网的说明装。安装完之后调用 brew doctor 看下有什么错误提示。并且homebrew建议将 /usr/local/bin 放到PATH的最前面，这个照做即可</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">接下来是安装python: brew install python</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">再之后是macvim: brew install macvim，要注意如果之前没有安装xcode的命令行工具的话，就会报编译错误</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">mysql的安装比较复杂，我就直接把之前自己写的教程贴在下面了</p><blockquote style=\"box-sizing: border-box; padding: 10px 20px; margin-bottom: 20px; border-left-width: 5px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px;\"><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">到&nbsp;<a href=\"http://dev.mysql.com/downloads/\">http://dev.mysql.com/downloads/</a>&nbsp;下载64位的dmg安装包，记得选择5.5版本。因为mysql-python只支持到5.5版本</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">下载后载入dmg，</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">点击 mysql-5.5.16-osx10.6-x86_64.pkg：这个是MySql的主要程序包;</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">点击 MySQL_StartupItem.pkg：MySql的启动项;</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">点击 MySQL.prefPane：安装完成后会在系统的偏好设置里面出现，是MySQL的偏好设置，里面主要是用来启动MySQL服务的.</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">为了能在命令行使用mysql</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">ln -s /usr/local/mysql/bin/mysql /usr/local/bin/</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">为了安装mysql-python不报错</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">ln -s /usr/local/mysql/bin/mysql_config /usr/local/bin/</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">在 ~/.profile中加入:</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">export DYLD_LIBRARY_PATH=/usr/local/mysql/lib:$DYLD_LIBRARY_PATH</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">卸载方法:</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\"><br></p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">先停止所有mysql有关进程。</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">sudo rm /usr/local/mysql</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">sudo rm -rf /usr/local/mysql*</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">sudo rm -rf /Library/StartupItems/MySQLCOM</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">sudo rm -rf /Library/PreferencePanes/My*</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">vim /etc/hostconfig and removed the line MYSQLCOM=-YES-</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">rm -rf ~/Library/PreferencePanes/My*</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">sudo rm -rf /Library/Receipts/mysql*</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 10px;\">sudo rm -rf /Library/Receipts/MySQL*</p><p style=\"box-sizing: border-box; margin-top: 0px; font-size: 14px; line-height: 1.25; margin-bottom: 0px;\">sudo rm -rf /var/db/receipts/com.mysql.*</p></blockquote><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">再之后把pycharm、appcode、intellij idea装上</p><p style=\"box-sizing: border-box; margin-top: 0px; color: rgb(61, 68, 80); font-family: 'microsoft yahei', helvetica, arial, sans-serif; font-size: 12px; line-height: 17.142858505249px; margin-bottom: 10px;\">至此差不多告一段落，简单记录在此，希望对大家有用</p></div>"
    }
  ]
}
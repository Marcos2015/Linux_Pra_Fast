{
  "title": "Unix环境变量设置",
  "cells": [
    {
      "type": "text",
      "data": "<table width=\"100%\" style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\"><tbody><tr><td height=\"1\" style=\"font-size: 1em;\">&nbsp;</td></tr><tr><td height=\"1\" style=\"font-size: 1em;\"><br></td></tr><tr><td style=\"font-size: 1em;\"><table width=\"100%\"><tbody><tr><td width=\"100%\" style=\"font-size: 1em;\"><div style=\"margin: 15px;\">我们在Linux下安装系统软件的时候,经常遇到一些系统环境变量配置的问题。什么是环境变量？如何定制环境变量？我将在下面做一些介绍。<br><br>一、什么是环境变量？<br>Linux是一个多用户的操作系统。多用户意味着每个用户登录系统后，都有自己专用的运行环境。而这个环境是由一组变量所定义,这组变量被称为环境变量。用户可以对自己的环境变量进行修改以达到对环境的要求。<br><br>二、定制环境变量&nbsp;<br>环境变量是和Shell紧密相关的，它是通过Shell命令来设置的。环境变量又可以被所有当前用户所运行的程序所使用。对于bash来说，可以通过变量名来访问相应的环境变量。<br>下面通过几个实例来说明<br><br>1.显示环境变量HOME&nbsp;<br>$&amp;nbspecho $HOME<br>/home/admin<br><br>2.设置一个新的环境变量NAME<br>$&amp;nbspexport&amp;nbspNAME=\"RaidCheng\"<br>$&amp;nbspecho $NAME<br>RaidCheng<br><br>3.使用env命令显示所有的环境变量&nbsp;<br>$&amp;nbspenv<br>HOSTNAME=test<br>TERM=vt100<br>SHELL=/bin/bash<br>HISTSIZE=1000<br>SSH_CLIENT=202.xxx.xxx.xxx&amp;nbsp53694&amp;nbsp22<br>CATALINA_BASE=/usr/local/jakarta-tomcat<br>SSH_TTY=/dev/pts/0<br>ANT_HOME=/usr/local/ant<br>JAVA_OPTS=-server<br>USER=admin<br>...<br><br>4.使用set命令显示所有本地定义的Shell变量&nbsp;<br>$&amp;nbspset<br>BASH=/bin/bash<br>BASH_VERSINFO=([0]=\"2\" [1]=\"05b\" [2]=\"0\" [3]=\"1\" [4]=\"release\" [5]=\"i386-redhat-linux-gnu\")<br>BASH_VERSION='2.05b.0(1)-release'<br>CATALINA_BASE=/usr/local/jakarta-tomcat<br>CATALINA_HOME=/usr/local/jakarta-tomcat<br>...<br><br>5.使用unset命令来清除环境变量&nbsp;<br>$&amp;nbspexport&amp;nbspNAME=\"RaidCheng\"<br>$&amp;nbspecho $NAME<br>RaidCheng<br>$&amp;nbspunset&amp;nbspNAME<br>$&amp;nbspecho $NAME<br><br>6.使用readonly命令设置只读变量&nbsp;<br>$&amp;nbspexport&amp;nbspNAME=\"RaidCheng\"<br>$&amp;nbspreadonly&amp;nbspNAME<br>$&amp;nbspunset&amp;nbspNAME<br>-bash:&amp;nbspunset:&amp;nbspNAME:&amp;nbspcannot&amp;nbspunset:&amp;nbspreadonly&amp;nbspvariable<br>$&amp;nbspNAME=\"New\" #会发现此也变量不能被修改<br>-bash:&amp;nbspTEST:&amp;nbspreadonly&amp;nbspvariable<br><br>三、常见的环境变量&nbsp;<br>PATH　　　　　　决定了shell将到哪些目录中寻找命令或程序<br>HOME　　　　　　当前用户主目录<br>HISTSIZE　　　　历史记录数<br>LOGNAME 　　　　当前用户的登录名&nbsp;<br>HOSTNAME　　　　指主机的名称<br>SHELL 　　　　　前用户Shell类型&nbsp;<br>LANGUGE 　　　　语言相关的环境变量，多语言可以修改此环境变量<br>MAIL　　　　　　当前用户的邮件存放目录&nbsp;<br>PS1　　　　　　 基本提示符，对于root用户是#，对于普通用户是$<br>PS2　　　　　　 附属提示符，默认是“&gt;”<br><br>四、通过C程序来访问和设置环境变量&nbsp;<br>对于C程序的用户来说，可以使用下列三个函数来设置或访问一个环境变量。&nbsp;<br><br>getenv()访问一个环境变量。输入参数是需要访问的变量名字，返回值是一个字符串。如果所访问的环境变量不存在，则会返回NULL<br><br>setenv()在程序里面设置某个环境变量的函数<br><br>unsetenv()清除某个特定的环境变量的函数<br><br>另外，还有一个指针变量environ，它指向的是包含所有的环境变量的一个列表。下面的程序可以打印出当前运行环境里面的所有环境变量：<br><br>#include&nbsp;<br>extern&amp;nbspchar**environ;<br>int&amp;nbspmain ()<br>{<br>char**var;<br>for (var =environ;*var !=NULL;++var)<br>printf (\"%s \\n \",*var);<br>return&amp;nbsp0;<br>}<br><br>五、环境变量文件<br>通过修改一些相关的环境定义文件来修改环境变量，比如对于RedHat，与环境相关的文件有/etc/profile和~/.bash_profile等。修改完毕后重新登录一次或运行命令source&amp;nbspxxx就生效了。&nbsp;</div></td></tr></tbody></table></td></tr></tbody></table>"
    }
  ]
}
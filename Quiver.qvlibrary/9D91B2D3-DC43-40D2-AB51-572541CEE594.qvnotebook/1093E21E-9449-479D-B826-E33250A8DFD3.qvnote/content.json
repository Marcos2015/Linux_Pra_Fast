{
  "title": "ACE C++网络编程开发包",
  "cells": [
    {
      "type": "text",
      "data": "<span style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">ACE是个很有用的开放源代码的C++网络编程开发包，利用它比直接用API更有利于代码的健壮性，可移植性，并相对简单。</span><br style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><span style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">估计大家刚接触ACE时，都有一定难度，说不定就半途放弃了，这是我学ACE两天中的总结，基本上不成文，但我想研究到ACE的你一定会明白下文的意思。</span><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">我的系统环境是：Win2k pro(sp4)、VC6.0 (sp5)</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">过一阵，我的主页上要开论坛，并设VC专区，欢迎大家上去交流<br><a href=\"http://www.liufei.com/\">http://www.liufei.com</a></p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><br>一、ACE官方主页：<a href=\"http://www.cs.wustl.edu/%7Eschmidt/ACE.html\">http://www.cs.wustl.edu/~schmidt/ACE.html</a><br>&nbsp;&nbsp;&nbsp; 下载地址：<a href=\"http://deuce.doc.wustl.edu/Download.html\">http://deuce.doc.wustl.edu/Download.html</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 我下载的是Latest Beta Kit中的ACE.zip（Latest Release中的压缩包好像有问题，我有WinRAR3.30解压缩报错）</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">二、解压缩后放在D盘<br>&nbsp;&nbsp;&nbsp; D:/ACE_wrappers</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">三、在D:/ACE_wrappers/ace目录下新建文件config.h加入一行<br>&nbsp;&nbsp;&nbsp; #include \"ace/config-win32.h\"<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>四、编译：用VC6.0打开D:/ACE_wrappers/ace/ace.dsw<br>&nbsp;&nbsp;&nbsp; 左侧显示&nbsp;&nbsp;&nbsp; ACE DLL classes<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ACE LIB classes<br>&nbsp;&nbsp;&nbsp; 或1、从菜单上选择“编译”，“放置可远行配置”，选择你需要的工程配置<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “编译”，“重建全部”（或任一，如ACE DLL - Win32 MFC Debug）<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 此过程可能持续半小时至一个小时不等<br>&nbsp;&nbsp;&nbsp; 或2、从菜单上选择“编译”，“批构建”，选择你需要的工程配置<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 此过程可能持续二至四个钟头<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 产生的.lib文件位于D:/ACE_wrappers/ace/下，<br>&nbsp;&nbsp;&nbsp; 产生的.dll文件位于D:/ACE_wrappers/bin/下<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 同样打开ace_static.dsw<br>&nbsp;&nbsp;&nbsp; 编译<br>&nbsp;&nbsp;&nbsp; ACEs.lib<br>&nbsp;&nbsp;&nbsp; ACEsd.lib<br>&nbsp;&nbsp;&nbsp; ACE_RMCasts.lib<br>&nbsp;&nbsp;&nbsp; ACE_RMCastsd.lib<br>&nbsp;&nbsp;&nbsp; TMCasts.lib<br>&nbsp;&nbsp;&nbsp; TMCastsd.lib</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">&nbsp;&nbsp;&nbsp; ACE生成的dll和lib文件的命名规则：（d = debug，s = static）</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">&nbsp;&nbsp;&nbsp; debug - aced.lib、debug+static - acesd.lib、release - ace.lib、 release+static - aces.lib</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><br>五、样例程序的编译<br>&nbsp;&nbsp;&nbsp; 用VC打开D:/ACE_wrappers/tests/tests.dsw<br>&nbsp;&nbsp;&nbsp; “编译”，“批构建”<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>六、自写程序的工程配置<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 中篇：ACE程序员教程.pdf中的样例程序：<br>&nbsp;&nbsp;&nbsp; 网址：<a href=\"http://www.cs.wustl.edu/%7Eschmidt/ACE_wrappers/docs/tutorials/guide-tutorials.html\">http://www.cs.wustl.edu/~schmidt/ACE_wrappers/docs/tutorials/guide-tutorials.html</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 将网页上的原代码复制到一新建文件，并命名为server.cpp<br>&nbsp;&nbsp;&nbsp; 用ＶＣ打开，编译，重建全部，弹出对话框，“This build command require ...“，点”是“<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 会出现以下错误<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 如果有“Cannot open include file: 'ace/SOCK_Acceptor.h': No such file or directory”<br>&nbsp;&nbsp;&nbsp; 工程-设置-C/C++: Preprocessor,附加包含路径：D:/ACE_wrappers<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 如果有“ You must link against multi-threaded libraries when using ACE (check your project settings)”<br>&nbsp;&nbsp;&nbsp; 工程-设置-C/C++: Code Generation - Use run-time library : Debug Multithreaded Dll<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 如果有“error C2065: 'ACE_ERROR' : undeclared identifier”<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; error C2065: 'ACE_DEBUG' : undeclared identifier<br>&nbsp;&nbsp;&nbsp; #include \"ace/Log_Msg.h\"</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">&nbsp;&nbsp;&nbsp; error C4716: 'ace_main_i' : must return a value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在main中加入<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; “error LNK2001: unresolved external symbol \"__declspec(dllimport) int __cdecl”<br>&nbsp;&nbsp;&nbsp; 工程-设置-Link-Input: 对象/库模块：添加aced.lib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 附加库路径：D:/ACE_wrappers/ace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 编译client中遇到的问题<br>&nbsp;&nbsp;&nbsp; 1、error C2039: 'sprintf' : is not a member of 'ACE_OS'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #include \"ace/OS_NS_stdio.h\"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 2、error C2039: 'strlen' : is not a member of 'ACE_OS'<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #include \"ace/OS_NS_string.h\"<br>&nbsp;&nbsp;&nbsp; 3、error C2059: syntax error : '?'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 错误在这一句：&nbsp; ACE_DEBUG((LM_DEBUG,?Usage egX &lt;hostname&gt; &lt;port_number&gt;/n?));&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将?改为\"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 4、无法找到动态链接库aced.dll于指定的路径<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为系统变量PATH加上D:/ACE_wrappers/bin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 静态包含：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 工程-设置-C/C++-预处理程序定义中加入 ,ACE_AS_STATIC_LIBS<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>例１server编译后生成<br>&nbsp;&nbsp;&nbsp; server.exe 16K&nbsp; serverd.exe 97K&nbsp;&nbsp;&nbsp;&nbsp; servers.exe 124K serversd.exe 669K<br>&nbsp;&nbsp;&nbsp; （servers.exe较适合发布）<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>例2 client编译后生成<br>&nbsp;&nbsp;&nbsp; client.exe 16K&nbsp; clientd.exe 97K&nbsp;&nbsp;&nbsp;&nbsp; clients.exe 124K clientsd.exe 669K<br>&nbsp;&nbsp; （clients.exe较适合发布）<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://lib.csdn.net/base/softwaretest\" class=\"replace_word\" title=\"软件测试知识库\" target=\"_blank\" style=\"color: rgb(223, 52, 52); font-weight: bold;\">测试</a>&nbsp;clients 127.0.0.1 1919<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; servers 1919</p><p style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">&nbsp;提醒大家要注意一点<br>一定在使用任何ACE代码前调用ACE::init()，使用完之后调用ACE::fini()。如果忘记写编译器是不会提醒你的。也就是会得到ACE本来要解决的——运行时错误</p>"
    }
  ]
}
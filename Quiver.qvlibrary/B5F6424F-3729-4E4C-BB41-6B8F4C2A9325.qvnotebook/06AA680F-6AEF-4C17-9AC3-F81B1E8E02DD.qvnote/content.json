{
  "title": "安装docker遇到的bug",
  "cells": [
    {
      "type": "text",
      "data": "<embed id=\"xunlei_com_thunder_helper_plugin_d462f475-c18e-46be-bd10-327458d045bd\" type=\"application/thunder_download_plugin\" height=\"0\" width=\"0\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><span style=\"color: rgb(51, 51, 51); font-family: simsun; font-size: 16px; line-height: 28px; text-indent: 2em;\">三、Docker入门（以下运行环境是Cetos6.364bit系统上进行）</span><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; 1. 创建容器</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name=\"OLE_LINK4\" style=\"color: rgb(31, 79, 136);\"></a><a name=\"OLE_LINK3\" style=\"color: rgb(31, 79, 136);\"></a>#docker run -I -t ubuntu /bin/bash</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -i 标志保证容器中STDIN是开启的，尽管我们并没有附着到容器中，-t 标志告诉Docker为要创建的容器分配一个伪tty终端。</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp; 附录：在执行这条指令的时候遇到以下问题：</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FATA[0000]&nbsp;<a href=\"gethttp:///var/run/docker.sock/v1.17/images/search?term=ubuntu:\">Gethttp:///var/run/docker.sock/v1.17/images/search?term=ubuntu:</a>&nbsp;dial unix/var/run/docker.sock: no such file or directory. Are you trying to connect to aTLS-enabled daemon without TLS?</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">原因：docker服务没有启动：servicedocker start &nbsp;设置开机启动：chkconfigdocker on</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;FATA[0000] Cannot connect tothe Docker daemon. Is 'docker -d' running on this host?</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">原因：docker -d 进程没有启动&nbsp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">尝试解决： docker-d &amp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">报错:</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;====================================================================</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; INFO[0000] +jobserveapi(<a href=\"unix:///var/run/docker.sock\">unix:///var/run/docker.sock</a>)&nbsp;&nbsp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; INFO[0000] WARNING: You arerunning linux kernel version 2.6.32-431.11.7.el6.ucloud.x86_64, which might beunstable running docker. Please upgrade your kernel to 3.8.0.</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; docker: relocation error:docker: symbol dm_task_get_info_with_deferred_remove, version Base not definedin file libdevmapper.so.1.02 with link time reference</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; [1]+&nbsp; Exit 127&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; docker -d</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;====================================================================</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; 解决办法:安装必要的插件<span style=\"color: rgb(255, 0, 0);\">yum upgrade device-mapper-libs</span></p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; 执行命令:docker -d&amp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp; 继续执行# dockerrun -I -t ubuntu /bin/bash 它的含义是创建一个基于ubuntu镜像的容器，并且使用交互式shell环境。docker run命令先进行本地宿机镜像扫描，如果找不到则会与Docker仓库建立连接并进行相应镜像的下载<span style=\"text-indent: 2em;\">三、Docker入门（以下运行环境是Cetos6.364bit系统上进行）</span></p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; 1. 创建容器</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name=\"OLE_LINK4\" style=\"color: rgb(31, 79, 136);\"></a><a name=\"OLE_LINK3\" style=\"color: rgb(31, 79, 136);\"></a>#docker run -I -t ubuntu /bin/bash</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -i 标志保证容器中STDIN是开启的，尽管我们并没有附着到容器中，-t 标志告诉Docker为要创建的容器分配一个伪tty终端。</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp; 附录：在执行这条指令的时候遇到以下问题：</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 2em; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FATA[0000]&nbsp;<a href=\"gethttp:///var/run/docker.sock/v1.17/images/search?term=ubuntu:\">Gethttp:///var/run/docker.sock/v1.17/images/search?term=ubuntu:</a>&nbsp;dial unix/var/run/docker.sock: no such file or directory. Are you trying to connect to aTLS-enabled daemon without TLS?</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\"><span style=\"color: rgb(0, 128, 128);\">原因：docker服务没有启动：service docker start &nbsp;设置开机启动：chkconfig docker on</span></p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;FATA[0000] Cannot connect tothe Docker daemon. Is 'docker -d' running on this host?</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">原因：docker -d 进程没有启动&nbsp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">尝试解决： docker-d &amp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">报错:</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;====================================================================</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; INFO[0000] +jobserveapi(<a href=\"unix:///var/run/docker.sock\">unix:///var/run/docker.sock</a>)&nbsp;&nbsp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; INFO[0000] WARNING: You arerunning linux kernel version 2.6.32-431.11.7.el6.ucloud.x86_64, which might beunstable running docker. Please upgrade your kernel to 3.8.0.</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; docker: relocation error:docker: symbol dm_task_get_info_with_deferred_remove, version Base not definedin file libdevmapper.so.1.02 with link time reference</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; [1]+&nbsp; Exit 127&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; docker -d</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp;====================================================================</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; 解决办法:安装必要的插件<span style=\"color: rgb(255, 0, 0);\">yum upgrade device-mapper-libs</span></p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp;&nbsp; 执行命令:docker -d&amp;</p><p style=\"margin: 14px 0px; padding: 0px; word-break: normal; word-wrap: break-word; text-indent: 28px; color: rgb(51, 51, 51); font-size: 16px !important; line-height: 28px !important; font-family: simsun !important;\">&nbsp; 继续执行# dockerrun -I -t ubuntu /bin/bash 它的含义是创建一个基于ubuntu镜像的容器，并且使用交互式shell环境。docker run命令先进行本地宿机镜像扫描，如果找不到则会与Docker仓库建立连接并进行相应镜像的下载</p>"
    }
  ]
}
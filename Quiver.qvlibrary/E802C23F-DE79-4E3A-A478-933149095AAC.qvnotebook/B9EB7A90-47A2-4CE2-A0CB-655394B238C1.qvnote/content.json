{
  "title": "MAC OS 与 ZSH",
  "cells": [
    {
      "type": "text",
      "data": "<div style=\"color: rgb(0, 0, 0); line-height: 1.7; font-size: 14px; font-family: Arial;\"><span style=\"font-family: arial, helvetica, sans-serif;\">MAC OS 的用户默认的shell是什么我不太记得了，基本上是bash或兼容的版本吧。一般来说，bash已经足够使用。不过，偶然的机会，我尝试了一下 zsh 的配置库 oh-my-zsh 以后，决定把我所有的shell环境都迁到zsh了。甚至我在办公室的windows机上也装了cygwin，用它配置了zsh环境。</span><br><div id=\"note_232038698_full\" class=\"note-content\" style=\"margin: 0px; padding: 0px;\"><div id=\"link-report\" style=\"margin: 0px; padding: 0px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">MAC OS 用户要使用zsh+oh-my-zsh并不复杂（windows上还真是费了我一番周折）。首先，我们安装git，我用的是 macport ：</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">sudo port git</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">homebrew 或 fink 的用户，按自己习惯安装就是了。</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">顺便提一句，系统的zsh在/bin/zsh，我的lion 10.7.4 系统自带版本是 4.3.11，ports里是5.0，升级控不妨顺便装一个……</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">装好后设置zsh为默认的shell</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">chsh -s /bin/zsh</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">或者</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">sudo usermod -s /bin/zsh march</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">如果你用的是port下来的高版本zsh，记得zsh路径是 /opt/local/bin/zsh。&nbsp;</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">登入zsh（例如开一个新的iterm2窗口或者直接执行zsh）的时候，就会提示你配置zsh，这时候可以直接选 2 建立一个空的配置，因为接下来我们要安装 oh-my-zsh 插件。</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">oh-my-zsh 是一个广受欢迎的 zsh 配置库，在它的 github 主页</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><a rel=\"nofollow\" href=\"http://www.douban.com/link2/?url=https%3A%2F%2Fgithub.com%2Frobbyrussell%2Foh-my-zsh%2F&amp;link2key=a2ba679f04\" target=\"_blank\" style=\"color: rgb(0, 176, 216); text-decoration: none; font-family: arial, helvetica, sans-serif; line-height: 22px;\">https://github.com/robbyrussell/oh-my-zsh/</a><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">上有安装方法，简单的说，你可以：</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">curl -L&nbsp;</span><a rel=\"nofollow\" href=\"http://www.douban.com/link2/?url=https%3A%2F%2Fgithub.com%2Frobbyrussell%2Foh-my-zsh%2Fraw%2Fmaster%2Ftools%2Finstall.sh&amp;link2key=a2ba679f04\" target=\"_blank\" style=\"color: rgb(0, 176, 216); text-decoration: none; font-family: arial, helvetica, sans-serif; line-height: 22px;\">https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh</a><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">&nbsp;| sh</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">经过一段时间的等待，这个脚本会自动下载安装 zsh，生成一个默认的配置，启动它。</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">然后，我们可以进一步定制它。用你习惯的编辑器，例如 emacs ，打开 ~/.zshrc ，</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">emacs ~/.zshrc</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">这里有两处可以配置，一个是 ZSH_THEME ，oh-my-zsh 附带了很多theme，所以我建议新手可以配成&nbsp;</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">ZSH_THEME=\"random\"&nbsp;</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">这样，每次启动会随机选一个，非常好玩，等遇到喜欢又好用的再固定不迟。random 主题下，每次启动的时候会提示这次使用的主题是什么。</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">第二个地方是 plugins，这里不妨&nbsp;</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">ls ~/.oh-my-zsh/plugins&nbsp;</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">看看都有什么插件，有没有自己需要的。作为一个职业的开发人员，我配的插件比较多：</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">plugins=(bundler git git-flow gnu-utils osx ruby gem perl rails rvm mercurial svn macports osx virtualenvwrapper django pip)&nbsp;</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">一般用户用不到这么多提示的。</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">配置完可以新开一个终端体验一下，现在的终端跟系统默认的已经大不一样了:</span><table style=\"font-family: arial, helvetica, sans-serif; text-align: center; margin-right: auto; margin-bottom: 0px; margin-left: auto; width: 1px;\"><tbody><tr><td style=\"margin: 0px; padding: 0px; word-break: break-all;\"><img src=\"http://img3.douban.com/view/note/large/public/p232038698-2.jpg\" alt=\"这个theme会显示git的branch，另外zsh的提示风格跟bash不一样\" style=\"border: 0px;\"></td></tr><tr><td align=\"center\" class=\"wr pl\" style=\"margin: 0px; padding: 0px; word-break: break-all; font-size: 12px; font-family: Arial, Helvetica, sans-serif; line-height: 18px; color: rgb(102, 102, 102);\"><div class=\"pl\" style=\"margin: 0px; padding: 0px; font-size: 14px; line-height: 21px;\">这个theme会显示git的branch，另外zsh的提示风格跟bash不一样</div></td></tr></tbody></table><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">vim 用户不妨试试 vi-mode 插件，它可以把shell环境默认的类emacs的行编辑风格变成vi风格的，对vim用户会更友好。</span><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\">等深入了解了zsh以后，你也许也会开发出属于自己的zsh插件和主题，希望玩的开心：）。</span></div><div><span style=\"font-family: arial, helvetica, sans-serif; line-height: 22px;\"><br></span></div></div></div><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span title=\"neteasefooter\" style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span id=\"netease_mail_footer\"><div id=\"netease_mail_footer\"><div style=\"border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); padding: 10px 5px; color: rgb(102, 102, 102); line-height: 22px;\">来自网易手机号码邮箱<a id=\"mobile_set\" sys=\"1\" log=\"1\" logid=\"free_sms_20120504\" href=\"http://shouji.163.com/\" target=\"_blank\" style=\"color: rgb(0, 0, 255);\">了解更多</a></div></div></span></span>"
    }
  ]
}
{
  "title": "关于C语言的char类型是有符号还是无符号",
  "cells": [
    {
      "type": "text",
      "data": "<div style=\"color: rgb(0, 0, 0); line-height: 1.7; font-size: 14px; font-family: arial;\"><header style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: 'Microsoft YaHei', 'WenQuanYi MicroHei', 'WenQuanYi ZenHei', Georgia, Tahoma, Helvetica, Arial, sans-serif; font-size: 12px; line-height: normal; background-color: rgb(248, 248, 248);\"><h2 style=\"margin: 0px 0px 15px; padding: 15px 0px 5px; font-weight: normal; font-size: 22px; color: rgb(68, 68, 68); text-shadow: rgb(238, 238, 238) 2px 2px;\"><br></h2><p class=\"postinfo single\" style=\"margin: 0px; padding: 0px 0px 16px; line-height: 1.7em;\">Published by&nbsp;<span class=\"author\" style=\"margin: 0px; padding: 0px;\">荒野无灯</span>&nbsp;on&nbsp;<time style=\"margin: 0px; padding: 0px;\">2011-06-24 15:53:04</time>&nbsp;under&nbsp;<a rel=\"category\" href=\"http://ihacklog.com/category/programming.html\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17);\">programming</a>/<a rel=\"category\" href=\"http://ihacklog.com/category/programming/c.html\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17);\">c/c++</a>&nbsp;Tags:<a href=\"http://ihacklog.com/tag/c.html\" rel=\"tag\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17);\">c/c++</a>,<a href=\"http://ihacklog.com/tag/char.html\" rel=\"tag\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17);\">char</a>,<a href=\"http://ihacklog.com/tag/cpp.html\" rel=\"tag\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17);\">cpp</a>,<a href=\"http://ihacklog.com/tag/signed.html\" rel=\"tag\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17);\">signed</a>,<a href=\"http://ihacklog.com/tag/unsigned.html\" rel=\"tag\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17);\">unsigned</a>&nbsp;5583 views</p></header><p style=\"margin: 0px; padding: 0px 0px 16px; line-height: 1.7em; color: rgb(85, 85, 85); font-family: 'Microsoft YaHei', 'WenQuanYi MicroHei', 'WenQuanYi ZenHei', Georgia, Tahoma, Helvetica, Arial, sans-serif; font-size: 12px; background-color: rgb(248, 248, 248);\">这是C语言里面比较纠结的一个问题。<br style=\"margin: 0px; padding: 0px;\">有时候这个问题和平台或者编译器有关。<br style=\"margin: 0px; padding: 0px;\">貌似gcc和 Ms cl 都默认是signed</p><div class=\"codecolorer-container c default\" style=\"margin: 0px 0px 10px; padding: 0px; border: 1px solid rgb(159, 159, 159); font-size: 13px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; background-color: rgb(241, 241, 241); overflow: auto; white-space: nowrap; width: 600px;\"><table cellspacing=\"0\" cellpadding=\"0\" style=\"margin: 10px 0px 30px; padding: 0px; line-height: 1.4em; border: 0px;\"><tbody style=\"margin: 0px; padding: 0px; line-height: 1.4em;\"><tr style=\"margin: 0px; padding: 0px; line-height: 1.4em;\"><td class=\"line-numbers\" style=\"margin: 0px; padding: 5px; background-color: rgb(238, 238, 238); color: rgb(136, 136, 136); text-align: right; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; line-height: 1.4em; border-right-color: rgb(159, 159, 159);\"><div style=\"margin: 0px; padding: 0px; line-height: 1.4em; width: 23px;\">1<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">2<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">3<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">4<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">5<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">6<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">7<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">8<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">9<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\"></div></td><td style=\"margin: 0px; padding: 0px; background-color: rgb(238, 238, 238); color: rgb(85, 85, 85); border: 0px; line-height: 1.4em;\"><div class=\"c codecolorer\" style=\"margin: 0px; padding: 5px; line-height: 1.4em; font-family: monospace; color: rgb(0, 0, 0); background-color: rgb(241, 241, 241);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\">#include&nbsp; &nbsp; &lt;stdio.h&gt;</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\">#include &nbsp; &nbsp;&lt;limits.h&gt;</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(153, 51, 51);\">int</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\">main<span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 153, 0);\">(</span><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 153, 0);\">)</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 153, 0);\">{</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\" style=\"margin: 0px; padding: 0px; outline: 0px; color: rgb(17, 17, 17); line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; color: rgb(0, 0, 102);\">printf</span></a><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 153, 0);\">(</span><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(255, 0, 0);\">\"%d<span style=\"margin: 0px; padding: 0px; font-weight: bold; line-height: 1.4em; color: rgb(0, 0, 153);\">\\n</span>\"</span><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\">,</span>CHAR_MIN<span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 153, 0);\">)</span><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\">;</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(177, 177, 0);\">return</span>&nbsp;<span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 0, 221);\">0</span><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\">;</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 153, 0);\">}</span></div></td></tr></tbody></table></div><p style=\"margin: 0px; padding: 0px 0px 16px; line-height: 1.7em; color: rgb(85, 85, 85); font-family: 'Microsoft YaHei', 'WenQuanYi MicroHei', 'WenQuanYi ZenHei', Georgia, Tahoma, Helvetica, Arial, sans-serif; font-size: 12px; background-color: rgb(248, 248, 248);\">输出是 -128 .</p><p style=\"margin: 0px; padding: 0px 0px 16px; line-height: 1.7em; color: rgb(85, 85, 85); font-family: 'Microsoft YaHei', 'WenQuanYi MicroHei', 'WenQuanYi ZenHei', Georgia, Tahoma, Helvetica, Arial, sans-serif; font-size: 12px; background-color: rgb(248, 248, 248);\">其实C标准并没有规定char 应该是unsigned 还是 signed<br style=\"margin: 0px; padding: 0px;\">事实上标准定义了三种类型：char, signed char 和unsigned char<br style=\"margin: 0px; padding: 0px;\">#include</p><limits.h style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: 'Microsoft YaHei', 'WenQuanYi MicroHei', 'WenQuanYi ZenHei', Georgia, Tahoma, Helvetica, Arial, sans-serif; font-size: 12px; line-height: normal; background-color: rgb(248, 248, 248);\">然后检查CHAR_MIN 的值就知道默认的是有符号还是无符号。<br style=\"margin: 0px; padding: 0px;\">若等于0 ，则说明是无符号的，否则，它就是等于SCHAR_MIN (一般是-128）。<br style=\"margin: 0px; padding: 0px;\">我们查看下/usr/include/limits.h<br style=\"margin: 0px; padding: 0px;\">可以发现如下定义：<p style=\"margin: 0px; padding: 0px 0px 16px; line-height: 1.7em;\"></p><div class=\"codecolorer-container c default\" style=\"margin: 0px 0px 10px; padding: 0px; border: 1px solid rgb(159, 159, 159); font-size: 13px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(0, 0, 0); background-color: rgb(241, 241, 241); overflow: auto; white-space: nowrap; width: 600px;\"><table cellspacing=\"0\" cellpadding=\"0\" style=\"margin: 10px 0px 30px; padding: 0px; line-height: 1.4em; border: 0px;\"><tbody style=\"margin: 0px; padding: 0px; line-height: 1.4em;\"><tr style=\"margin: 0px; padding: 0px; line-height: 1.4em;\"><td class=\"line-numbers\" style=\"margin: 0px; padding: 5px; background-color: rgb(238, 238, 238); color: rgb(136, 136, 136); text-align: right; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; line-height: 1.4em; border-right-color: rgb(159, 159, 159);\"><div style=\"margin: 0px; padding: 0px; line-height: 1.4em; width: 23px;\">1<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">2<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">3<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">4<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">5<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">6<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">7<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">8<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">9<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">10<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">11<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">12<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">13<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">14<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">15<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">16<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">17<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\">18<br style=\"margin: 0px; padding: 0px; line-height: 1.4em;\"></div></td><td style=\"margin: 0px; padding: 0px; background-color: rgb(238, 238, 238); color: rgb(85, 85, 85); border: 0px; line-height: 1.4em;\"><div class=\"c codecolorer\" style=\"margin: 0px; padding: 5px; line-height: 1.4em; font-family: monospace; color: rgb(0, 0, 0); background-color: rgb(241, 241, 241);\"><span style=\"margin: 0px; padding: 0px; font-style: italic; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(128, 128, 128);\">/* Number of bits in a `char'.&nbsp; */</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp;define CHAR_BIT&nbsp; 8</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; font-style: italic; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(128, 128, 128);\">/* Minimum and maximum values a `signed char' can hold. &nbsp;*/</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp;define SCHAR_MIN (-128)</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp;define SCHAR_MAX 127</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; font-style: italic; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(128, 128, 128);\">/* Maximum value an `unsigned char' can hold. &nbsp;(Minimum is 0.) &nbsp;*/</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp;define UCHAR_MAX 255</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; font-style: italic; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(128, 128, 128);\">/* Minimum and maximum values a `char' can hold. &nbsp;*/</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp;ifdef __CHAR_UNSIGNED__</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp; define CHAR_MIN 0</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp; define CHAR_MAX UCHAR_MAX</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp;else</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp; define CHAR_MIN SCHAR_MIN</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp; define CHAR_MAX SCHAR_MAX</span><br style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.4em; font-family: Monaco, 'Lucida Console', monospace; color: rgb(51, 153, 51);\"># &nbsp;endif</span></div></td></tr></tbody></table></div><p style=\"margin: 0px; padding: 0px 0px 16px; line-height: 1.7em;\">当然，这个默认行为也是可以通过编译器来改变的，如gcc可通过加<strong style=\"margin: 0px; padding: 0px;\">-funsigned-char</strong><br style=\"margin: 0px; padding: 0px;\">来指定其默认为无符号型。<br style=\"margin: 0px; padding: 0px;\">MSVC 可以用<strong style=\"margin: 0px; padding: 0px;\">/J</strong>来指定char 默认为无符号型。</p></limits.h></div><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span title=\"neteasefooter\" style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span id=\"netease_mail_footer\"><div id=\"netease_mail_footer\"><div style=\"border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); padding: 10px 5px; color: rgb(102, 102, 102); line-height: 22px;\">来自网易手机号码邮箱<a id=\"mobile_set\" sys=\"1\" log=\"1\" logid=\"free_sms_20120504\" href=\"http://shouji.163.com/\" target=\"_blank\" style=\"color: rgb(0, 0, 255);\">了解更多</a></div></div></span></span>"
    }
  ]
}
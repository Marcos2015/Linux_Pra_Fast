{
  "title": "正确使用c语言中的头文件",
  "cells": [
    {
      "type": "text",
      "data": "<div style=\"color: rgb(0, 0, 0); line-height: 1.7; font-size: 14px; font-family: arial;\"><div class=\"post\" style=\"padding-left: 20px; font-size: 13px; color: rgb(170, 170, 170); font-family: georgia, Verdana, Helvetica, Arial; line-height: 19px;\"><div class=\"postcontent\" style=\"margin-top: 10px; background-repeat: no-repeat no-repeat;\"><div id=\"cnblogs_post_body\"><p style=\"margin: 10px auto !important;\">我们在使用<span style=\"font-family: 'Times New Roman';\">c</span><span style=\"font-family: 宋体;\">编程的时候经常会遇到头文件，前段时间我自己做了个小项目的时候，也遇到了关于头文件的问题。</span></p><p style=\"margin: 10px auto !important;\">预处理器发现<span style=\"font-family: 'Times New Roman';\">#include&nbsp;</span><span style=\"font-family: 宋体;\">指令后，就会寻找后跟的文件名并把这个文件包含的内容包含到当前文件中。被包含文件的文本将替换源文件中的</span><span style=\"font-family: 'Times New Roman';\">#include&nbsp;</span><span style=\"font-family: 宋体;\">指令，就像您把被包含文件中的全部内容键入到源文件的特定位置一样（摘抄自&nbsp;</span><span style=\"font-family: 'Times New Roman';\">cprimer&nbsp;plus</span><span style=\"font-family: 宋体;\">）。简单来说就是，编译器把&nbsp;</span><span style=\"font-family: 'Times New Roman';\">#include&nbsp;</span><span style=\"font-family: 宋体;\">后跟随的文件内容都写到源文件中，写的位置就是&nbsp;</span><span style=\"font-family: 'Times New Roman';\">#include</span><span style=\"font-family: 宋体;\">放的位置。</span></p><p style=\"margin: 10px auto !important;\">#include<span style=\"font-family: 宋体;\">指令有两种形式</span></p><p style=\"margin: 10px auto !important;\">1<span style=\"font-family: 宋体;\">：</span><span style=\"font-family: 'Times New Roman';\">#include&lt;stdio.h&gt;&nbsp;&nbsp;</span><span style=\"font-family: 宋体;\">文件名放在尖括号里面</span></p><p style=\"margin: 10px auto !important;\">在<span style=\"font-family: 'Times New Roman';\">unix</span><span style=\"font-family: 宋体;\">系统中，尖括号告诉预处理器在一个活多个标准的目录中寻找文件。如果做开发，比如，我使用</span><span style=\"font-family: 'Times New Roman';\">keil</span><span style=\"font-family: 宋体;\">和</span><span style=\"font-family: 'Times New Roman';\">mdk</span><span style=\"font-family: 宋体;\">，编译器也遵循这样的原则，放在默认目录中，不用人工处理。</span></p><p style=\"margin: 10px auto !important;\">2<span style=\"font-family: 宋体;\">：</span><span style=\"font-family: 'Times New Roman';\">#include</span>”mystuff.h”&nbsp;文件名放在双引号中</p><p style=\"margin: 10px auto !important;\">有两种形式：</p><p style=\"margin: 10px auto !important;\">&lt;1&gt;:#include”hot.h”收索当前的工作目录</p><p style=\"margin: 10px auto !important;\">&nbsp;&lt;2&gt;:#include”/usr/biff/p.h”收索<span style=\"font-family: 'Times New Roman';\">/usr/biff</span><span style=\"font-family: 宋体;\">所在的目录</span></p><p style=\"margin: 10px auto !important;\">对于<span style=\"font-family: 'Times New Roman';\">unix</span><span style=\"font-family: 宋体;\">系统，使用双引号意味着先搜索本地目录，但是具体收索那个牡蛎依赖于编译器。有些编译器收索源代码所在的目录，还有些收索工程文件所在的目录。</span></p><p style=\"margin: 10px auto !important;\">对于我使用的<span style=\"font-family: 'Times New Roman';\">mdk</span><span style=\"font-family: 宋体;\">，我是将文件所在的文件夹添加到工程能够搜索的目录中。</span></p><p style=\"margin: 10px auto !important;\">在写<span style=\"font-family: 'Times New Roman';\">c</span><span style=\"font-family: 宋体;\">程序的时候，我们经常会把函数写在一个</span><span style=\"font-family: 'Times New Roman';\">.c</span><span style=\"font-family: 宋体;\">文件中，然后在另外的</span><span style=\"font-family: 'Times New Roman';\">.c</span><span style=\"font-family: 宋体;\">文件中引用函数，使得整个程序更加整洁，方便。</span></p><p style=\"margin: 10px auto !important;\">但是在头文件使用的时候经常出现重定义的错误，我使用的解决办法是：</p><p style=\"margin: 10px auto !important;\">首先把<span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">拆分为两个文件</span><span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">和</span><span style=\"font-family: 'Times New Roman';\">hello.h</span><span style=\"font-family: 宋体;\">。</span><span style=\"font-family: 'Times New Roman';\">hello.h</span><span style=\"font-family: 宋体;\">中包含</span><span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">所需要的头文件和</span><span style=\"font-family: 'Times New Roman';\">.c</span><span style=\"font-family: 宋体;\">中出现的函数名。例如在</span><span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">中有</span></p><p style=\"margin: 10px auto !important;\">void&nbsp;add&nbsp;<span style=\"font-family: 宋体;\">（</span><span style=\"font-family: 'Times New Roman';\">int&nbsp;x,int&nbsp;y</span><span style=\"font-family: 宋体;\">）</span></p><p style=\"margin: 10px auto !important;\">{</p><p style=\"margin: 10px auto !important;\">z=x+y;</p><p style=\"margin: 10px auto !important;\">return&nbsp;y;</p><p style=\"margin: 10px auto !important;\">}</p><p style=\"margin: 10px auto !important;\">就在<span style=\"font-family: 'Times New Roman';\">hello.h</span><span style=\"font-family: 宋体;\">中添加&nbsp;</span><span style=\"font-family: 'Times New Roman';\">void&nbsp;add(int&nbsp;x,int&nbsp;y);</span><span style=\"font-family: 宋体;\">和</span><span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">所需的头文件</span><span style=\"font-family: 'Times New Roman';\">#include&lt;stdio.h&gt;</span></p><p style=\"margin: 10px auto !important;\">在拆分后的<span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">添加</span><span style=\"font-family: 'Times New Roman';\">#include</span>”hello.h”,<span style=\"font-family: 宋体;\">然后把</span><span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">和</span><span style=\"font-family: 'Times New Roman';\">hello.h</span><span style=\"font-family: 宋体;\">放在同一个文件夹即可。当有文件需要</span><span style=\"font-family: 'Times New Roman';\">add</span><span style=\"font-family: 宋体;\">函数时直接在头文件中添加</span><span style=\"font-family: 'Times New Roman';\">#include</span>”hello.h”即可。</p><p style=\"margin: 10px auto !important;\">当多个文件引用<span style=\"font-family: 'Times New Roman';\">hello.h</span><span style=\"font-family: 宋体;\">时候，例如当</span><span style=\"font-family: 'Times New Roman';\">plus.c</span><span style=\"font-family: 宋体;\">中引用</span><span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">，</span><span style=\"font-family: 'Times New Roman';\">jump.c</span><span style=\"font-family: 宋体;\">需要使用</span><span style=\"font-family: 'Times New Roman';\">plus.c</span><span style=\"font-family: 宋体;\">和</span><span style=\"font-family: 'Times New Roman';\">add.c</span><span style=\"font-family: 宋体;\">。就会出现重定义的错误（引用</span><span style=\"font-family: 'Times New Roman';\">hello.c</span><span style=\"font-family: 宋体;\">和</span><span style=\"font-family: 'Times New Roman';\">plus</span><span style=\"font-family: 宋体;\">是</span><span style=\"font-family: 'Times New Roman';\">z</span><span style=\"font-family: 宋体;\">指将</span><span style=\"font-family: 'Times New Roman';\">hello.h</span><span style=\"font-family: 宋体;\">和</span><span style=\"font-family: 'Times New Roman';\">plus.h</span><span style=\"font-family: 宋体;\">头文件添加到</span><span style=\"font-family: 'Times New Roman';\">jump.c</span><span style=\"font-family: 宋体;\">中）</span></p><p style=\"margin: 10px auto !important;\">这时候就引用防重定义。假设要放重引用<span style=\"font-family: 'Times New Roman';\">hello.h&nbsp;&nbsp;</span><span style=\"font-family: 宋体;\">在开头添加</span></p><p style=\"margin: 10px auto !important;\">#ifndef&nbsp;__HELLO_H__</p><p style=\"margin: 10px auto !important;\">#define&nbsp;__HELLO_H__</p><p style=\"margin: 10px auto !important;\">结尾添加</p><p style=\"margin: 10px auto !important;\">#endif</p><p style=\"margin: 10px auto !important;\">既把你要重定义的文件的开头添加</p><p style=\"margin: 10px auto !important;\">#ifndef&nbsp;__HELLO_H__</p><p style=\"margin: 10px auto !important;\">#define&nbsp;__HELLO_H__</p><p style=\"margin: 10px auto !important;\">HELLO<span style=\"font-family: 宋体;\">就是你文件的名字改成大写&nbsp;</span><span style=\"font-family: 'Times New Roman';\">H</span><span style=\"font-family: 宋体;\">就是你文件类型</span></p><p style=\"margin: 10px auto !important;\">再在结尾加上</p><p style=\"margin: 10px auto !important;\">#endif</p><p style=\"margin: 10px auto !important;\">即可。</p></div></div></div></div><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><br style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span title=\"neteasefooter\" style=\"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px;\"><span id=\"netease_mail_footer\"><div id=\"netease_mail_footer\"><div style=\"border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); padding: 10px 5px; color: rgb(102, 102, 102); line-height: 22px;\">来自网易手机号码邮箱<a id=\"mobile_set\" sys=\"1\" log=\"1\" logid=\"free_sms_20120504\" href=\"http://shouji.163.com/\" target=\"_blank\" style=\"color: rgb(0, 0, 255);\">了解更多</a></div></div></span></span>"
    }
  ]
}
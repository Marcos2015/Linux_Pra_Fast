{
  "title": "零位扩展和符号位扩展",
  "cells": [
    {
      "type": "text",
      "data": "<h1 class=\"postTitle\" style=\"color: rgb(0, 0, 0); font-family: Arial;\"><br></h1><div id=\"cnblogs_post_body\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\"><div class=\"Section0\" style=\"line-height: normal; text-indent: 0pt; word-break: normal;\"><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"宋体\"><font style=\"font-size: 12pt;\">1、</font></font><font style=\"font-size: 12pt;\"><font face=\"Times New Roman\">符号扩展：<strong>当用更多的内存存储某一个有符号数时</strong>，由于符号位位于该数的第一位，扩展之后，符号位仍然需要位于第一位，所以，当扩展一个负数的时候需要将扩展的高位全赋为1</font><font face=\"宋体\">；</font><font face=\"Times New Roman\">对于正数而言，符号扩展和零扩展是一样的，因为符号位就是0</font></font><font face=\"宋体\"><font style=\"font-size: 12pt;\">。</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">比如一个用一个8</font></font><font style=\"font-size: 12pt;\"><font face=\"宋体\">位二进制表示</font><font face=\"Times New Roman\">-1</font><font face=\"宋体\">，则是</font></font><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">10000001&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">如果把这个书用16</font></font><font style=\"font-size: 12pt;\"><font face=\"宋体\">位二进制表示时，则为</font><font face=\"Times New Roman\">11111111 10000001&nbsp;</font><font face=\"宋体\">高位全都是</font><font face=\"Times New Roman\">1</font></font><font face=\"宋体\"><font style=\"font-size: 12pt;\">，这个叫做符号扩展，主要用于对其操作数。&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"宋体\"><font style=\"font-size: 12pt;\">2、</font></font><font style=\"font-size: 12pt;\"><strong><font face=\"Times New Roman\">零扩展就是全补零</font></strong></font><font style=\"font-size: 12pt;\"><font face=\"Times New Roman\">。不论其符号位是多少，高8</font><font face=\"宋体\">位全都补</font></font><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">0.</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">能过上面的定义可以看出在C++</font></font><font style=\"font-size: 12pt;\"><font face=\"宋体\">中，如果把一个</font><font face=\"Times New Roman\">char</font></font><font face=\"宋体\"><font style=\"font-size: 12pt;\">向一个整形转换的时候，就会存在着这个问题</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">如果你想得到一个正数，那么如果一个字符的ASCII</font></font><font style=\"font-size: 12pt;\"><font face=\"宋体\">码值是小于零的，而直接用</font><font face=\"Times New Roman\">(int)c</font><font face=\"宋体\">进行强制类型转换，结果是通过符号扩展得到的也为一个负数。要得到正数，一定要用</font><font face=\"Times New Roman\">(int)(unsigned char)c;</font><font face=\"宋体\">因为</font><font face=\"Times New Roman\">unsigned char</font><font face=\"宋体\">去除了</font><font face=\"Times New Roman\">c</font><font face=\"宋体\">的符号位，所以，这样的类型转换后，再用</font><font face=\"Times New Roman\">(int)</font></font><font face=\"宋体\"><font style=\"font-size: 12pt;\">进行转换得到的就是一个正数。</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"宋体\"><font style=\"font-size: 12pt;\">3、从上机的叙述得知，有符号数向其它类型数据转化</font></font><font style=\"font-size: 12pt;\"><font face=\"Times New Roman\">(</font><font face=\"宋体\">如</font><font face=\"Times New Roman\">char</font><font face=\"宋体\">到</font><font face=\"Times New Roman\">int,char</font><font face=\"宋体\">到</font><font face=\"Times New Roman\">unsigned int)</font><font face=\"宋体\">时，进行符号位扩展；无符号数向其它类型转换</font><font face=\"Times New Roman\">(</font><font face=\"宋体\">如</font><font face=\"Times New Roman\">unsigned char</font><font face=\"宋体\">到</font><font face=\"Times New Roman\">int, long)</font></font><font face=\"宋体\"><font style=\"font-size: 12pt;\">时，进行零扩展。</font></font></p><table style=\"padding: 0pt; margin-left: 5.4pt;\"><tbody style=\"padding: 0pt; margin-left: 5.4pt;\"><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td valign=\"middle\" width=\"47\" style=\"border-width: 0.75pt; border-color: rgb(192, 192, 192); padding: 2.25pt;\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">char</font></p></td><td valign=\"middle\" width=\"51\" style=\"border-width: 0.75pt 0.75pt 0.75pt medium; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-top-color: rgb(192, 192, 192); border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">short</font></p></td><td colspan=\"6\" valign=\"middle\" width=\"97\" style=\"border-width: 0.75pt 0.75pt 0.75pt medium; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-top-color: rgb(192, 192, 192); border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">符号位扩展</font></p></td></tr><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td valign=\"middle\" width=\"47\" style=\"border-width: medium 0.75pt 0.75pt; border-top-style: none; border-bottom-color: rgb(192, 192, 192); border-left-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">char</font></p></td><td colspan=\"4\" valign=\"middle\" width=\"108\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">unsigned char</font></p></td><td colspan=\"6\" valign=\"middle\" width=\"266\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">最高位失去符号位意义，变为数据位</font></p></td></tr><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td valign=\"middle\" width=\"47\" style=\"border-width: medium 0.75pt 0.75pt; border-top-style: none; border-bottom-color: rgb(192, 192, 192); border-left-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">char</font></p></td><td colspan=\"6\" valign=\"middle\" width=\"112\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">unsigned short</font></p></td><td colspan=\"5\" valign=\"middle\" width=\"351\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">符号位扩展到short;</font><font face=\"宋体\">然后从</font><font face=\"Arial\">short</font><font face=\"宋体\">转到&nbsp;</font><font face=\"Arial\">unsigned short</font></p></td></tr><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td colspan=\"3\" valign=\"middle\" width=\"108\" style=\"border-width: medium 0.75pt 0.75pt; border-top-style: none; border-bottom-color: rgb(192, 192, 192); border-left-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">unsigned char</font></p></td><td colspan=\"3\" valign=\"middle\" width=\"51\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">char</font></p></td><td colspan=\"3\" valign=\"middle\" width=\"143\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\">最高位作为符号位</p></td></tr><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td colspan=\"3\" valign=\"middle\" width=\"108\" style=\"border-width: medium 0.75pt 0.75pt; border-top-style: none; border-bottom-color: rgb(192, 192, 192); border-left-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">unsigned char</font></p></td><td colspan=\"3\" valign=\"middle\" width=\"51\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">short</font></p></td><td colspan=\"3\" valign=\"middle\" width=\"143\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\">0<font face=\"宋体\">扩展</font></p></td></tr><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td colspan=\"3\" valign=\"middle\" width=\"108\" style=\"border-width: medium 0.75pt 0.75pt; border-top-style: none; border-bottom-color: rgb(192, 192, 192); border-left-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">unsigned char</font></p></td><td valign=\"middle\" width=\"46\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">float</font></p></td><td colspan=\"6\" valign=\"middle\" width=\"255\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\">转换到<font face=\"Verdana\">long;&nbsp;</font><font face=\"宋体\">再从&nbsp;</font><font face=\"Verdana\">long&nbsp;</font><font face=\"宋体\">转换到</font><font face=\"Verdana\">float</font></p></td></tr></tbody></table><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"宋体\"><font style=\"font-size: 12pt;\">4</font><font style=\"font-size: 12pt;\">、由大数据类型向小数据类型转换时，保留低位字节。</font></font></p><table style=\"padding: 0pt; margin-left: 5.4pt;\"><tbody style=\"padding: 0pt; margin-left: 5.4pt;\"><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td valign=\"middle\" width=\"107\" style=\"border-width: 0.75pt; border-color: rgb(192, 192, 192); padding: 2.25pt;\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">unsigned long</font></p></td><td valign=\"middle\" width=\"51\" style=\"border-width: 0.75pt 0.75pt 0.75pt medium; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-top-color: rgb(192, 192, 192); border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">char</font></p></td><td valign=\"middle\" width=\"112\" style=\"border-width: 0.75pt 0.75pt 0.75pt medium; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-top-color: rgb(192, 192, 192); border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\">保留低位字节</p></td></tr><tr style=\"padding: 0pt; margin-left: 5.4pt;\"><td valign=\"middle\" width=\"107\" style=\"border-width: medium 0.75pt 0.75pt; border-top-style: none; border-bottom-color: rgb(192, 192, 192); border-left-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">unsigned long</font></p></td><td valign=\"middle\" width=\"51\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\"><font face=\"Arial\">short</font></p></td><td valign=\"middle\" width=\"112\" style=\"border-width: medium 0.75pt 0.75pt medium; border-top-style: none; border-left-style: none; border-bottom-color: rgb(192, 192, 192); padding: 2.25pt; border-right-color: rgb(192, 192, 192);\"><p class=\"p0\" align=\"justify\" style=\"line-height: 15pt; text-indent: 0pt; margin: 0pt;\">保留低位字节</p></td></tr></tbody></table><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"宋体\"><font style=\"font-size: 12pt;\">示例</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">#include &lt;stdio.h&gt;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">int main()&nbsp;&nbsp;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">{&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">int i =129;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">char chA= (char)i;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">int c = (int)(unsigned char)chA;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">int b = (int)chA;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">printf(\"sign extension: %d/n\",b);&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">printf(\"zero extension: %d/n\",c);&nbsp;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">system(\"pause\");&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 39.27pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">return 1;&nbsp;&nbsp;&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">}&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">运行结果：</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">sign extension: -127&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">zero extension: 129&nbsp;&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"Times New Roman\"><font style=\"font-size: 12pt;\">请按任意键继续</font><font style=\"font-size: 12pt;\">. . .&nbsp;</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"宋体\"><font style=\"font-size: 12pt;\">原文：</font></font></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><a href=\"http://blog.csdn.net/jaylong35/article/details/6160736\"><span class=\"15\"><font face=\"宋体\"><font color=\"#0000ff\" style=\"font-size: 10pt;\">http://blog.csdn.net/jaylong35/article/details/6160736</font></font></span></a></p><p class=\"p0\" align=\"justify\" style=\"line-height: 18pt; text-indent: 21pt; margin: 0pt;\"><font face=\"宋体\"><font style=\"font-size: 12pt;\"><a href=\"http://www.cnblogs.com/xiaoka/articles/2651366.html\">http://www.cnblogs.com/xiaoka/articles/2651366.html</a></font></font></p></div></div><div id=\"BlogPostCategory\" style=\"color: rgb(0, 0, 0); font-family: Arial; font-size: 14px;\">分类:&nbsp;<a href=\"http://www.cnblogs.com/mydomain/category/255048.html\">C语言</a></div>"
    }
  ]
}
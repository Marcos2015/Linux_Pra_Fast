{
  "title": "Untitled Note",
  "cells": [
    {
      "type": "text",
      "data": "\n\n\n\n\n\n\n<!--[if gte mso 9]><xml>\n <o:OfficeDocumentSettings>\n  <o:AllowPNG/>\n </o:OfficeDocumentSettings>\n</xml><![endif]-->\n\n<!--[if gte mso 9]><xml>\n <w:WordDocument>\n  <w:View>Normal</w:View>\n  <w:Zoom>0</w:Zoom>\n  <w:TrackMoves/>\n  <w:TrackFormatting/>\n  <w:PunctuationKerning/>\n  <w:DrawingGridVerticalSpacing>10 磅</w:DrawingGridVerticalSpacing>\n  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>\n  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>\n  <w:ValidateAgainstSchemas/>\n  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>\n  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>\n  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>\n  <w:DoNotPromoteQF/>\n  <w:LidThemeOther>EN-US</w:LidThemeOther>\n  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>\n  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>\n  <w:Compatibility>\n   <w:SpaceForUL/>\n   <w:BalanceSingleByteDoubleByteWidth/>\n   <w:DoNotLeaveBackslashAlone/>\n   <w:ULTrailSpace/>\n   <w:DoNotExpandShiftReturn/>\n   <w:AdjustLineHeightInTable/>\n   <w:BreakWrappedTables/>\n   <w:SnapToGridInCell/>\n   <w:WrapTextWithPunct/>\n   <w:UseAsianBreakRules/>\n   <w:DontGrowAutofit/>\n   <w:SplitPgBreakAndParaMark/>\n   <w:EnableOpenTypeKerning/>\n   <w:DontFlipMirrorIndents/>\n   <w:OverrideTableStyleHps/>\n   <w:UseFELayout/>\n  </w:Compatibility>\n  <m:mathPr>\n   <m:mathFont m:val=\"Cambria Math\"/>\n   <m:brkBin m:val=\"before\"/>\n   <m:brkBinSub m:val=\"&#45;-\"/>\n   <m:smallFrac m:val=\"off\"/>\n   <m:dispDef/>\n   <m:lMargin m:val=\"0\"/>\n   <m:rMargin m:val=\"0\"/>\n   <m:defJc m:val=\"centerGroup\"/>\n   <m:wrapIndent m:val=\"1440\"/>\n   <m:intLim m:val=\"subSup\"/>\n   <m:naryLim m:val=\"undOvr\"/>\n  </m:mathPr></w:WordDocument>\n</xml><![endif]--><!--[if gte mso 9]><xml>\n <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"\n  DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"\n  LatentStyleCount=\"382\">\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"heading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 9\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"footer\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of figures\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope return\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"line number\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"page number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of authorities\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"macro\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"toa heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Closing\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Signature\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Message Header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Salutation\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Date\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Block Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Hyperlink\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"FollowedHyperlink\"/>\n  <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>\n  <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Document Map\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Plain Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"E-mail Signature\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Top of Form\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Bottom of Form\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Normal (Web)\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Acronym\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Cite\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Code\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Definition\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Keyboard\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Preformatted\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Sample\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Typewriter\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Variable\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Table\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation subject\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"No List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Contemporary\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Elegant\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Professional\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Balloon Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" Name=\"Table Grid\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Theme\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>\n  <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"\n   Name=\"List Paragraph\"/>\n  <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"\n   Name=\"Intense Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"\n   Name=\"Subtle Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"\n   Name=\"Intense Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"\n   Name=\"Subtle Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"\n   Name=\"Intense Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>\n  <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Mention\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Smart Hyperlink\"/>\n </w:LatentStyles>\n</xml><![endif]-->\n\n<!--[if gte mso 10]>\n<style>\n /* Style Definitions */\ntable.MsoNormalTable\n\t{mso-style-name:普通表格;\n\tmso-tstyle-rowband-size:0;\n\tmso-tstyle-colband-size:0;\n\tmso-style-noshow:yes;\n\tmso-style-priority:99;\n\tmso-style-parent:\"\";\n\tmso-padding-alt:0cm 5.4pt 0cm 5.4pt;\n\tmso-para-margin:0cm;\n\tmso-para-margin-bottom:.0001pt;\n\tmso-pagination:widow-orphan;\n\tfont-size:12.0pt;\n\tfont-family:\"Cambria\",serif;\n\tmso-ascii-font-family:Cambria;\n\tmso-ascii-theme-font:minor-latin;\n\tmso-hansi-font-family:Cambria;\n\tmso-hansi-theme-font:minor-latin;\n\tmso-font-kerning:1.0pt;}\n</style>\n<![endif]-->\n\n\n\n<!--StartFragment-->\n\n<p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;\ncolor:#262626;mso-font-kerning:0pt\">&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">epoll_wait</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:宋体;\nmso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#FB0007;mso-font-kerning:0pt\">运行的原理是</span><span style=\"font-size:\n14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;mso-font-kerning:0pt\"> </span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#FB0007;mso-font-kerning:0pt\">等侍注册在</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">epfd</span><span style=\"font-size:14.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;\ncolor:#FB0007;mso-font-kerning:0pt\">上的</span><span lang=\"EN-US\" style=\"font-size:\n14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;mso-font-kerning:0pt\">socket\nfd</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#FB0007;\nmso-font-kerning:0pt\">的事件的发生，如果发生则将发生的</span><span lang=\"EN-US\" style=\"font-size:\n14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;mso-font-kerning:0pt\">sokct\nfd</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#FB0007;\nmso-font-kerning:0pt\">和事件类型放入到</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:&quot;Arial&quot;,sans-serif;color:#FB0007;mso-font-kerning:0pt\">events</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#FB0007;mso-font-kerning:0pt\">数组中。</span><span style=\"font-size:\n14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;mso-font-kerning:0pt\"> </span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#FB0007;mso-font-kerning:0pt\">并且将注册在</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">epfd</span><span style=\"font-size:14.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;\ncolor:#FB0007;mso-font-kerning:0pt\">上的</span><span lang=\"EN-US\" style=\"font-size:\n14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;mso-font-kerning:0pt\">socket\nfd</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:\nArial;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;\nmso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:#FB0007;\nmso-font-kerning:0pt\">的事件类型给清空，所以如果下一个循环你还要关注这个</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">socket fd</span><span style=\"font-size:14.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;\ncolor:#FB0007;mso-font-kerning:0pt\">的话，则需要用</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">epoll_ctl(epfd,EPOLL_CTL_MOD,listenfd,&amp;ev)</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#FB0007;mso-font-kerning:0pt\">来重新设置</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">socket fd</span><span style=\"font-size:14.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;\ncolor:#FB0007;mso-font-kerning:0pt\">的事件类型。这时不用</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">EPOLL_CTL_ADD,</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:宋体;\nmso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:\nArial;color:#FB0007;mso-font-kerning:0pt\">因为</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">socket fd</span><span style=\"font-size:14.0pt;font-family:\n宋体;mso-ascii-font-family:Arial;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;\ncolor:#FB0007;mso-font-kerning:0pt\">并未清空，只是事件类型清空。这一步非常重要。</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">&nbsp;</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:32.0pt;mso-char-indent-count:2.0\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">linux</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的网络编程中，很长的时间都在使用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">来做事件触发。在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">linux</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">新的内核中，有了一种替换它的机制，就是</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">。</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">相比于</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">最大的好处在于它不会随着监听</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">数目的增长而降低效率。因为在内核中的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">实现中，它是采用轮询来处理的，轮询的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">数目越多，自然耗时越多。并且，在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">linux/posix_types.h</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">头文件有这样的声明：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#define __FD_SETSIZE<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;\n</span>1024<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">表示</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">最多同时监听</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">1024</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">个</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">fd</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">，当然，可以通过修改头文件再重编译内核来扩大这个数目，但这似乎并不治本。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">的接口非常简单，一共就三个函数：</span></b><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></b></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;color:red\">1. int\nepoll_create(int size);<o:p></o:p></span></b></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">创建一个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的句柄，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">size</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">用来告诉内核这个监听的数目一共有多大。这个参数不同于</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">中的第一个参数，给出最大监听的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd+1</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的值。需要注意的是，当创建好</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">句柄后，它就是会占用一个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">值，在</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">linux</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">下如果查看</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">/proc/</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">进程</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">id/fd/</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">，是能够看到这个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">的，所以在使用完</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">后，必须调用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">close()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">关闭，否则可能导致</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">被耗尽。</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;color:red\">2. int\nepoll_ctl(int epfd, int op, int fd, struct epoll_event *event);<o:p></o:p></span></b></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">的事件注册函数，它不同与</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">是在监听事件时告诉内核要监听什么类型的事件，而是在这里先注册要监听的事件类型。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">第一个</span></b><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">参数是</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll_create()</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">的返回值，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">第二个</span></b><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">参数表示动作，用三个宏来表示：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLL_CTL_ADD</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：注册新的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">到</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epfd</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">中；</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLL_CTL_MOD</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：修改已经注册的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的监听事件；</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLL_CTL_DEL</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：从</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epfd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">中删除一个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">；</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">第三个</span></b><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">参数是需要监听的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">第四个</span></b><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">参数是告诉内核需要监听什么事，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">struct epoll_event</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">结构如下：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">struct epoll_event\n{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>__uint32_t events;<span style=\"mso-spacerun:yes\">&nbsp; </span>/* Epoll events */<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>epoll_data_t data;<span style=\"mso-spacerun:yes\">&nbsp; </span>/* User data variable */<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">events</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">可以是以下几个宏的集合：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLIN </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">表示对应的文件描述符可以读（包括对端</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">SOCKET</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">正常关闭）；</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLOUT</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span></span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">表示对应的文件描述符可以写；</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLPRI</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;</span></span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">表示对应的文件描述符有紧急的数据可读（这里应该表示有带外数据到来）；</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLERR</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">表示对应的文件描述符发生错误；</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLHUP</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">表示对应的文件描述符被挂断；</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLET</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">将</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLL</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">设为边缘触发</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">(Edge Triggered)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">模式，这是相对于水平触发</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">(Level Triggered)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">来说的。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLONESHOT</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">：</span><span style=\"font-size:16.0pt\"> </span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">只监听一次事件，当监听完这次事件之后，如果还需要继续监听这个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的话，需要再次把这个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">加入到</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">EPOLL</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">队列里</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;color:red\">3. int\nepoll_wait(int epfd, struct epoll_event * events, int maxevents, int timeout);<o:p></o:p></span></b></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">等待事件的产生，类似于</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">调用。参数</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">events</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">用来从内核得到事件的集合，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">maxevents</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">告之内核这个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">events</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">有多大，这个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">maxevents</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的值不能大于创建</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll_create()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">时的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">size</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">，参数</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">timeout</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">是超时时间（毫秒，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">0</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">会立即返回，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">-1</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">将不确定，也有说法说是永久阻塞）。该函数返回需要处理的事件数目，如返回</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">0</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">表示已超时。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">从</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">man</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">手册中，得到</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">ET</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">和</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">LT</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">的具体描述如下</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLL</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">事件有两种模型：</span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></b></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;color:red\">Edge Triggered (ET)<span style=\"mso-spacerun:yes\">&nbsp; </span></span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:red\">边缘触发</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;color:red\"> </span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:red\">只有数据到来，才触发，不管缓存区中是否还有数据。</span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;color:red\"><o:p></o:p></span></b></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;color:red\">Level Triggered (LT)<span style=\"mso-spacerun:yes\">&nbsp; </span></span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:red\">水平触发</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;color:red\"> </span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:red\">只要有数据都会触发。</span></b><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">假如有这样一个例子：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">1. </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">我们已经把一个用来从管道中读取数据的文件句柄</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">(RFD)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">添加到</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">描述符</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">2. </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">这个时候从管道的另一端被写入了</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">2KB</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的数据</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">3. </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">调用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll_wait(2)</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">，并且它会返回</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">RFD</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">，说明它已经准备好读取操作</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">4. </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">然后我们读取了</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">1KB</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的数据</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">5. </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">调用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll_wait(2)......<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">Edge Triggered </span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">工作模式：</span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">如果我们在第</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">1</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">步将</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">RFD</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">添加到</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">描述符的时候使用了</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLET</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">标志，那么在第</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">5</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">步调用</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">epoll_wait(2)</span><span style=\"font-size:16.0pt;font-family:宋体;\nmso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">之后将有可能会挂起，因为剩余的数据还存在于文件的输入缓冲区内，而且数据发出端还在等待一个针对已经发出数据的反馈信息。只有在监视的文件句柄上发生了某个事件的时候</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"> ET </span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">工作模式才会汇报事件。因此在第</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">5</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">步的时候，调用者可能会放弃等待仍在存在于文件输入缓冲区内的剩余数据。在上面的例子中，会有一个事件产生在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">RFD</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">句柄上，因为在第</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">2</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">步执行了一个写操作，然后，事件将会在第</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">3</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">步被销毁。因为第</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">4</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">步的读取操作没有读空文件输入缓冲区内的数据，因此我们在第</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">5</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">步调用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"> epoll_wait(2)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">完成后，是否挂起是不确定的。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">工作在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">ET</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">模式的时候，必须使用非阻塞套接口，以避免由于一个文件句柄的阻塞读</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">/</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">阻塞写操作把处理多个文件描述符的任务饿死。最好以下面的方式调用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">ET</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">模式的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">接口，在后面会介绍避免可能的缺陷。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>i<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span></span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">基于非阻塞文件句柄</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>ii<span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span></span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">只有当</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">read(2)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">或者</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">write(2)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">返回</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EAGAIN</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">时才需要挂起，等待。但这并不是说每次</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">read()</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">时都需要循环读，直到读到产生一个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EAGAIN</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">才认为此次事件处理完成，当</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">read()</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">返回的读到的数据长度小于请求的数据长度时，就可以确定此时缓冲中已没有数据了，也就可以认为此事读事件已处理完成。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">Level Triggered </span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">工作模式</span></b><b style=\"mso-bidi-font-weight:\nnormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">相反的，以</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">LT</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">方式调用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">接口的时候，它就相当于一个速度比较快的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">poll(2)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">，并且无论后面的数据是否被使用，因此他们具有同样的职能。因为即使使用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">ET</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">模式的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">，在收到多个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">chunk</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">的数据的时候仍然会产生多个事件。调用者可以设定</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLONESHOT</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">标志，在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"> epoll_wait(2)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">收到事件后</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">会与事件关联的文件句柄从</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">描述符中禁止掉。因此当</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLONESHOT</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">设定后，使用带有</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"> EPOLL_CTL_MOD</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">标志的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll_ctl(2)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">处理文件句柄就成为调用者必须作的事情。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">然后详细解释</span></b><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">ET,\nLT:</span></b><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:32.0pt;mso-char-indent-count:2.0\"><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;\ncolor:blue\">LT(level triggered)</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:blue\">是</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:red\">缺省</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:blue\">的工作方式</span></b><span style=\"font-size:16.0pt;font-family:宋体;\nmso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">，并且同时支持</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">block</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">和</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">no-block socket.</span><span style=\"font-size:16.0pt;font-family:宋体;\nmso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">在这种做法中，内核告诉你一个文件描述符是否就绪了，然后你可以对这个就绪的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">进行</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">IO</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">操作。如果你不作任何操作，内核还是会继续通知你的，所以，这种模式编程出错误可能性要小一点。传统的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select/poll</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">都是这种模型的代表．</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:32.0pt;mso-char-indent-count:2.0\"><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt;\ncolor:blue\">ET(edge-triggered)</span></b><b style=\"mso-bidi-font-weight:normal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;\ncolor:blue\">是高速工作方式</span></b><span style=\"font-size:16.0pt;font-family:宋体;\nmso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">，只支持</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">no-block socket</span><span style=\"font-size:16.0pt;font-family:宋体;\nmso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">。在这种模式下，当描述符从未就绪变为就绪时，内核通过</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">告诉你。然后它会假设你知道文件描述符已经就绪，并且不会再为那个文件描述符发送更多的就绪通知，直到你做了某些操作导致那个文件描述符不再为就绪状态了</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">(</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">比如，你在发送，接收或者接收请求，或者发送接收的数据少于一定量时导致了一个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EWOULDBLOCK </span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">错误）。但是请注意，如果一直不对这个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">fd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">作</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">IO</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">操作</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">(</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">从而导致它再次变成未就绪</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">)</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">，内核不会发送更多的通知</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">(only once),</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">不过在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">TCP</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">协议中，</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">ET</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">模式的加速效用仍需要更多的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">benchmark</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">确认（这句话不理解）。</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:32.0pt;mso-char-indent-count:2.0\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:32.0pt;mso-char-indent-count:2.0\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">在许多测试中我们会看到如果没有大量的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">idle -connection</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">或者</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">dead-connection</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的效率并不会比</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select/poll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">高很多，但是当我们遇到大量的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">idle- connection(</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">例如</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">WAN</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">环境中存在大量的慢速连接</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">)</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">，就会发现</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">的效率大大高于</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">select/poll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">。（未测试）</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:32.0pt;mso-char-indent-count:2.0\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:32.0pt;mso-char-indent-count:2.0\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">另外，当使用</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">ET</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">模型来工作时，当产生了一个</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLIN</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">事件后，</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">读数据的时候需要考虑的是当</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">recv()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">返回的大小如果等于请求的大小，那么很有可能是缓冲区还有数据未读完，也意味着该次事件还没有处理完，所以还需要再次读取：</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">while(rs)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>buflen = recv(activeevents[i].data.fd, buf,\nsizeof(buf), 0);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>if(buflen &lt; 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>// </span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">由于是非阻塞的模式</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">所以当</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">errno</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">为</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EAGAIN</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">时</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">表示当前缓冲区已无数据可读</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>// </span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">在这里就当作是该次事件已处理处</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">.<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>if(errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span>return;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>else if(buflen == 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">这里表示对端的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">已正常关闭</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">.<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>if(buflen == sizeof(buf)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span>rs = 1;<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>// </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">需要再次读取</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp; </span>rs = 0;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" style=\"text-indent:24.0pt;mso-char-indent-count:1.5\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">还有，假如发送端流量大于接收端的流量</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">(</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">意思是</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">所在的程序读比转发的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">要快</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">),</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">由于是非阻塞的</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket,</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">那么</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">send()</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">函数虽然返回</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">但实际缓冲区的数据并未真正发给接收端</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">这样不断的读和发，当缓冲区满后会产生</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EAGAIN</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">错误</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">(</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">参考</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">man send),</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">同时</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">不理会这次请求发送的数据</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">.</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">所以</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">需要封装</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket_send()</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">的函数用来处理这种情况</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">该函数会尽量将数据写完再返回，返回</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">-1</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">表示出错。在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket_send()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">内部</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">当写缓冲已满</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">(send()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">返回</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">-1,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">且</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">errno</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">为</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EAGAIN),</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">那么会等待后再重试</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">.</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">这种方式并不很完美</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">在理论上可能会长时间的阻塞在</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket_send()</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">内部</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">但暂没有更好的办法</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">.<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">ssize_t\nsocket_send(int sockfd, const char* buffer, size_t buflen)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>ssize_t tmp;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>size_t total = buflen;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>const char *p = buffer;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>while(1)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>tmp = send(sockfd, p, total, 0);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>if(tmp &lt; 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">当</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">send</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">收到信号时</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">可以继续写</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">但这里返回</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">-1.<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return -1;<o:p></o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">当</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">是非阻塞时</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">如返回此错误</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">表示写缓冲队列已满</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">在这里做延时后再重试</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">.<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>usleep(1000);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>continue;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return -1;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>if((size_t)tmp == total)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return buflen;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>total -= tmp;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>p += tmp;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>return tmp;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"center\" style=\"text-align:center\"><b style=\"mso-bidi-font-weight:\nnormal\"><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">代码：</span></b><b style=\"mso-bidi-font-weight:normal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;iostream&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;sys/socket.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;netinet/in.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;arpa/inet.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;fcntl.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;unistd.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;stdio.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;pthread.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#include\n&lt;errno.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#define MAXLINE 10<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#define OPEN_MAX\n100<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#define LISTENQ 20<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#define SERV_PORT\n5555<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">#define INFTIM\n1000<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">线程池任务队列结构体</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">struct task<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>int fd; //</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">需要读写的文件描述符</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>struct task *next; //</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">下一个任务</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">用于读写两个的两个方面传递参数</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">struct user_data<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>int fd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>unsigned int n_size;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>char line[MAXLINE];<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">线程的任务函数</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">void *\nreadtask(void *args);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">void *\nwritetask(void *args);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">声明</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll_event</span><span style=\"font-size:\n16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">结构体的变量</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,ev</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">用于注册事件</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">,</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">数组用于回传要处理的事件</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">struct epoll_event\nev, events[20];<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">int epfd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">pthread_mutex_t\nmutex;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">pthread_cond_t\ncond1;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">struct task\n*readhead = NULL, *readtail = NULL, *writehead = NULL;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">void\nsetnonblocking(int sock)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>int opts;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>opts = fcntl(sock, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>if (opts &lt; 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"fcntl(sock,GETFL)\");<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>opts = opts | O_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>if (fcntl(sock, F_SETFL, opts) &lt; 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"fcntl(sock,SETFL,opts)\");<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">int main()<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>int i, maxi, listenfd, connfd, sockfd,\nnfds;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_t tid1, tid2;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>struct task *new_task = NULL;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>struct user_data *rdata = NULL;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>socklen_t clilen;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_mutex_init(&amp;mutex, NULL);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_cond_init(&amp;cond1, NULL);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">初始化用于读线程池的线程</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_create(&amp;tid1, NULL, readtask,\nNULL);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_create(&amp;tid2, NULL, readtask,\nNULL);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">生成用于处理</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">accept</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">的</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:\nCalibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">专用的文件描述符</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>epfd = epoll_create(256);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>struct sockaddr_in clientaddr;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>struct sockaddr_in serveraddr;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>listenfd = socket(AF_INET, SOCK_STREAM, 0);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">把</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">socket</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">设置为非阻塞方式</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>setnonblocking(listenfd);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">设置与要处理的事件相关的文件描述符</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.data.fd = listenfd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">设置要处理的事件类型</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.events = EPOLLIN | EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">注册</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">事件</span><span lang=\"EN-US\" style=\"font-size:\n16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>epoll_ctl(epfd, EPOLL_CTL_ADD, listenfd,\n&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>bzero(&amp;serveraddr, sizeof(serveraddr));<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>serveraddr.sin_family = AF_INET;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>char *local_addr =\n\"200.200.200.222\";<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>inet_aton(local_addr,\n&amp;(serveraddr.sin_addr));//htons(SERV_PORT);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>serveraddr.sin_port = htons(SERV_PORT);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>bind(listenfd, (sockaddr *)\n&amp;serveraddr, sizeof(serveraddr));<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>listen(listenfd, LISTENQ);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>maxi = 0;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>for (;;)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">等待</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">epoll</span><span style=\"font-size:16.0pt;font-family:\n宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Calibri;\nmso-hansi-theme-font:minor-latin\">事件的发生</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>nfds = epoll_wait(epfd, events, 20,\n500);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">处理所发生的所有事件</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for (i = 0; i &lt; nfds; ++i)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (events[i].data.fd ==\nlistenfd)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>connfd = accept(listenfd,\n(sockaddr *) &amp;clientaddr, &amp;clilen);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (connfd &lt; 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"connfd&lt;0\");<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setnonblocking(connfd);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>char *str =\ninet_ntoa(clientaddr.sin_addr);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>std::cout &lt;&lt;\n\"connec_ from &gt;&gt;\" &lt;&lt; str &lt;&lt; std::endl;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">设置用于读操作的文件描述符</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.data.fd = connfd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">设置用于注测的读操作事件</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.events = EPOLLIN |\nEPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">注册</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">ev<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>epoll_ctl(epfd,\nEPOLL_CTL_ADD, connfd, &amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}\nelse<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (events[i].events &amp;\nEPOLLIN)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf(\"reading!\\n\");<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((sockfd =\nevents[i].data.fd) &lt; 0) continue;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>new_task = new task();<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>new_task-&gt;fd =\nsockfd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>new_task-&gt;next =\nNULL;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">添加新的读任务</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_mutex_lock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (readhead == NULL)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>readhead =\nnew_task;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>readtail =\nnew_task;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} else<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>readtail-&gt;next\n= new_task;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>readtail =\nnew_task;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">唤醒所有等待</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">cond1</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">条件的线程</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_cond_broadcast(&amp;cond1);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_mutex_unlock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}\nelse<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (events[i].events\n&amp; EPOLLOUT)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rdata = (struct\nuser_data *) events[i].data.ptr;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sockfd =\nrdata-&gt;fd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>write(sockfd,\nrdata-&gt;line, rdata-&gt;n_size);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>delete rdata;<o:p></o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">设置用于读操作的文件描述符</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.data.fd =\nsockfd;<o:p></o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">设置用于注测的读操作事件</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.events =\nEPOLLIN | EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" style=\"mso-outline-level:1\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">修改</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">sockfd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">上要处理的事件为</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLIN<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>epoll_ctl(epfd,\nEPOLL_CTL_MOD, sockfd, &amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">void *\nreadtask(void *args)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>int fd = -1;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>unsigned int n;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">用于把读出来的数据传递出去</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>struct user_data *data = NULL;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>while (1)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_mutex_lock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">等待到任务队列不为空</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>while (readhead == NULL)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_cond_wait(&amp;cond1,\n&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fd = readhead-&gt;fd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">从任务队列取出一个读任务</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct task *tmp = readhead;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>readhead = readhead-&gt;next;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>delete tmp;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pthread_mutex_unlock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>data = new user_data();<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>data-&gt;fd = fd;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((n = read(fd, data-&gt;line, MAXLINE))\n&lt; 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == ECONNRESET)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(fd);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} else<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>std::cout &lt;&lt;\n\"readline error\" &lt;&lt; std::endl;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (data != NULL) delete data;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} else<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (n == 0)<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(fd);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf(\"Client close\nconnect!\\n\");<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (data != NULL) delete\ndata;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} else<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>data-&gt;n_size = n;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">设置需要传递出去的数据</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.data.ptr = data;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">设置用于注测的写操作事件</span><span lang=\"EN-US\" style=\"font-size:16.0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ev.events = EPOLLOUT |\nEPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span style=\"font-size:16.0pt;font-family:宋体;mso-ascii-font-family:Calibri;\nmso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin\">修改</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">sockfd</span><span style=\"font-size:16.0pt;\nfont-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nCalibri;mso-hansi-theme-font:minor-latin\">上要处理的事件为</span><span lang=\"EN-US\" style=\"font-size:16.0pt\">EPOLLOUT<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>epoll_ctl(epfd,\nEPOLL_CTL_MOD, fd, &amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\"><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">\n\n\n\n\n\n\n<!--[if gte mso 9]><xml>\n <o:OfficeDocumentSettings>\n  <o:RelyOnVML/>\n  <o:AllowPNG/>\n </o:OfficeDocumentSettings>\n</xml><![endif]-->\n\n<!--[if gte mso 9]><xml>\n <w:WordDocument>\n  <w:View>Normal</w:View>\n  <w:Zoom>0</w:Zoom>\n  <w:TrackMoves/>\n  <w:TrackFormatting/>\n  <w:PunctuationKerning/>\n  <w:DrawingGridVerticalSpacing>10 磅</w:DrawingGridVerticalSpacing>\n  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>\n  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>\n  <w:ValidateAgainstSchemas/>\n  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>\n  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>\n  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>\n  <w:DoNotPromoteQF/>\n  <w:LidThemeOther>EN-US</w:LidThemeOther>\n  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>\n  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>\n  <w:Compatibility>\n   <w:SpaceForUL/>\n   <w:BalanceSingleByteDoubleByteWidth/>\n   <w:DoNotLeaveBackslashAlone/>\n   <w:ULTrailSpace/>\n   <w:DoNotExpandShiftReturn/>\n   <w:AdjustLineHeightInTable/>\n   <w:BreakWrappedTables/>\n   <w:SnapToGridInCell/>\n   <w:WrapTextWithPunct/>\n   <w:UseAsianBreakRules/>\n   <w:DontGrowAutofit/>\n   <w:SplitPgBreakAndParaMark/>\n   <w:EnableOpenTypeKerning/>\n   <w:DontFlipMirrorIndents/>\n   <w:OverrideTableStyleHps/>\n   <w:UseFELayout/>\n  </w:Compatibility>\n  <m:mathPr>\n   <m:mathFont m:val=\"Cambria Math\"/>\n   <m:brkBin m:val=\"before\"/>\n   <m:brkBinSub m:val=\"&#45;-\"/>\n   <m:smallFrac m:val=\"off\"/>\n   <m:dispDef/>\n   <m:lMargin m:val=\"0\"/>\n   <m:rMargin m:val=\"0\"/>\n   <m:defJc m:val=\"centerGroup\"/>\n   <m:wrapIndent m:val=\"1440\"/>\n   <m:intLim m:val=\"subSup\"/>\n   <m:naryLim m:val=\"undOvr\"/>\n  </m:mathPr></w:WordDocument>\n</xml><![endif]--><!--[if gte mso 9]><xml>\n <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"\n  DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"\n  LatentStyleCount=\"382\">\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"heading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 9\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"footer\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of figures\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope return\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"line number\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"page number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of authorities\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"macro\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"toa heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Closing\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Signature\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Message Header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Salutation\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Date\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Block Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Hyperlink\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"FollowedHyperlink\"/>\n  <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>\n  <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Document Map\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Plain Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"E-mail Signature\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Top of Form\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Bottom of Form\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Normal (Web)\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Acronym\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Cite\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Code\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Definition\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Keyboard\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Preformatted\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Sample\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Typewriter\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Variable\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Table\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation subject\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"No List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Contemporary\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Elegant\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Professional\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Balloon Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" Name=\"Table Grid\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Theme\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>\n  <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"\n   Name=\"List Paragraph\"/>\n  <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"\n   Name=\"Intense Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"\n   Name=\"Subtle Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"\n   Name=\"Intense Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"\n   Name=\"Subtle Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"\n   Name=\"Intense Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>\n  <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Mention\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Smart Hyperlink\"/>\n </w:LatentStyles>\n</xml><![endif]-->\n\n<!--[if gte mso 10]>\n<style>\n /* Style Definitions */\ntable.MsoNormalTable\n\t{mso-style-name:普通表格;\n\tmso-tstyle-rowband-size:0;\n\tmso-tstyle-colband-size:0;\n\tmso-style-noshow:yes;\n\tmso-style-priority:99;\n\tmso-style-parent:\"\";\n\tmso-padding-alt:0cm 5.4pt 0cm 5.4pt;\n\tmso-para-margin:0cm;\n\tmso-para-margin-bottom:.0001pt;\n\tmso-pagination:widow-orphan;\n\tfont-size:10.5pt;\n\tmso-bidi-font-size:11.0pt;\n\tfont-family:\"Calibri\",sans-serif;\n\tmso-ascii-font-family:Calibri;\n\tmso-ascii-theme-font:minor-latin;\n\tmso-hansi-font-family:Calibri;\n\tmso-hansi-theme-font:minor-latin;\n\tmso-font-kerning:1.0pt;}\n</style>\n<![endif]-->\n\n\n\n<!--StartFragment-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!--EndFragment--></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:16.0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:18.0pt;font-family:&quot;Times&quot;,serif;mso-bidi-font-family:Times;\ncolor:#562F24;mso-font-kerning:0pt\">epoll</span><span style=\"font-size:18.0pt;\nfont-family:宋体;mso-ascii-font-family:Times;mso-fareast-font-family:宋体;\nmso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Times;mso-bidi-font-family:\nTimes;color:#562F24;mso-font-kerning:0pt\">使用例子</span><span style=\"font-family:\n&quot;Verdana&quot;,sans-serif;mso-bidi-font-family:Verdana;color:#363636;mso-font-kerning:\n0pt\"> </span><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Arial&quot;,sans-serif;\ncolor:dimgray;mso-font-kerning:0pt\">(2006-12-06 12:16:05)</span><span lang=\"EN-US\" style=\"font-family:&quot;Verdana&quot;,sans-serif;mso-bidi-font-family:Verdana;\ncolor:#363636;mso-font-kerning:0pt\"><o:p></o:p></span></p><table class=\"MsoNormalTable\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse:collapse;mso-table-layout-alt:fixed;border:none;\n mso-padding-alt:0cm 5.4pt 0cm 5.4pt\">\n <tbody><tr style=\"mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes\">\n  <td width=\"221\" valign=\"top\" style=\"width:221.4pt;border:none;padding:0cm 5.4pt 0cm 5.4pt\">\n  <p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\n  mso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Verdana&quot;,sans-serif;mso-bidi-font-family:Verdana;\n  color:#363636;mso-font-kerning:0pt\"><a><span style=\"color:#562F24;mso-no-proof:yes;text-decoration:none;text-underline:\n  none\"><!--[if gte vml 1]><v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\"\n   o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\"\n   stroked=\"f\">\n   <v:stroke joinstyle=\"miter\"/>\n   <v:formulas>\n    <v:f eqn=\"if lineDrawn pixelLineWidth 0\"/>\n    <v:f eqn=\"sum @0 1 0\"/>\n    <v:f eqn=\"sum 0 0 @1\"/>\n    <v:f eqn=\"prod @2 1 2\"/>\n    <v:f eqn=\"prod @3 21600 pixelWidth\"/>\n    <v:f eqn=\"prod @3 21600 pixelHeight\"/>\n    <v:f eqn=\"sum @0 0 1\"/>\n    <v:f eqn=\"prod @6 1 2\"/>\n    <v:f eqn=\"prod @7 21600 pixelWidth\"/>\n    <v:f eqn=\"sum @8 21600 0\"/>\n    <v:f eqn=\"prod @7 21600 pixelHeight\"/>\n    <v:f eqn=\"sum @10 21600 0\"/>\n   </v:formulas>\n   <v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"/>\n   <o:lock v:ext=\"edit\" aspectratio=\"t\"/>\n  </v:shapetype><v:shape id=\"图片_x0020_1\" o:spid=\"_x0000_i1025\" type=\"#_x0000_t75\"\n   style='width:1pt;height:1pt;visibility:visible;mso-wrap-style:square'>\n   <v:imagedata src=\"file:////Users/zhaofeng/Library/Group%20Containers/UBF8T346G9.Office/msoclip1/01/clip_image001.gif\"\n    o:title=\"\"/>\n  </v:shape><![endif]--><!--[if !vml]--><img border=\"0\" width=\"1\" height=\"1\" src=\"quiver-image-url/3D045B93716ED28DC745E648B3428A26.gif\" v:shapes=\"图片_x0020_1\"><!--[endif]--></span><span style=\"color:#562F24;text-decoration:\n  none;text-underline:none\"><o:p></o:p></span></a></span></p>\n  <p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\n  mso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Times&quot;,serif;mso-bidi-font-family:Times;color:#363636;\n  mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n  </td>\n  <td width=\"220\" valign=\"top\" style=\"width:220.0pt;border:none;padding:0cm 5.4pt 0cm 5.4pt\">\n  <p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\n  mso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Times&quot;,serif;mso-bidi-font-family:Times;color:#363636;\n  mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p>\n  </td>\n </tr>\n</tbody></table><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;iostream&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;sys/socket.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;netinet/in.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;arpa/inet.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;fcntl.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;unistd.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;stdio.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;pthread.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#include\n&lt;errno.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#define MAXLINE 10<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#define OPEN_MAX\n100<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#define LISTENQ 20<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#define LB_PORT\n7777<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">#define INFTIM 1000<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">线程池任务队列结构体<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">struct task<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> int fd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">需要读写的文件描述符<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> struct task *next;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">下一个任务<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">用于读写两个的两个方面传递参数<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">struct user_data<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> int fd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> unsigned int n_size;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> char line[MAXLINE];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">线程的任务函数<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">void *\nreadtask(void *args);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">void *\nwritetask(void *args);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">声明<span lang=\"EN-US\">epoll_event</span>结构体的变量<span lang=\"EN-US\">,ev</span>用于注册事件<span lang=\"EN-US\">,</span>数组用于回传要处理的事件<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">struct epoll_event\nev,events[20];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">int epfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">pthread_mutex_t\nmutex;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">pthread_cond_t\ncond1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">struct task\n*readhead=NULL,*readtail=NULL,*writehead=NULL;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">void\nsetnonblocking(int sock)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> int opts;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> opts=fcntl(sock,F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> if(opts&lt;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nperror(\"fcntl(sock,GETFL)\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> opts = opts|O_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> if(fcntl(sock,F_SETFL,opts)&lt;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nperror(\"fcntl(sock,SETFL,opts)\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">int main()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> int i, maxi, listenfd, connfd,\nsockfd,nfds;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> pthread_t tid1,tid2;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> struct task *new_task=NULL;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> struct user_data *rdata=NULL;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> socklen_t clilen;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> pthread_mutex_init(&amp;mutex,NULL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> pthread_cond_init(&amp;cond1,NULL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">初始化用于读线程池的线程<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">\npthread_create(&amp;tid1,NULL,readtask,NULL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">\npthread_create(&amp;tid2,NULL,readtask,NULL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">生成用于处理<span lang=\"EN-US\">accept</span>的<span lang=\"EN-US\">epoll</span>专用的文件描述符<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> epfd=epoll_create(256);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> struct sockaddr_in clientaddr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> struct sockaddr_in serveraddr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> listenfd = socket(AF_INET, SOCK_STREAM,\n0);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">把<span lang=\"EN-US\">socket</span>设置为非阻塞方式<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> setnonblocking(listenfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">设置与要处理的事件相关的文件描述符<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> ev.data.fd=listenfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">设置要处理的事件类型<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> ev.events=EPOLLIN|EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">注册<span lang=\"EN-US\">epoll</span>事件<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">\nepoll_ctl(epfd,EPOLL_CTL_ADD,listenfd,&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> bzero(&amp;serveraddr,\nsizeof(serveraddr));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> serveraddr.sin_family = AF_INET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> char *local_addr=\"192.168.1.10\";<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">\ninet_aton(local_addr,&amp;(serveraddr.sin_addr));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //htons(SERV_PORT);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> serveraddr.sin_port=htons(LB_PORT);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> bind(listenfd,(sockaddr *)&amp;serveraddr,\nsizeof(serveraddr));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> listen(listenfd, LISTENQ);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> maxi = 0;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> for ( ; ; )<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">等待<span lang=\"EN-US\">epoll</span>事件的发生<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nnfds=epoll_wait(epfd,events,20,500);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">处理所发生的所有事件<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nfor(i=0;i&lt;nfds;++i)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nif(events[i].data.fd==listenfd)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> connfd =\naccept(listenfd,(sockaddr *)&amp;clientaddr, &amp;clilen);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> if(connfd&lt;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nperror(\"connfd&lt;0\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nsetnonblocking(connfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> char *str =\ninet_ntoa(clientaddr.sin_addr);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nstd::cout&lt;&lt;\"connec_ from &gt;&gt;\"&lt;&lt;str&lt;&lt;std::endl;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">设置用于读操作的文件描述符<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> ev.data.fd=connfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">设置用于注册的读操作事件<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nev.events=EPOLLIN|EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">注册<span lang=\"EN-US\">ev<o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nepoll_ctl(epfd,EPOLL_CTL_ADD,connfd,&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> else if(events[i].events&amp;EPOLLIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nprintf(\"reading!\\n\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> if ( (sockfd =\nevents[i].data.fd) &lt; 0) continue;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> new_task=new\ntask();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nnew_task-&gt;fd=sockfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nnew_task-&gt;next=NULL;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">添加新的读任务<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\npthread_mutex_lock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> if(readhead==NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> readhead=new_task;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> readtail=new_task;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nreadtail-&gt;next=new_task;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> readtail=new_task;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">唤醒所有等待<span lang=\"EN-US\">cond1</span>条件的线程<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\npthread_cond_broadcast(&amp;cond1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\npthread_mutex_unlock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> else\nif(events[i].events&amp;EPOLLOUT)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> rdata=(struct\nuser_data *)events[i].data.ptr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> sockfd =\nrdata-&gt;fd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> write(sockfd,\nrdata-&gt;line, rdata-&gt;n_size);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> delete rdata;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">设置用于读操作的文件描述符<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> ev.data.fd=sockfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">设置用于注测的读操作事件<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nev.events=EPOLLIN|EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">修改<span lang=\"EN-US\">sockfd</span>上要处理的事件为<span lang=\"EN-US\">EPOLIN<o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nepoll_ctl(epfd,EPOLL_CTL_MOD,sockfd,&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">void *\nreadtask(void *args)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> int fd=-1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> unsigned int n;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\">用于把读出来的数据传递出去<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> struct user_data *data = NULL;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> while(1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\npthread_mutex_lock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">等待到任务队列不为空<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nwhile(readhead==NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\npthread_cond_wait(&amp;cond1,&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nfd=readhead-&gt;fd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">从任务队列取出一个读任务<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> struct task\n*tmp=readhead;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> readhead =\nreadhead-&gt;next;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> delete tmp;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\npthread_mutex_unlock(&amp;mutex);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> data = new\nuser_data();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> data-&gt;fd=fd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> if ( (n = read(fd,\ndata-&gt;line, MAXLINE)) &lt; 0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> if (errno ==\nECONNRESET)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> close(fd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nstd::cout&lt;&lt;\"readline error\"&lt;&lt;std::endl;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nif(data!=NULL)delete data;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> else if (n == 0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> close(fd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nprintf(\"Client close connect!\\n\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nif(data!=NULL)delete data;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> data-&gt;n_size=n;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">设置需要传递出去的数据<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> ev.data.ptr=data;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">设置用于注测的写操作事件<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nev.events=EPOLLOUT|EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> //</span><span style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">修改<span lang=\"EN-US\">sockfd</span>上要处理的事件为<span lang=\"EN-US\">EPOLLOUT<o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\">\nepoll_ctl(epfd,EPOLL_CTL_MOD,fd,&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;mso-hansi-font-family:Verdana;\nmso-bidi-font-family:宋体;color:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Verdana&quot;,sans-serif;mso-ascii-font-family:\n宋体;mso-fareast-font-family:宋体;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;\nfont-family:宋体;mso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;\ncolor:#363636;mso-font-kerning:0pt\"> }<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">\n\n\n\n\n\n\n\n<!--[if !mso]>\n<style>\nv\\:* {behavior:url(#default#VML);}\no\\:* {behavior:url(#default#VML);}\nw\\:* {behavior:url(#default#VML);}\n.shape {behavior:url(#default#VML);}\n</style>\n<![endif]--><!--[if gte mso 9]><xml>\n <o:OfficeDocumentSettings>\n  <o:AllowPNG/>\n </o:OfficeDocumentSettings>\n</xml><![endif]-->\n\n<!--[if gte mso 9]><xml>\n <w:WordDocument>\n  <w:View>Normal</w:View>\n  <w:Zoom>0</w:Zoom>\n  <w:TrackMoves>false</w:TrackMoves>\n  <w:TrackFormatting/>\n  <w:PunctuationKerning/>\n  <w:DrawingGridVerticalSpacing>10 磅</w:DrawingGridVerticalSpacing>\n  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>\n  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>\n  <w:ValidateAgainstSchemas/>\n  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>\n  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>\n  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>\n  <w:DoNotPromoteQF/>\n  <w:LidThemeOther>EN-US</w:LidThemeOther>\n  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>\n  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>\n  <w:Compatibility>\n   <w:SpaceForUL/>\n   <w:BalanceSingleByteDoubleByteWidth/>\n   <w:DoNotLeaveBackslashAlone/>\n   <w:ULTrailSpace/>\n   <w:DoNotExpandShiftReturn/>\n   <w:AdjustLineHeightInTable/>\n   <w:BreakWrappedTables/>\n   <w:SnapToGridInCell/>\n   <w:WrapTextWithPunct/>\n   <w:UseAsianBreakRules/>\n   <w:DontGrowAutofit/>\n   <w:SplitPgBreakAndParaMark/>\n   <w:EnableOpenTypeKerning/>\n   <w:DontFlipMirrorIndents/>\n   <w:OverrideTableStyleHps/>\n   <w:UseFELayout/>\n  </w:Compatibility>\n  <m:mathPr>\n   <m:mathFont m:val=\"Cambria Math\"/>\n   <m:brkBin m:val=\"before\"/>\n   <m:brkBinSub m:val=\"&#45;-\"/>\n   <m:smallFrac m:val=\"off\"/>\n   <m:dispDef/>\n   <m:lMargin m:val=\"0\"/>\n   <m:rMargin m:val=\"0\"/>\n   <m:defJc m:val=\"centerGroup\"/>\n   <m:wrapIndent m:val=\"1440\"/>\n   <m:intLim m:val=\"subSup\"/>\n   <m:naryLim m:val=\"undOvr\"/>\n  </m:mathPr></w:WordDocument>\n</xml><![endif]--><!--[if gte mso 9]><xml>\n <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"\n  DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"\n  LatentStyleCount=\"382\">\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"heading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 9\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"footer\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of figures\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope return\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"line number\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"page number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of authorities\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"macro\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"toa heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Closing\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Signature\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Message Header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Salutation\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Date\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Block Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Hyperlink\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"FollowedHyperlink\"/>\n  <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>\n  <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Document Map\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Plain Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"E-mail Signature\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Top of Form\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Bottom of Form\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Normal (Web)\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Acronym\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Cite\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Code\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Definition\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Keyboard\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Preformatted\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Sample\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Typewriter\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Variable\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Table\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation subject\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"No List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Contemporary\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Elegant\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Professional\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Balloon Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" Name=\"Table Grid\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Theme\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>\n  <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"\n   Name=\"List Paragraph\"/>\n  <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"\n   Name=\"Intense Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"\n   Name=\"Subtle Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"\n   Name=\"Intense Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"\n   Name=\"Subtle Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"\n   Name=\"Intense Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>\n  <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Mention\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Smart Hyperlink\"/>\n </w:LatentStyles>\n</xml><![endif]-->\n\n<!--[if gte mso 10]>\n<style>\n /* Style Definitions */\ntable.MsoNormalTable\n\t{mso-style-name:普通表格;\n\tmso-tstyle-rowband-size:0;\n\tmso-tstyle-colband-size:0;\n\tmso-style-noshow:yes;\n\tmso-style-priority:99;\n\tmso-style-parent:\"\";\n\tmso-padding-alt:0cm 5.4pt 0cm 5.4pt;\n\tmso-para-margin:0cm;\n\tmso-para-margin-bottom:.0001pt;\n\tmso-pagination:widow-orphan;\n\tfont-size:12.0pt;\n\tfont-family:\"Cambria\",serif;\n\tmso-ascii-font-family:Cambria;\n\tmso-ascii-theme-font:minor-latin;\n\tmso-hansi-font-family:Cambria;\n\tmso-hansi-theme-font:minor-latin;\n\tmso-font-kerning:1.0pt;}\n</style>\n<![endif]-->\n\n\n\n<!--StartFragment-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!--EndFragment--></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:宋体;\nmso-hansi-font-family:Verdana;mso-bidi-font-family:宋体;color:#363636;mso-font-kerning:\n0pt\">}</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span style=\"font-family:宋体;\nmso-ascii-font-family:Tahoma;mso-fareast-font-family:宋体;mso-fareast-theme-font:\nminor-fareast;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;\ncolor:#343434;mso-font-kerning:0pt\">高性能的网络服务器需要同时并发处理大量的客户端，而采用以前的那种对每个连接使用一个分开的线程或进程方法效率不高，因为处理大量客户端的时候，资源的使用及进程上下文的切换将会影响服务器的性能。一个可替代的方法是在一个单一的线程中使用非阻塞的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">I/O</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">（</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">non-blocking I/O</span><span style=\"font-family:宋体;mso-ascii-font-family:\nTahoma;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;\nmso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">）。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;mso-fareast-font-family:\n宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">这篇文章主要介绍</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">linux</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">下的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">epoll(7)</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">方法，其有着良好的就绪事件通知机制。我们将会使用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">C</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">来展现一个完整的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">TCP</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">服务器实现代码。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">Epoll</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">是被</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">linux2.6</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">开始引进的，但是不被其他的类</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">UNIX</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">系统支持，它提供了一种类似</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">select</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">或</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\">poll</span><span style=\"font-family:宋体;mso-ascii-font-family:Tahoma;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">函数的机制：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;color:#343434;mso-font-kerning:\n0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-ascii-font-family:&quot;Heiti SC Light&quot;;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;mso-bidi-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">1.</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">Select(2)</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">只能够同时管理</span><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">FD_SETSIZE</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">数目的文件描述符</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n2.&nbsp;poll(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">没有固定的描述符上限这一限制，但是每次必须遍历所有的描述符来检查就绪的描述符，这个过程的时间复杂度为</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">O(N)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">没有</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">select</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">这样对文件描述符上限的限制，也不会像</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">poll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">那样进行线性的遍历。因此</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">处理大并发连接有着更高的性能。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><b><span lang=\"EN-US\" style=\"font-size:13.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;Epoll</span></b><b><span style=\"font-size:13.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">相关操作函数介绍：</span></b><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; 1.&nbsp;<b>epoll_create</b>(2)\nor <b>epoll_create1</b>(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">（有着不同的参数值）用来创建</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">实例。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/usr/include/sys/epoll.h<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">extern int epoll_create\n(int __size) ;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">RETURN</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">：<span lang=\"EN-US\">&gt;0, </span>成功；<span lang=\"EN-US\">-1, </span>出错<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">函数描述：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (1)\nepoll_create</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">返回的是一个文件描述符，也就是说</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">是以特殊文件的方式体现给用户</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (2)\n__size</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">提示操作系统，用户可能要使用多少个文件描述符，该参数已经废弃，填写一个大于</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">0</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">的正整数</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.\n&nbsp;<b>epoll_ctl</b>(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">用来增加或移除被</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">所监听的文件描述符。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int epoll_ctl(int epfd,\nint op, int fd, struct <span style=\"mso-tab-count:1\"> </span>epoll_event\n*event);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">RETURN</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">：<span lang=\"EN-US\">0</span>，成功；<span lang=\"EN-US\">-1</span>，出错<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">函数描述：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(1) epfd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">为</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll_create</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">创建的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">描述符</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(2) epoll_ctl</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">函数对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">进行</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">op</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">类型的操作，</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">op</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">选项为</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nEPOLL_CTL_ADD</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">fd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">描述符注册</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">event</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nEPOLL_CTL_MOD</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">fd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">描述符的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">event</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">事件进行修改</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nEPOLL_CTL_DEL</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，删除已注册的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">event</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;<b>epoll_wait</b>(2)</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">用来等待发生在监听描述符上的事件。它会一直阻塞直到事件发生。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int epoll_wait(int epfd,\nstruct epoll_event *events,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int maxevents, int timeout);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">RETURN:&gt;0</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">，发生事件个数；<span lang=\"EN-US\">=0</span>，时间到；<span lang=\"EN-US\">-1</span>，出错<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">函数描述：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nepoll_wait</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">与</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">select</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">函数类似，同步地等待事件发生</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(1) epfd</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，标识</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的文件描述符</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(2) </span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:red;mso-font-kerning:0pt\">events</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">，指向传入操作系统的一个</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_event</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">数组</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n(3) maxevents</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，表示传入数组的大小，必须大于</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\">0<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;\nmso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:\n0pt\">当有事件发生，</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:red;mso-font-kerning:0pt\">Linux</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">会填写</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">events</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">结构，返回给应用程序。由于</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_wait</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">同步等待，有可能被信号中断，返回</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">EINTR</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">错误</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">更多的函数介绍请参照</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">man</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><b><span lang=\"EN-US\" style=\"font-size:13.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">Epoll</span></b><b><span style=\"font-size:13.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">的两种模式：</span></b><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.&nbsp;</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">水平触发（</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">LT</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">）：使用此种模式，当数据可读的时候，</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_wait()</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">将会一直返回就绪事件。如果你没有处理完全部数据，并且再次在该</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">实例上调用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_wait()</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">才监听描述符的时候，它将会再次返回就绪事件，因为有数据可读。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">只支持非阻塞</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">socket</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.&nbsp;</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">边缘触发（</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">）：使用此种模式，只能获取一次就绪通知，如果没有处理完全部数据，并且再次调用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_wait()</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的时候，它将会阻塞，因为就绪事件已经释放出来了。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">的效能更高，但是对程序员的要求也更高。在</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">ET</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">模式下，我们必须一次干净而彻底地处理完所有事件。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">LT</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">两种模式的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">socket</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">都支持。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">传递给</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll_ctl(2)</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">Epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">事件结构体如下所示：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">typedef unionepoll_data<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">void*ptr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int fd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>__uint32_t<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>u32;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>__uint64_t<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>u64;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}epoll_data_t;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">structepoll_event<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>__uint32_t<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>events;/* Epoll events */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">epoll_data_t data;/* User\ndata variable */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">对于每一个监听的描述符，能够关联一个整形数据或指向用户数据的指针。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的事件类型：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">enum EPOLL_EVENTS<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLIN = 0x001,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLIN EPOLLIN<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLPRI = 0x002,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLPRI EPOLLPRI<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLOUT = 0x004,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLOUT EPOLLOUT<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLRDNORM = 0x040,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLRDNORM\nEPOLLRDNORM<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLRDBAND = 0x080,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLRDBAND\nEPOLLRDBAND<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLWRNORM = 0x100,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLWRNORM EPOLLWRNORM<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLWRBAND = 0x200,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLWRBAND\nEPOLLWRBAND<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLMSG = 0x400,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLMSG EPOLLMSG<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLERR = 0x008,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLERR EPOLLERR<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLHUP = 0x010,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLHUP EPOLLHUP<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLRDHUP = 0x2000,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLRDHUP EPOLLRDHUP<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLONESHOT = (1 &lt;&lt; 30),<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLONESHOT\nEPOLLONESHOT<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp; </span>EPOLLET = (1 &lt;&lt; 31)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define EPOLLET EPOLLET<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp; </span>};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLIN</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，读事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLOUT</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，写事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLPRI</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，带外数据，与</span><span lang=\"EN-US\" style=\"font-size:10.0pt;\nfont-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">select</span><span style=\"font-size:10.0pt;\nfont-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">的异常事件集合对应</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLRDHUP</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，</span><span lang=\"EN-US\" style=\"font-size:10.0pt;\nfont-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">TCP</span><span style=\"font-size:10.0pt;\nfont-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">连接对端至少写写半关闭</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLERR</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，错误事件</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;\nmso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLET</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，设置事件为边沿触发</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:10.0pt;font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">–&nbsp;EPOLLONESHOT</span><span style=\"font-size:10.0pt;font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:\nTahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:Tahoma;color:#343434;\nmso-font-kerning:0pt\">，只触发一次，事件自动被删除</span><span lang=\"EN-US\" style=\"font-family:\n&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;color:#343434;\nmso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\">&nbsp; epoll</span><span style=\"font-family:\n&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;\nmso-bidi-font-family:Tahoma;color:#3366FF;mso-font-kerning:0pt\">在一个文件描述符上只能有一个事件，在一个描述符上添加多个事件，会产生</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\">EEXIST</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#3366FF;mso-font-kerning:0pt\">的错误。同样，删除</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#3366FF;mso-font-kerning:0pt\">的事件，只需描述符就够了</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#3366FF;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(epfd,\nEPOLL_CTL_DEL, fd, NULL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:red;mso-font-kerning:0pt\">这里有一个比较重要的问题：从</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_wait</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">返回的</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">events</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">中，该如何知道是哪个描述符上的事件：在注册</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">事件的时候，一定要填写</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\">epoll_data</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:red;mso-font-kerning:0pt\">，否则我们将分不清触发的是哪个描述符上的事件。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:red;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-ascii-font-family:Tahoma;mso-hansi-font-family:\nTahoma;mso-bidi-font-family:Tahoma;color:#343434;mso-font-kerning:0pt\">下面我们将实现一个轻型</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">TCP</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">服务器，功能是在标准输出中打印发送给套接字的一切数据。</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*\n=====================================================================================<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>Filename:<span style=\"mso-spacerun:yes\">&nbsp; </span>EpollServer.c<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;\n</span>Description:<span style=\"mso-spacerun:yes\">&nbsp; </span>this is a epoll\nserver example<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>Version:<span style=\"mso-spacerun:yes\">&nbsp; </span>1.0<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>Created:<span style=\"mso-spacerun:yes\">&nbsp; </span>2012</span><span style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">年<span lang=\"EN-US\">03</span>月<span lang=\"EN-US\">15</span>日<span lang=\"EN-US\"> 20</span>时<span lang=\"EN-US\">24</span>分<span lang=\"EN-US\">26</span>秒<span lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>Revision:<span style=\"mso-spacerun:yes\">&nbsp; </span>none<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>Compiler:<span style=\"mso-spacerun:yes\">&nbsp; </span>gcc<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>Author:<span style=\"mso-spacerun:yes\">&nbsp; </span>LGP (), lgp8819@gmail.com<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>Company:<span style=\"mso-spacerun:yes\">&nbsp; </span><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*\n=====================================================================================<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*/<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;stdio.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;stdlib.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;string.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/types.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/socket.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;errno.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;fcntl.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;unistd.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;netdb.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/*struct addrinfo <o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>ai_flags;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>ai_family;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>ai_socktype;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>ai_protocol;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>ai_addrlen;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct sockaddr *ai_addr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>char<span style=\"mso-spacerun:yes\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>*ai_canonname;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct addrinfo *ai_next;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}; */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">static int create_and_bind(char*\nport)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct addrinfo hints;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct addrinfo*result,*rp;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int s,sfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>memset(&amp;hints,0,sizeof(struct addrinfo));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hints.ai_family= AF_UNSPEC;/* Return IPv4 and IPv6 */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hints.ai_socktype= SOCK_STREAM;/* TCP socket */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hints.ai_flags= AI_PASSIVE;/* All interfaces */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s = getaddrinfo(NULL, port,&amp;hints,&amp;result); //more\ninfo about getaddrinfo() please see:man getaddrinfo!<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s != 0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fprintf(stderr,\"getaddrinfo:\n%s\\n\",gai_strerror(s));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return -1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for(rp= result;rp!= NULL;rp=rp-&gt;ai_next)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sfd =\nsocket(rp-&gt;ai_family,rp-&gt;ai_socktype,rp-&gt;ai_protocol);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(sfd==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>continue;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s =bind(sfd,rp-&gt;ai_addr,rp-&gt;ai_addrlen);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* We managed to bind successfully! */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(sfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(rp== NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fprintf(stderr,\"Could not bind\\n\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return-1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>freeaddrinfo(result);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return sfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">static int\nmake_socket_non_blocking(int sfd)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags, s;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(sfd, F_GETFL,0);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"fcntl\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return-1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags|= O_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s =fcntl(sfd, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"fcntl\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return-1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return 0;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define MAXEVENTS 64<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">int main(int\nargc,char*argv[])<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int sfd, s;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int efd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct epoll_event event;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct epoll_event* events;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(argc!=2)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fprintf(stderr,\"Usage: %s [port]\\n\",argv[0]);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(EXIT_FAILURE);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sfd = create_and_bind(argv[1]);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if( sfd == -1 )<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s = make_socket_non_blocking(sfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s = listen(sfd, SOMAXCONN);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"listen\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>efd = epoll_create1(0);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(efd==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"epoll_create\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>event.data.fd=sfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>event.events= EPOLLIN | EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s =epoll_ctl(efd, EPOLL_CTL_ADD,sfd,&amp;event);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"epoll_ctl\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* Buffer where events are returned */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>events=calloc(MAXEVENTS,sizeof event);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* The event loop */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>while(1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int n,i;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>n =epoll_wait(efd, events, MAXEVENTS,-1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for(i=0;i&lt; n;i++)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if((events[i].events &amp; EPOLLERR)||<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(events[i].events &amp; EPOLLHUP)||<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(!(events[i].events &amp;\nEPOLLIN)))<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* An error has occured on this fd, or\nthe socket is not<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>ready for reading (why were we notified then?) */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fprintf(stderr,\"epoll\nerror\\n\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(events[i].data.fd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>continue;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else if(sfd == events[i].data.fd)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* We have a notification on the\nlistening socket, which<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>means one or more incoming connections. */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>while(1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct sockaddr in_addr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>socklen_t in_len;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int infd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>char hbuf[NI_MAXHOST],sbuf[NI_MAXSERV];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>in_len = sizeof in_addr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>infd =\naccept(sfd,&amp;in_addr,&amp;in_len);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(infd==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if((errno== EAGAIN)||<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n8\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(errno==\nEWOULDBLOCK))<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* We have processed\nall incoming<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>connections. */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"accept\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s\n=getnameinfo(&amp;in_addr,in_len,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hbuf,sizeof hbuf,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sbuf,sizeof sbuf,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>NI_NUMERICHOST |\nNI_NUMERICSERV);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf(\"Accepted\nconnection on descriptor %d \"<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n8\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>\"(host=%s,\nport=%s)\\n\",infd,hbuf,sbuf);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* Make the incoming socket\nnon-blocking and add it to the<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>list of fds to monitor. */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s =\nmake_socket_non_blocking(infd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s\n==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>event.data.fd=infd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>event.events= EPOLLIN | EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s = epoll_ctl(efd,\nEPOLL_CTL_ADD,infd,&amp;event);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"epoll_ctl\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>continue;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* We have data on the fd waiting to be\nread. Read and<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>display it. We must read whatever data is available<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>completely, as we are running in edge-triggered mode<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>and won't get a notification again for the same<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>data. */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int done =0;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>while(1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ssize_t count;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>char buf[512];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>count =\nread(events[i].data.fd,buf,sizeof buf);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(count == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* If errno == EAGAIN, that\nmeans we have read all<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>data. So go back to the main loop. */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-tab-count:4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(errno!=\nEAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"read\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>done=1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else if(count ==0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* End of file. The remote\nhas closed the<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp; </span>connection. */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>done=1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* Write the buffer to standard\noutput */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>s = write(1,buf, count);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(s ==-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror(\"write\");<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>abort();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(done)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf(\"Closed connection on\ndescriptor %d\\n\",events[i].data.fd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* Closing the descriptor will make\nepoll remove it<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;&nbsp;\n</span>from the set of descriptors which are monitored. */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(events[i].data.fd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>free(events);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(sfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return EXIT_SUCCESS;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">以下是使用</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">c++</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">对</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">epoll</span><span style=\"font-family:&quot;Heiti SC Light&quot;;\nmso-ascii-font-family:Tahoma;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\nTahoma;color:#343434;mso-font-kerning:0pt\">简单的封装类：</span><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @file file.h<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @comment<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* wrap of file descriptor<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @author niexw<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*/<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#ifndef _XCOM_FILE_H_<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define _XCOM_FILE_H_<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;stdio.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;fcntl.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;sys/uio.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;fcntl.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n\"exception.h\"<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n\"buffer.h\"<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">namespace unp<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @class File<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @comment<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* wrap of file descriptor<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*/<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class File<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">protected:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int fd_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// construtor and destructor<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File() : fd_(-1) {}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>explicit File(FILE *stream) : fd_(fileno(stream)) {}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~File()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ close(); }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int getFd() { return fd_; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int getFd() const { return fd_; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t read(char *buf, size_t count) const<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::read(fd_, buf, count)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t write(char *buf, size_t count) const<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::write(fd_, buf, count)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void close()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (fd_ != -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>::close(fd_);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fd_ = -1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void setNonblock()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags |= O_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void clrNonblock()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags &amp;= ~O_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t readv(CircleBuffer &amp;buf)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::readv(fd_, buf.idle_, buf.idlenum_)) ==\n-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>buf.afterRead(ret);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t writev(CircleBuffer &amp;buf)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::writev(fd_, buf.data_, buf.datanum_)) ==\n-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>buf.afterWrite(ret);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void setFlag(int option)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags |= option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY1:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (ret == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void clrFlag(int option)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(fd_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags &amp;= ~option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY1:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret = fcntl(fd_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (ret == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @class File2<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @comment<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* wrap of file descriptor<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*/<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class File2<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">protected:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int descriptor_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File2() : descriptor_(-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>explicit File2(FILE *stream) : descriptor_(fileno(stream))<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>explicit File2(File2 &amp;f) : descriptor_(f.descriptor_)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ f.descriptor_ = -1; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~File2()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ close(); }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int descriptor() { return descriptor_; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t read(char *buf, size_t count)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::read(descriptor_, buf, count)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t write(char *buf, size_t count) const<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::write(descriptor_, buf, count)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void close()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (descriptor_ != -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>::close(descriptor_);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>descriptor_ = -1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t readv(const struct iovec *iov, int cnt)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::readv(descriptor_, iov, cnt)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t writev(const struct iovec *iov, int cnt)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = ::writev(descriptor_, iov, cnt)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EAGAIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void setControlOption(int option)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags |= option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY1:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (ret == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void clearControlOption(int option)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags &amp;= ~option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY1:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (ret == -1) {<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void setNonblock()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-tab-count:1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags |=\nO_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void clrNonblock()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int flags = fcntl(descriptor_, F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags &amp;= ~O_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flags = fcntl(descriptor_, F_SETFL, flags);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (flags == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}; // namespace unp<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#endif // _XCOM_FILE_H_<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @file epoll.h<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @comment<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* wrap of epoll<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @author niexw<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*/<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#ifndef _UNP_EPOLL_H_<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#define _UNP_EPOLL_H_<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n&lt;sys/epoll.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;assert.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;map&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;strings.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include\n\"file.h\"<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">namespace unp<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">/**<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @class Epoll<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* @comment<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>* wrap of epoll<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-spacerun:yes\">&nbsp;</span>*/<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class Epoll : public File<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Epoll() {}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~Epoll() {}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct Event : public epoll_event<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event() { events = EPOLLERR; data.u64 = 0; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event(unsigned int type, void *magic)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ events = type; data.ptr = magic; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int create()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((fd_ = epoll_create(1)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return fd_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void registerEvent(int fd, Event &amp;event)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_ADD, fd, &amp;event) ==\n-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void modifyEvent(int fd, Event &amp;event)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, &amp;event) ==\n-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void unregisterEvent(int fd)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_DEL, fd, NULL) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int waitEvent(Event *events, int size, int msec)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>assert(events != NULL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = epoll_wait(fd_, events, size,<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>msec == -1 ? NULL : msec)) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#include &lt;iostream&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">using std::cout;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">using std::endl;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">class Epoll2 : public File<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>typedef void* (*Callback)(epoll_event &amp;event, void *);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">protected:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct Event : public epoll_event<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Callback func_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void *param_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event() : func_(NULL), param_(NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ events = EPOLLERR; data.u64 = 0; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event(unsigned int type) : func_(NULL), param_(NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ events = EPOLLERR | type; data.u64 = 0; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event(unsigned int type, Callback func, void *param)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>: func_(func), param_(param)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ events = EPOLLERR | type; data.u64 = 0; }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>typedef std::map&lt;int, Event&gt; Events;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Events events_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>epoll_event happens_[10];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int timeout_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Callback func_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void *param_;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">public:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Epoll2() : timeout_(-1), func_(NULL), param_(NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>assert(sizeof(Events::iterator) == sizeof(void*));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fd_ = epoll_create(10);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Epoll2(int msec, Callback func) : timeout_(msec), func_(NULL),\nparam_(NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;</span>assert(sizeof(Events::iterator)\n== sizeof(void*));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-spacerun:yes\">&nbsp;</span>fd_ =\nepoll_create(10);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~Epoll2()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ }<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void registerEvent(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event event(option, func, param);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>std::pair&lt;Events::iterator, bool&gt; ret =<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>events_.insert(std::pair&lt;int,\nEvent&gt;(fd, event));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//ret.first-&gt;second.data.ptr = (void\n*)ret.first._M_node;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>bcopy(&amp;ret.first,\n&amp;ret.first-&gt;second.data.ptr, sizeof(void*));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_ADD, fd,\n&amp;ret.first-&gt;second) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void setEventOption(int fd, int option)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event *p = &amp;events_[fd];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;events = option | EPOLLERR;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void setEventOption(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event *p = &amp;events_[fd];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;events = option | EPOLLERR;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;func_ = func;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;param_ = param;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void addEventOption(int fd, int option)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event *p = &amp;events_[fd];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;events |= option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void addEventOption(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event *p = &amp;events_[fd];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;events |= option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;func_ = func;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;param_ = param;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void clrEventOption(int fd, int option, Callback func, void\n*param)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event *p = &amp;events_[fd];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;events &amp;= ~option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;func_ = func;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;param_ = param;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void clrEventOption(int fd, int option)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Event *p = &amp;events_[fd];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p-&gt;events &amp;= ~option;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_MOD, fd, p) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void unregisterEvent(int fd)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>events_.erase(fd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (epoll_ctl(fd_, EPOLL_CTL_DEL, fd, NULL) == -1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void setTimeout(int msec, Callback func, void *param)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>timeout_ = msec;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>func_ = func;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>param_ = param;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>bool run()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int ret;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RETRY:<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ((ret = epoll_wait(fd_, happens_, 10, timeout_)) ==\n-1)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (errno == EINTR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>goto RETRY;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for (int i = 0; i &lt; ret; ++i)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Events::iterator it;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>bcopy(&amp;happens_[i].data.ptr, &amp;it,\nsizeof(void *));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//it._M_node =\n(std::_Rb_tree_node_base*)happens_[i].data.ptr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (it-&gt;second.func_ != NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>it-&gt;second.func_(happens_[i],\nit-&gt;second.param_);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (happens_[i].events &amp; EPOLLERR)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>throw EXCEPTION();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (ret == 0 &amp;&amp; func_ != NULL)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>func_(happens_[0], param_);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return !events_.empty();<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><span style=\"mso-tab-count:\n1\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">};<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">}; // namespace unp<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Heiti SC Light&quot;;mso-hansi-font-family:Tahoma;mso-bidi-font-family:\n&quot;Heiti SC Light&quot;;color:#343434;mso-font-kerning:0pt\">#endif /* _UNP_EPOLL_H_ */<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-family:&quot;Tahoma&quot;,sans-serif;mso-fareast-font-family:&quot;Heiti SC Light&quot;;\ncolor:#343434;mso-font-kerning:0pt\">&nbsp;</span><span style=\"color: rgb(52, 52, 52); font-family: Tahoma, sans-serif;\">&nbsp;</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">e.g:</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\"><br></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;iostream&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;sys/socket.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;sys/epoll.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;netinet/in.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;arpa/inet.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;fcntl.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;unistd.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#include&nbsp;&lt;stdio.h&gt;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#define&nbsp;MAXLINE&nbsp;10<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#define&nbsp;OPEN_MAX&nbsp;100<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#define&nbsp;LISTENQ&nbsp;20<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#define&nbsp;SERV_PORT&nbsp;5555<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">#define&nbsp;INFTIM&nbsp;1000<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#257F9F;mso-font-kerning:0pt\">void</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;setnonblocking(</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#257F9F;mso-font-kerning:0pt\">int</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;sock)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#257F9F;mso-font-kerning:0pt\">int</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;opts;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;opts&nbsp;=&nbsp;fcntl(sock,&nbsp;F_GETFL);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;if(opts&nbsp;&lt;&nbsp;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#900112;mso-font-kerning:0pt\">\"fcntl(sock,GETFL)\"</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;opts&nbsp;=&nbsp;opts&nbsp;|&nbsp;O_NONBLOCK;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;if(fcntl(sock,&nbsp;F_SETFL,&nbsp;opts)&nbsp;&lt;&nbsp;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#900112;mso-font-kerning:0pt\">\"fcntl(sock,SETFL,opts)\"</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#257F9F;mso-font-kerning:0pt\">int</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;main()<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#257F9F;mso-font-kerning:0pt\">int</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;i,&nbsp;maxi,&nbsp;listenfd,&nbsp;connfd,&nbsp;sockfd,&nbsp;epfd,&nbsp;nfds;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;ssize_t&nbsp;n;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#257F9F;mso-font-kerning:0pt\">char</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;line[MAXLINE];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;socklen_t&nbsp;clilen;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">声明</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">epoll_event</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">结构体的变量</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">,ev</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">用于注册事件</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">,</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">数组用于回传要处理的事件</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;epoll_event&nbsp;ev,&nbsp;events[20];<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">生成用于处理</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">accept</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">的</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">epoll</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">专用的文件描述符</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;epfd&nbsp;=&nbsp;epoll_create(256);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;sockaddr_in&nbsp;clientaddr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;sockaddr_in&nbsp;serveraddr;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;listenfd&nbsp;=&nbsp;socket(AF_INET,&nbsp;SOCK_STREAM,&nbsp;0);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">把</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">socket</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置为非阻塞方式</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;setnonblocking(listenfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置与要处理的事件相关的文件描述符</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;ev.data.fd&nbsp;=&nbsp;listenfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置要处理的事件类型</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;ev.events&nbsp;=&nbsp;EPOLLIN&nbsp;|&nbsp;EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">注册</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">epoll</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">事件</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(epfd,&nbsp;EPOLL_CTL_ADD,&nbsp;listenfd,&nbsp;&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;bzero(&amp;serveraddr,&nbsp;sizeof(serveraddr));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;serveraddr.sin_family&nbsp;=&nbsp;AF_INET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#257F9F;mso-font-kerning:0pt\">char</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;*local_addr&nbsp;=&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#900112;mso-font-kerning:0pt\">\"200.200.200.204\"</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;inet_aton(local_addr,&nbsp;&amp;(serveraddr.sin_addr));&nbsp;//htons(SERV_PORT);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;serveraddr.sin_port&nbsp;=&nbsp;htons(SERV_PORT);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;bind(listenfd,&nbsp;(sockaddr&nbsp;*)&amp;serveraddr,&nbsp;sizeof(serveraddr));<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;listen(listenfd,&nbsp;LISTENQ);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;maxi&nbsp;=&nbsp;0;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(&nbsp;;&nbsp;;&nbsp;)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">等待</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">epoll</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">事件的发生</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nfds&nbsp;=&nbsp;epoll_wait(epfd,&nbsp;events,&nbsp;20,&nbsp;500);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">处理所发生的所有事件</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;nfds;&nbsp;++i)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(events[i].data.fd&nbsp;==&nbsp;listenfd)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connfd&nbsp;=&nbsp;accept(listenfd,&nbsp;(sockaddr&nbsp;*)&amp;clientaddr,&nbsp;&amp;clilen);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(connfd&nbsp;&lt;&nbsp;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#900112;mso-font-kerning:0pt\">\"connfd&lt;0\"</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setnonblocking(connfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#257F9F;mso-font-kerning:0pt\">char</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;*str&nbsp;=&nbsp;inet_ntoa(clientaddr.sin_addr);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#900112;mso-font-kerning:0pt\">\"connect&nbsp;from&nbsp;\"</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&lt;&nbsp;_u115&nbsp;?&nbsp;tr&nbsp;&lt;&lt;&nbsp;std::endl;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置用于读操作的文件描述符</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.data.fd&nbsp;=&nbsp;connfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置用于注测的读操作事件</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.events&nbsp;=&nbsp;EPOLLIN&nbsp;|&nbsp;EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">注册</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">ev<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(epfd,&nbsp;EPOLL_CTL_ADD,&nbsp;connfd,&nbsp;&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(events[i].events&nbsp;&amp;&nbsp;EPOLLIN)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;(sockfd&nbsp;=&nbsp;events[i].data.fd)&nbsp;&lt;&nbsp;0)&nbsp;continue;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;(n&nbsp;=&nbsp;read(sockfd,&nbsp;line,&nbsp;MAXLINE))&nbsp;&lt;&nbsp;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(errno&nbsp;==&nbsp;ECONNRESET)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(sockfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events[i].data.fd&nbsp;=&nbsp;-1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#900112;mso-font-kerning:0pt\">\"readline&nbsp;error\"</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&lt;&lt;&nbsp;std::endl;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(n&nbsp;==&nbsp;0)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(sockfd);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events[i].data.fd&nbsp;=&nbsp;-1;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置用于写操作的文件描述符</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.data.fd&nbsp;=&nbsp;sockfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置用于注测的写操作事件</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.events&nbsp;=&nbsp;EPOLLOUT&nbsp;|&nbsp;EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">修改</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">sockfd</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">上要处理的事件为</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">EPOLLOUT<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(epfd,&nbsp;EPOLL_CTL_MOD,&nbsp;sockfd,&nbsp;&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(events[i].events&nbsp;&amp;&nbsp;EPOLLOUT)<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sockfd&nbsp;=&nbsp;events[i].data.fd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write(sockfd,&nbsp;line,&nbsp;n);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置用于读操作的文件描述符</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.data.fd&nbsp;=&nbsp;sockfd;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">设置用于注测的读操作事件</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.events&nbsp;=&nbsp;EPOLLIN&nbsp;|&nbsp;EPOLLET;<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">修改</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">sockfd</span><span style=\"font-size:14.0pt;font-family:宋体;mso-ascii-font-family:Consolas;\nmso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:\nConsolas;mso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">上要处理的事件为</span><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;\nmso-bidi-font-family:Consolas;color:#292220;mso-font-kerning:0pt\">EPOLIN<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(epfd,&nbsp;EPOLL_CTL_MOD,&nbsp;sockfd,&nbsp;&amp;ev);<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\"><o:p>&nbsp;</o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"text-align:left;mso-pagination:widow-orphan;\nmso-layout-grid-align:none;text-autospace:none\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Consolas&quot;,sans-serif;mso-bidi-font-family:\nConsolas;color:#292220;mso-font-kerning:0pt\">&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size:14.0pt;font-family:&quot;Arial&quot;,sans-serif;color:#FB0007;\nmso-font-kerning:0pt\">\n\n\n\n\n\n\n<!--[if gte mso 9]><xml>\n <o:OfficeDocumentSettings>\n  <o:AllowPNG/>\n </o:OfficeDocumentSettings>\n</xml><![endif]-->\n\n<!--[if gte mso 9]><xml>\n <w:WordDocument>\n  <w:View>Normal</w:View>\n  <w:Zoom>0</w:Zoom>\n  <w:TrackMoves/>\n  <w:TrackFormatting/>\n  <w:PunctuationKerning/>\n  <w:DrawingGridVerticalSpacing>10 磅</w:DrawingGridVerticalSpacing>\n  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>\n  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>\n  <w:ValidateAgainstSchemas/>\n  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>\n  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>\n  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>\n  <w:DoNotPromoteQF/>\n  <w:LidThemeOther>EN-US</w:LidThemeOther>\n  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>\n  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>\n  <w:Compatibility>\n   <w:SpaceForUL/>\n   <w:BalanceSingleByteDoubleByteWidth/>\n   <w:DoNotLeaveBackslashAlone/>\n   <w:ULTrailSpace/>\n   <w:DoNotExpandShiftReturn/>\n   <w:AdjustLineHeightInTable/>\n   <w:BreakWrappedTables/>\n   <w:SnapToGridInCell/>\n   <w:WrapTextWithPunct/>\n   <w:UseAsianBreakRules/>\n   <w:DontGrowAutofit/>\n   <w:SplitPgBreakAndParaMark/>\n   <w:EnableOpenTypeKerning/>\n   <w:DontFlipMirrorIndents/>\n   <w:OverrideTableStyleHps/>\n   <w:UseFELayout/>\n  </w:Compatibility>\n  <m:mathPr>\n   <m:mathFont m:val=\"Cambria Math\"/>\n   <m:brkBin m:val=\"before\"/>\n   <m:brkBinSub m:val=\"&#45;-\"/>\n   <m:smallFrac m:val=\"off\"/>\n   <m:dispDef/>\n   <m:lMargin m:val=\"0\"/>\n   <m:rMargin m:val=\"0\"/>\n   <m:defJc m:val=\"centerGroup\"/>\n   <m:wrapIndent m:val=\"1440\"/>\n   <m:intLim m:val=\"subSup\"/>\n   <m:naryLim m:val=\"undOvr\"/>\n  </m:mathPr></w:WordDocument>\n</xml><![endif]--><!--[if gte mso 9]><xml>\n <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"\n  DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"\n  LatentStyleCount=\"382\">\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"heading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index 9\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 7\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 8\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"toc 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"footer\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"index heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of figures\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"envelope return\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"footnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"line number\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"page number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote reference\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"endnote text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"table of authorities\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"macro\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"toa heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Bullet 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Number 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Closing\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Signature\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"List Continue 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Message Header\"/>\n  <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Salutation\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Date\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text First Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Heading\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Body Text Indent 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Block Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Hyperlink\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"FollowedHyperlink\"/>\n  <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>\n  <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Document Map\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Plain Text\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"E-mail Signature\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Top of Form\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Bottom of Form\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Normal (Web)\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Acronym\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Address\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Cite\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Code\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Definition\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Keyboard\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Preformatted\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Sample\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Typewriter\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"HTML Variable\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Normal Table\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"annotation subject\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"No List\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Outline List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Simple 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Classic 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Colorful 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Columns 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Grid 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table List 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table 3D effects 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Contemporary\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Elegant\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Professional\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Subtle 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Web 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Balloon Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"0\" Name=\"Table Grid\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Table Theme\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 2\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 3\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 4\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 5\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 7\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 8\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Note Level 9\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>\n  <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>\n  <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"\n   Name=\"List Paragraph\"/>\n  <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"\n   Name=\"Intense Quote\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"\n   Name=\"Subtle Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"\n   Name=\"Intense Emphasis\"/>\n  <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"\n   Name=\"Subtle Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"\n   Name=\"Intense Reference\"/>\n  <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>\n  <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>\n  <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"\n   UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>\n  <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"Grid Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"Grid Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"Grid Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 1\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 2\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 3\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 4\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 5\"/>\n  <w:LsdException Locked=\"false\" Priority=\"46\"\n   Name=\"List Table 1 Light Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"51\"\n   Name=\"List Table 6 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" Priority=\"52\"\n   Name=\"List Table 7 Colorful Accent 6\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Mention\"/>\n  <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"\n   Name=\"Smart Hyperlink\"/>\n </w:LatentStyles>\n</xml><![endif]-->\n\n<!--[if gte mso 10]>\n<style>\n /* Style Definitions */\ntable.MsoNormalTable\n\t{mso-style-name:普通表格;\n\tmso-tstyle-rowband-size:0;\n\tmso-tstyle-colband-size:0;\n\tmso-style-noshow:yes;\n\tmso-style-priority:99;\n\tmso-style-parent:\"\";\n\tmso-padding-alt:0cm 5.4pt 0cm 5.4pt;\n\tmso-para-margin:0cm;\n\tmso-para-margin-bottom:.0001pt;\n\tmso-pagination:widow-orphan;\n\tfont-size:12.0pt;\n\tfont-family:\"Cambria\",serif;\n\tmso-ascii-font-family:Cambria;\n\tmso-ascii-theme-font:minor-latin;\n\tmso-hansi-font-family:Cambria;\n\tmso-hansi-theme-font:minor-latin;\n\tmso-font-kerning:1.0pt;}\n</style>\n<![endif]-->\n\n\n\n<!--StartFragment-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!--EndFragment--></span></p><p class=\"MsoNormal\"><span style=\"color: rgb(41, 34, 32); font-family: Consolas, sans-serif; font-size: 14pt;\">}</span><br></p><p class=\"MsoNormal\"><span style=\"color: rgb(41, 34, 32); font-family: Consolas, sans-serif; font-size: 14pt;\"><br></span></p><p class=\"MsoNormal\"><span style=\"color: rgb(41, 34, 32); font-family: Consolas, sans-serif; font-size: 14pt;\"><br></span></p><p class=\"MsoNormal\"><span style=\"color: rgb(41, 34, 32); font-family: Consolas, sans-serif; font-size: 14pt;\"><br></span></p>\n\n<!--EndFragment-->"
    }
  ]
}